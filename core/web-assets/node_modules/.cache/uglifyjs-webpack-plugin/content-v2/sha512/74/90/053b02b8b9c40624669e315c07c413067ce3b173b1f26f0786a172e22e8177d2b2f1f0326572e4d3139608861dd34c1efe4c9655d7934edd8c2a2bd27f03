{"map":"{\"version\":3,\"sources\":[\"onms-date-formatter.min.js\"],\"names\":[\"root\",\"factory\",\"exports\",\"module\",\"define\",\"amd\",\"a\",\"i\",\"window\",\"push\",\"10\",\"__webpack_require__\",\"console\",\"log\",\"jQuery\",\"105\",\"obj\",\"_filter\",\"__esModule\",\"default\",\"_context\",\"angular\",\"moment\",\"OnmsDateFormatter\",\"prototype\",\"init\",\"readyCallback\",\"self\",\"this\",\"defaultFormat\",\"_onmsZoneId\",\"undefined\",\"xhr\",\"XMLHttpRequest\",\"onreadystatechange\",\"readyState\",\"DONE\",\"status\",\"config\",\"JSON\",\"parse\",\"responseText\",\"datetimeformatConfig\",\"datetimeformat\",\"_onmsDateTimeFormat\",\"zoneId\",\"statusText\",\"e\",\"open\",\"setRequestHeader\",\"send\",\"assertInitialized\",\"Error\",\"getZoneId\",\"_zoneId\",\"warn\",\"tz\",\"guess\",\"format\",\"date\",\"formatJavaDTF\",\"jest\",\"f\",\"_onmsFormatter\",\"$interval\",\"$q\",\"deferred\",\"defer\",\"count\",\"resolve\",\"cancel\",\"raw\",\"formatter\",\"promise\",\"then\",\"call\",\"$filter\",\"DateFormatterService\",\"input\",\"ifEmpty\",\"ret\",\"directive\",\"dateFormatterService\",\"restrict\",\"compile\",\"element\",\"text\",\"formatted\",\"replaceWith\",\"catch\",\"error\",\"3\",\"5\"],\"mappings\":\"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\"}","code":"!function(t,o){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=o();else if(\"function\"==typeof define&&define.amd)define([],o);else{var e=o();for(var n in e)(\"object\"==typeof exports?exports:t)[n]=e[n]}}(window,function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[40,2,8,25],{10:function(t,exports,o){\"use strict\";console.log(\"init: bootstrap-js\");var jQuery=o(5);o(27),t.exports=jQuery},105:function(t,exports,o){\"use strict\";var e,n=(e=o(20))&&e.__esModule?e:{default:e};var r,angular=o(3),i=o(106);function a(){}o(203),a.prototype.init=function(o){var e=this,n=\"yyyy-MM-dd'T'HH:mm:ssxxx\";window._onmsZoneId=void 0;var r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(r.readyState===XMLHttpRequest.DONE){if(200===r.status){var t=JSON.parse(r.responseText);t.datetimeformatConfig&&t.datetimeformatConfig.datetimeformat?(window._onmsDateTimeFormat=t.datetimeformatConfig.datetimeformat||n,window._onmsZoneId=t.datetimeformatConfig.zoneId):(console.log(\"Error: datetimeformatConfig property not found:\",t),window._onmsDateTimeFormat=n)}else console.log(\"Error: failed to request format info: \"+r.status+\" \"+r.statusText),window._onmsDateTimeFormat=n;o(e,r.status)}}catch(t){console.log(\"Error: failed to request format info: \",t),window._onmsDateTimeFormat=n,o(e,r.status)}},r.open(\"GET\",\"rest/info\"),r.setRequestHeader(\"Accept\",\"application/json\"),r.send()},a.prototype.assertInitialized=function(){if(!window._onmsDateTimeFormat)throw console.log(\"OnmsDateFormatter.init() must complete before using!\"),new Error(\"OnmsDateFormatter.init() must complete before using!\")},a.prototype.getZoneId=function(){return this.assertInitialized(),this._zoneId||(window._onmsZoneId?this._zoneId=window._onmsZoneId:(console.warn(\"No zone ID specified from the server; guessing based on browser.\"),this._zoneId=i.tz.guess())),this._zoneId},a.prototype.format=function(t){if(this.assertInitialized(),null==t)return t;var o=this.getZoneId();return i.tz(t,o).formatJavaDTF(window._onmsDateTimeFormat)},function(){if(\"undefined\"==typeof jest){var t=new a;t.init(function(){window._onmsFormatter=t})}else console.log(\"Running in a test environment. Skipping automatic initialization.\")}(),window.angular?(angular.module(\"onmsDateFormatter\",[\"ng\"]).factory(\"DateFormatterService\",[\"$interval\",\"$q\",function(t,o){console.log(\"Initializing DateFormatterService\");var e=o.defer(),n=0,r=t(function(){window._onmsFormatter&&(console.log(\"Global formatter found: \"+window._onmsDateTimeFormat),e.resolve(window._onmsFormatter),t.cancel(r)),300<n++&&(console.log(\"DateFormatterService: giving up waiting for global formatter.\"),t.cancel(r))},100);return{raw:window._onmsFormatter,formatter:e.promise,format:function(o){return e.promise.then(function(t){return t.format(o)})}}}]),(0,n.default)(r=angular.module(\"onmsDateFormatter\")).call(r,\"onmsDate\",[\"$filter\",\"DateFormatterService\",function(n,t){return function(t,o){var e;return null!=(e=window._onmsFormatter?window._onmsFormatter.format(t):n(\"date\")(t,\"yyyy-MM-ddTHH:mm:ss.sssZ\"))?e:o}}]),angular.module(\"onmsDateFormatter\").directive(\"onmsDate\",[\"DateFormatterService\",function(t){return{restrict:\"E\",compile:function(o){t.format(o.text()).then(function(t){o.replaceWith(t)}).catch(function(t){console.error(\"Failed to format \"+o.text(),t)})}}}])):console.log(\"Angular not found.  Not initializing OnmsDateFormatter Angular components.\"),t.exports=a},3:function(t,exports,o){\"use strict\";var angular=o(26);o(37),o(38),o(39),o(40),o(36),o(41),o(42),o(43),o(44),o(10),o(45),o(46),console.log(\"init: angular-js\"),t.exports=window.angular=angular},5:function(t,exports,o){\"use strict\";console.log(\"init: jquery-js\");var jQuery=o(7);t.exports=jQuery}},[[105,0]]])});","extractedComments":[]}