{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html"],"names":["root","factory","exports","module","define","amd","a","i","window","angular","require","console","log","jQuery","permissionDeniedTemplate","$q","$rootScope","responseError","rejection","status","config","url","error","headers","$emit","reject","$httpProvider","defaults","common","interceptors","push","run","$uibModal","$on","baseTags","document","getElementsByTagName","length","href","location","warn","open","templateUrl","controller","$scope","$uibModalInstance","reload","dismiss","size","backdrop","keyboard","path","c","put"],"mappings":"CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,SACb,GAAqB,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,OACP,CACJ,IAAIK,EAAIL,IACR,IAAI,IAAIM,KAAKD,GAAuB,iBAAZJ,QAAuBA,QAAUF,GAAMO,GAAKD,EAAEC,IAPxE,CASGC,OAAQ,WACX,O,sGCTA,IAAMC,QAAUC,EAAQ,IACxBA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IAGRA,EAAQ,IACRA,EAAQ,IAERA,EAAQ,IACRA,EAAQ,IAGRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IAERC,QAAQC,IAAI,oBAEZT,EAAOD,QAAUM,OAAM,QAAcC,S,oCCtBrCE,QAAQC,IAAI,mBAEZ,IAAMC,OAASH,EAAQ,GACvBP,EAAOD,QAAUW,Q,oFCDjB,IAAMJ,QAAUC,EAAQ,GAElBI,EAA4BJ,EAAQ,IAE1CD,QAAQN,OAAO,YAAa,CAAC,iBACxBF,QAAQ,qBAAqB,CAAC,KAAM,aAAc,SAASc,EAAIC,GAC5D,MAAO,CACHC,cAAe,SAAUC,GACS,QAAL,MAArBA,EAAUC,QACND,EAAUE,QAAUF,EAAUE,OAAOC,OACjC,eAAAH,EAAUE,OAAOC,KAAjB,OAAgC,WAC7B,eAAAH,EAAUE,OAAOC,KAAjB,OAAgC,cAEvCV,QAAQW,MAAM,iBAAkBJ,EAAWA,EAAUK,SACrDP,EAAWQ,MAAM,kBAMzB,OAHyB,MAArBN,EAAUC,QACVH,EAAWQ,MAAM,oBAEdT,EAAGU,OAAOP,QAI5BE,OAAO,CAAC,gBACL,SAAUM,GACNA,EAAcC,SAASJ,QAAQK,OAAO,oBAAsB,iBAC5DF,EAAcG,aAAaC,KAAK,yBAGvCC,IAAI,CAAC,aAAc,YAAa,SAASf,EAAYgB,GAClDhB,EAAWiB,IAAI,gBAAiB,WAC5B,IAAIC,EAAWC,SAASC,qBAAqB,QACzCF,GAA8B,EAAlBA,EAASG,QAAcH,EAAS,GAAGI,KAC/C9B,OAAO+B,SAASD,KAAOJ,EAAS,GAAGI,KAAO,iCAE1C3B,QAAQ6B,KAAK,kFAIrBxB,EAAWiB,IAAI,mBAAoB,WAC/BD,EAAUS,KAAK,CACXC,YAAa5B,EACb6B,WAAY,CAAF,6BAAE,SAASC,OAAQC,GACzBD,OAAOE,OAAS,WACZD,EAAkBE,UAClBvC,OAAO+B,SAASO,YAGxBE,KAAM,GACNC,SAAU,SACVC,UAAY,SAM5B/C,EAAOD,QAAUO,S,mCC3DjBE,QAAQC,IAAI,sBAEZ,IAAMC,OAASH,EAAQ,GACvBA,EAAQ,IAERP,EAAOD,QAAUW,Q,wBCLjB,IAAIsC,EAAO,mHAEX3C,OAAOC,QAAQN,OAAO,MAAM4B,IAAI,CAAC,iBAAkB,SAASqB,GAAKA,EAAEC,IAAIF,EAD5D,ocAEXhD,EAAOD,QAAUiD,I","file":"onms-http.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js'); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nmodule.exports = jQuery;\n","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                window.location.href = baseTags[0].href + 'login.jsp?session_expired=true';\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","var path = '/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nvar html = \"<div class=modal-header> <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3> </div> <div class=modal-body> <h5> You are not allowed to perform the requested action. </h5> <p class=text-muted> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class=modal-footer> <button class=\\\"btn btn-primary\\\" ng-click=reload()>Reload</button> </div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;"],"sourceRoot":""}