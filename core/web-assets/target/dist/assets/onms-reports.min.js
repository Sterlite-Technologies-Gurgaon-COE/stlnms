!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(window,function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[52,2,8,25,41,48,51,54,71],{10:function(e,exports,t){"use strict";console.log("init: bootstrap-js");var jQuery=t(5);t(27),e.exports=jQuery},100:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,' <span ng-repeat="value in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, value)" style=margin-bottom:3px;margin-right:3px> {{value}}&nbsp;<i class="fa fa-close"/> </button> </span> <span style=line-height:24px ng-hide=editing> <a href style=text-decoration:none ng-click=edit()><i class="fa fa-edit fa-lg"/></a>&nbsp; </span> <span ng-show=editing class=text-nowrap> <input type={{valueType}} ng-keyup=onKeyup($event) ng-model=newValue /> <a href style=text-decoration:none ng-click="add(values, newValue)"><i class="fa fa-plus fa-lg"/></a> <a href style=text-decoration:none ng-click=unedit()><i class="fa fa-close fa-lg"/></a> </span> <span ng-transclude/> ')}]),e.exports=t},101:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,' <span ng-repeat="(key,value) in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, key)" style=margin-bottom:3px;margin-right:3px> <b>{{key}}:</b> {{value}}&nbsp;<i class="fa fa-close"/> </button> </span> <span style=line-height:24px ng-hide=editing> <a href style=text-decoration:none ng-click=edit()><i class="fa fa-edit fa-lg"/></a>&nbsp; </span> <span ng-show=editing class=text-nowrap> <input type={{keyType}} ng-keyup=onKeyup($event) ng-model=newKey /> <input type={{valueType}} ng-keyup=onKeyup($event) ng-model=newValue /> <a href style=text-decoration:none ng-click="add(values, newKey, newValue)"><i class="fa fa-plus fa-lg"/></a> <a href style=text-decoration:none ng-click=unedit()><i class="fa fa-close fa-lg"/></a> </span> <span ng-transclude/> ')}]),e.exports=t},120:function(e,exports,t){"use strict";t(124),t(24),t(65),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=o(t(6)),r=o(t(34)),n=o(t(356)),i=o(t(20)),s=o(t(79)),l=o(t(169)),d=o(t(170)),u=o(t(88)),c=o(t(125)),p=o(t(171)),f=o(t(234)),m=o(t(357)),h=o(t(358)),v=o(t(360)),g=o(t(361)),y=o(t(235)),b=o(t(589)),w=o(t(2));function o(e){return e&&e.__esModule?e:{default:e}}function k(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}t(106);var E=function(){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=void 0===e?{}:e;if(this.clockMode=t.clockMode||l.default.FULL_CLOCK_SYSTEM,this.clockMode!==l.default.HALF_CLOCK_SYSTEM&&this.clockMode!==l.default.FULL_CLOCK_SYSTEM)throw new Error("Provided clock mode not supported");this.type=t.type||u.default.DAILY,this.interval=void 0!==t.interval?t.interval:0,this.at=t.at||new c.default({hours:0,minutes:0}),this.from=t.from||new c.default({hours:0,minutes:0}),this.to=t.to||new c.default({hours:23,minutes:0}),this.daysOfWeek=t.daysOfWeek||{},this.dayOfMonth=t.dayOfMonth||"1",this.weekOfMonth=t.dayOfMonth||"1",this.dayOfWeek=t.dayOfWeek||String(d.default.Sunday.id),this.dayOfMonthToggle=t.dayOfMonthToggle||"dayOfMonth",this.cronExpression=t.cronExpression||"0 0/5 * * * ?",this.timezone=t.timezone||void 0,this.showDebugOptions=t.showDebugOptions||!1,this.at instanceof c.default||(this.at=new c.default(this.at)),this.from instanceof c.default||(this.from=new c.default(this.from)),this.to instanceof c.default||(this.to=new c.default(this.to)),this.at.convert(this.clockMode),this.from.convert(this.clockMode),this.to.convert(this.clockMode),this.from.options.disableMinutes=!0,this.to.options.disableMinutes=!0,this.daysOfWeek instanceof f.default||(this.daysOfWeek=new f.default(this.daysOfWeek)),this.interval=String(this.interval)}return function(e,t,o){t&&k(e.prototype,t),o&&k(e,o)}(o,[{key:"getSelectedWeekdays",value:function(){var e,t;return(0,s.default)(e=(0,i.default)(t=(0,n.default)(this.daysOfWeek)).call(t,function(e){return!0===this.daysOfWeek[e]},this)).call(e,function(e){return e.substr(0,3).toUpperCase()})}},{key:"getCronExpression",value:function(){if(this.validate(),this.type===u.default.CUSTOM)return this.cronExpression;var e=new p.default({seconds:0,minutes:0,hours:0,dayOfMonth:"*",month:"*",dayOfWeek:"?"});if(this.type===u.default.DAILY||this.type===u.default.DAYS_PER_WEEK){var t=this.interval,o=new c.default(this.at,l.default.FULL_CLOCK_SYSTEM),r=new c.default(this.from,l.default.FULL_CLOCK_SYSTEM),a=new c.default(this.to,l.default.FULL_CLOCK_SYSTEM);if("0"===t)e.hours=o.hours,e.minutes=o.minutes;else if(t===y.default.EVERY_HOUR){var n=r.hours===a.hours?r.hours:r.hours+"-"+a.hours;e.hours=n,e.minutes=0}else if(t%60==0){var i=r.hours+"-"+a.hours;e.hours=i+"/"+t/60,e.minutes=0}else r.hours===a.hours?(e.hours=r.hours,e.minutes=0):(e.hours=r.hours+"-"+(a.hours-1),e.minutes="0/"+t)}if(this.type===u.default.DAYS_PER_WEEK&&(e.dayOfWeek=this.getSelectedWeekdays().join(",")),this.type===u.default.DAYS_PER_MONTH){var s=new c.default(this.at,l.default.FULL_CLOCK_SYSTEM);e.minutes=s.minutes,e.hours=s.hours,"dayOfMonth"===this.dayOfMonthToggle?e.dayOfMonth=this.dayOfMonth:e.dayOfWeek=this.dayOfWeek+("L"!==this.weekOfMonth?"#":"")+this.weekOfMonth}return(this.type===u.default.DAYS_PER_WEEK||this.type===u.default.DAYS_PER_MONTH&&"?"!==e.dayOfWeek)&&(e.dayOfMonth="?"),e.asCronExpression()}},{key:"validate",value:function(){if(this.type===u.default.CUSTOM){var e,t=(0,r.default)(e=this.cronExpression).call(e).split(" ");if(t.length<6||7<t.length)throw new g.default("cronExpression","Invalid cron expression")}if(this.type===u.default.DAYS_PER_WEEK&&this.type===u.default.DAYS_PER_WEEK&&0===this.getSelectedWeekdays().length)throw new g.default("dayOfWeek","Please select at least one day");if((this.type===u.default.DAILY||this.type===u.default.DAYS_PER_WEEK)&&"0"!==this.interval&&this.to.isBefore(this.from))throw new g.default("to","To time must be equal or after from time")}},{key:"getServerZone",value:function(){return this.serverZone||window._onmsZoneId}},{key:"getBrowserZone",value:function(){return w.default.tz.guess()}},{key:"getNextExecution",value:function(e){var t=b.default.parseExpression(this.getCronExpression(),{tz:this.timezone}).next().toDate();return w.default.tz(t,e||this.timezone||w.default.tz.guess())}},{key:"isValid",value:function(){return void 0===this.errors||0===(0,n.default)(this.errors).length}}],[{key:"createFrom",value:function(e){for(var t=[new h.default,new v.default,new m.default],o=0;o<t.length;o++){if(!0===t[o].canParse(e))return t[o].parse(e)}return(new m.default).parse(e)}}]),o}();exports.default=E},125:function(e,exports,t){"use strict";t(60),t(61),t(73),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o=l(t(135)),r=l(t(136)),a=l(t(6)),n=l(t(32)),i=l(t(62)),s=l(t(169));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var c=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var o=e||{};this.hours=void 0===o.hours?12:(0,i.default)(o.hours,10),this.minutes=void 0===o.minutes?0:(0,i.default)(o.minutes,10),this.suffix=o.suffix||null,this.mode=null===this.suffix?s.default.FULL_CLOCK_SYSTEM:s.default.HALF_CLOCK_SYSTEM,this.mode===s.default.FULL_CLOCK_SYSTEM&&(this.suffix=null),this.options=o.options||{},this.verify(),t!==s.default.FULL_CLOCK_SYSTEM&&t!==s.default.HALF_CLOCK_SYSTEM||this.convert(t)}return function(e,t,o){t&&u(e.prototype,t),o&&u(e,o)}(r,[{key:"verify",value:function(){if(this.mode===s.default.HALF_CLOCK_SYSTEM){if("am"!==this.suffix&&"pm"!==this.suffix)throw new Error("Clock suffix, must be either 'am' or 'pm', but was '"+this.suffix+"'");if(this.hours<=0||12<this.hours)throw new Error("Hours must be between [1-12] but was "+this.hours)}if(this.mode===s.default.FULL_CLOCK_SYSTEM&&(this.hours<0||23<this.hours))throw new Error("Hours must be between [0-23] but was "+this.hours);if(this.minutes<0||59<this.minutes)throw new Error("Minutes must be between [0-59] but was "+this.minutes)}},{key:"getMinutesOfDay",value:function(){var e=new r(this,s.default.FULL_CLOCK_SYSTEM);return 60*e.hours+e.minutes}},{key:"isBefore",value:function(e){if(!(e instanceof r))throw new Error("Other object must be of type Time, but was of type "+d(e));return this.getMinutesOfDay()-e.getMinutesOfDay()<0}},{key:"convert",value:function(e){if(e!==s.default.FULL_CLOCK_SYSTEM&&e!==s.default.HALF_CLOCK_SYSTEM)throw new Error("Unknown Clock Mode '"+e+"'");return this.mode!==e&&(e===s.default.FULL_CLOCK_SYSTEM&&(12===this.hours&&"am"===this.suffix&&(this.hours=0),"pm"===this.suffix&&1<=this.hours&&this.hours<12&&(this.hours+=12),this.suffix=null),e===s.default.HALF_CLOCK_SYSTEM&&(0===this.hours?(this.hours=12,this.suffix="am"):1<=this.hours&&this.hours<=11?this.suffix="am":12===this.hours?this.suffix="pm":12<this.hours&&(this.hours-=12,this.suffix="pm")),this.mode=e),this}},{key:"toString",value:function(){var e,t;return(0,n.default)(e="00"+this.hours).call(e,-2)+":"+(0,n.default)(t="00"+this.minutes).call(t,-2)+(this.mode===s.default.HALF_CLOCK_SYSTEM?" "+this.suffix:"")}}]),r}();exports.default=c},15:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=modal-header> <h3><i class="fa fa-exclamation-triangle text-warning"></i> Permission Denied</h3> </div> <div class=modal-body> <h5> You are not allowed to perform the requested action. </h5> <p class=text-muted> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class=modal-footer> <button class="btn btn-primary" ng-click=reload()>Reload</button> </div>')}]),e.exports=t},158:function(e,exports,t){"use strict";var angular=t(3),o=t(159);angular.module("onms.pagination",["ui.bootstrap"]).directive("pagination",function(){return{restrict:"E",scope:{model:"=model",position:"@position",onChangeCallback:"=onChange"},link:function(e,t,o){if(void 0===e.model)throw new Error("No model defined.");if(void 0===e.model.page)throw new Error("No attribute model.page defined");if(void 0===e.model.totalItems)throw new Error("No attribute model.totalItems defined");if(void 0===e.model.limit)throw new Error("No attribute model.limit defined");var r=e.model.page;e.onChange=function(){r!==e.model.page&&(r=e.model.page,e.onChangeCallback&&e.onChangeCallback())}},transclude:!0,templateUrl:o}})},159:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-pagination/pagination-toolbar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div> <div ng-transclude ng-if="position === \'bottom\'"></div> <div class=row> <div class="col-md-4 col-lg-6 col-sm-12" ng-show="(model.totalItems / model.limit) > 1"> <div style=margin:0 uib-pagination ng-model=model.page total-items=model.totalItems items-per-page=model.limit rotate=true boundary-links=true max-size=5 boundary-link-numbers=true ng-change=onChange()> </div> </div> <div class="col-md-8 col-lg-6 col-sm-12 mt-4"> <pre class=pull-right ng-show="model.totalItems == 0">No items found.</pre> <pre class=pull-right ng-show="model.totalItems > 0">{{model.totalItems / model.page === 1\n            ? "Item " + (model.offset + 1)\n            : "Items " + ((model.page - 1) * model.limit + 1) + " - " + (model.page * model.limit > model.totalItems ? model.totalItems : model.page * model.limit)}} ({{model.totalItems}} total)</pre> </div> </div> <div ng-transclude ng-if="position === \'top\' || position === undefined"></div> </div>')}]),e.exports=t},169:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o={HALF_CLOCK_SYSTEM:"AM_PM",FULL_CLOCK_SYSTEM:"24_HOURS"};exports.default=o},170:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o,a=(o=t(6))&&o.__esModule?o:{default:o};function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var n=function(){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.id=e,this.label=t}return function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(o,[{key:"shortcut",get:function(){return this.label.substr(0,3).toUpperCase()}}]),o}(),i=new n(1,"Sunday"),s=new n(2,"Monday"),l=new n(3,"Tuesday"),d=new n(4,"Wednesday"),u=new n(5,"Thursday"),c=new n(6,"Friday"),p=new n(7,"Saturday"),f={all:[i,s,l,d,u,c,p],Weekdays:n,Sunday:i,Monday:s,Tuesday:l,Wednesday:d,Thursday:u,Friday:c,Saturday:p};exports.default=f},171:function(e,exports,t){"use strict";t(124),t(24),t(65),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=o(t(6)),n=o(t(34)),i=o(t(11)),s=o(t(62));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var r=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=void 0!==e?e:{};this.seconds=void 0!==t.seconds?t.seconds:{},this.minutes=void 0!==t.minutes?t.minutes:{},this.hours=void 0!==t.hours?t.hours:{},this.dayOfMonth=void 0!==t.dayOfMonth?t.dayOfMonth:{},this.month=void 0!==t.month?t.month:{},this.dayOfWeek=void 0!==t.dayOfWeek?t.dayOfWeek:{}}return function(e,t,o){t&&l(e.prototype,t),o&&l(e,o)}(r,[{key:"asCronExpression",value:function(){return[this.seconds,this.minutes,this.hours,this.dayOfMonth,this.month,this.dayOfWeek].join(" ")}},{key:"isConcreteMinutes",value:function(){return!this.isMinutesInterval()&&!this.isMinutesRange()&&!this.__contains(this.minutes,",")&&0<=(0,s.default)(this.minutes,10)}},{key:"isMinutesInterval",value:function(){return this.__contains(this.minutes,"/")}},{key:"isMinutesRange",value:function(){return this.__contains(this.minutes,"-")}},{key:"isConcreteHours",value:function(){return!this.isHoursInterval()&&!this.isHoursRange()&&!this.__contains(this.hours,",")&&0<=(0,s.default)(this.hours,10)}},{key:"isHoursRange",value:function(){return this.__contains(this.hours,"-")}},{key:"isHoursInterval",value:function(){return this.__contains(this.hours,"/")}},{key:"__contains",value:function(e,t){return"string"==typeof e&&1<=(0,i.default)(e).call(e,t)}},{key:"interval",get:function(){var e;if(this.isMinutesInterval())return this.minutes.substr((0,i.default)(e=this.minutes).call(e,"/")+1);if(this.isHoursInterval()){var t,o=this.hours.substr((0,i.default)(t=this.hours).call(t,"/")+1);return String(60*(0,s.default)(o,10))}return 1<=this.isHoursRange()?"60":"0"}}],[{key:"createFrom",value:function(e){if("string"!=typeof e||""===e||""===(0,n.default)(e).call(e))throw new Error("Cannot parse provided expression. Please make sure it is a valid cron expression");var t=(0,n.default)(e).call(e).split(" ");if(t.length<6||7<t.length)throw new Error("Invalid Cron Expression. Expected field count is 6 or 7, but got "+t.length);var o=new r({seconds:t[0],minutes:t[1],hours:t[2],dayOfMonth:t[3],month:t[4],dayOfWeek:t[5]});return 7===t.length&&(o.year=t[6]),o}}]),r}();exports.default=r},18:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o,a=(o=t(6))&&o.__esModule?o:{default:o};function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,null,[{key:"getBaseHref",value:function(){var e=document.getElementsByTagName("base")[0];return e?e.href:""}},{key:"setLocation",value:function(e){window&&window.location&&(window.location.href=t.getBaseHref()+e)}},{key:"toggle",value:function(e,t){var o=document.getElementsByName(t);for(var r in o)o.hasOwnProperty(r)&&(o[r].checked=e)}}]),t}();exports.default=n},226:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/popover.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="popover px-2 py-2" ng-class="[vm.$attrs.placement || vm.defaults.placement, \'bs-popover-\' + (vm.$attrs.placement || vm.defaults.placement), vm.$attrs.popoverClass || vm.defaults.popoverClass, {fade: vm.animation}]"> <div class="popover-arrow arrow" style=top:50px></div> <h3 class=popover-title ng-bind-html=vm.$attrs.title></h3> <div class=popover-content> <p ng-bind-html=vm.$attrs.message></p> <div class=row> <div class=col-sm-6 ng-if="!vm.$attrs.hideConfirmButton && !vm.defaults.hideConfirmButton" ng-class="{\'col-sm-offset-3\': vm.$attrs.hideCancelButton || vm.defaults.hideCancelButton}"> <button class="btn btn-block confirm-button" ng-class="\'btn-\' + (vm.$attrs.confirmButtonType || vm.defaults.confirmButtonType)" ng-click="vm.onConfirm(); vm.hidePopover()" ng-bind-html="vm.$attrs.confirmText || vm.defaults.confirmText"> </button> </div> <div class=col-sm-6 ng-if="!vm.$attrs.hideCancelButton && !vm.defaults.hideCancelButton" ng-class="{\'col-sm-offset-3\': vm.$attrs.hideConfirmButton || vm.defaults.hideConfirmButton}"> <button class="btn btn-block cancel-button" ng-class="\'btn-\' + (vm.$attrs.cancelButtonType || vm.defaults.cancelButtonType)" ng-click="vm.onCancel(); vm.hidePopover()" ng-bind-html="vm.$attrs.cancelText || vm.defaults.cancelText"> </button> </div> </div> </div> </div> ')}]),e.exports=t},234:function(e,exports,t){"use strict";t(24),t(65),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=o(t(6)),i=o(t(584)),s=o(t(8)),l=o(t(231)),d=o(t(170));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var n=function(){function n(e){var t,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r={};if((0,l.default)(e)){var a={};(0,s.default)(e).call(e,function(e){e instanceof d.default.Weekdays?a[e.label]=!0:a[e]=!0}),r=a}else void 0!==e&&(r=e);(0,s.default)(t=(0,i.default)(d.default.all)).call(t,function(e){!1===r.hasOwnProperty(e.label)?o[e.label]=!1:o[e.label]=r[e.label]&&!0},this)}return function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(n,[{key:"getSelectedWeekdays",value:function(){var e,t=this,o=[];return(0,s.default)(e=(0,i.default)(d.default.all)).call(e,function(e){!0===t[e.label]&&o.push(e)}),o}}],[{key:"createFrom",value:function(e){var t=e.split(","),o=(0,i.default)(d.default.all),r=[];return(0,s.default)(t).call(t,function(e){for(var t=0;t<o.length;t++)e===o[t].shortcut&&r.push(o[t])}),new n(r)}}]),n}();exports.default=n},235:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o={all:["180","120","60","30","15","10","5"],EVERY_3_HOURS:"180",EVERY_2_HOURS:"120",EVERY_HOUR:"60",EVERY_30_MINUTES:"30",EVERY_15_MINUTES:"15",EVERY_10_MINUTES:"10",EVERY_5_MINUTES:"5",Hours:["180","120","60"],Minutes:["30","15","10","5"]};exports.default=o},3:function(e,exports,t){"use strict";var angular=t(26);t(37),t(38),t(39),t(40),t(36),t(41),t(42),t(43),t(44),t(10),t(45),t(46),console.log("init: angular-js"),e.exports=window.angular=angular},357:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=n(t(6)),o=n(t(88)),r=n(t(120));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,o){t&&i(e.prototype,t),o&&i(e,o)}(e,[{key:"canParse",value:function(e){return!0}},{key:"parse",value:function(e){return new r.default({type:o.default.CUSTOM,cronExpression:e})}}]),e}();exports.default=s},358:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=o(t(6)),n=o(t(62)),s=o(t(11)),i=o(t(88)),l=o(t(125)),d=o(t(359)),u=o(t(171)),c=o(t(234)),p=o(t(120)),f=o(t(235));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(e,[{key:"canParse",value:function(e){var t,o=u.default.createFrom(e),r=c.default.createFrom(o.dayOfWeek),a=void 0===o.year&&"0"===o.seconds&&(o.isConcreteMinutes()||o.isMinutesInterval()&&0===(0,s.default)(t=o.minutes).call(t,"0"))&&(o.isConcreteHours()||o.isHoursInterval()||o.isHoursRange())&&"*"===o.month&&("*"===o.dayOfMonth&&"?"===o.dayOfWeek||"?"===o.dayOfMonth&&0<r.getSelectedWeekdays().length);if(a){if(o.isMinutesInterval()){var n=f.default.Minutes;return 0<=(0,s.default)(n).call(n,o.interval)}if(o.isHoursInterval()){var i=f.default.Hours;return 0<=(0,s.default)(i).call(i,o.interval)}return!0}return!1}},{key:"parse",value:function(e){var t=u.default.createFrom(e),o=new p.default({type:i.default.DAILY});if(o.interval=t.interval,"0"===o.interval)o.at=new l.default({hours:t.hours,minutes:t.minutes});else{var r=new d.default(t.hours);o.interval%60!=0&&t.isHoursRange()&&(r.end=(0,n.default)(r.end,10)+1),o.from=new l.default({hours:r.start,minutes:0}),o.to=new l.default({hours:r.end,minutes:0})}var a=c.default.createFrom(t.dayOfWeek);return 0<a.getSelectedWeekdays().length&&(o.type=i.default.DAYS_PER_WEEK,o.daysOfWeek=a),o}}]),e}();exports.default=m},359:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o,n=(o=t(11))&&o.__esModule?o:{default:o};exports.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=(0,n.default)(t).call(t,"/"),r=(0,n.default)(t).call(t,"-"),a=t.substr(0,-1===o?t.length:o);this.start=a.substr(0,-1===r?a.length:r),this.end=-1===r?this.start:a.substr(r+1)}},360:function(e,exports,t){"use strict";t(303),t(24),t(118),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=o(t(6)),i=o(t(62)),s=o(t(11)),r=o(t(88)),n=o(t(125)),l=o(t(171)),d=o(t(120));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regExp=new RegExp("[1-7]#[1,2,3]|L")}return function(e,t,o){t&&u(e.prototype,t),o&&u(e,o)}(e,[{key:"canParse",value:function(e){var t,o,r,a=l.default.createFrom(e),n=void 0===a.year&&"0"===a.seconds&&a.isConcreteMinutes()&&a.isConcreteHours()&&"*"===a.month&&-1===(0,s.default)(t=a.dayOfMonth).call(t,",")&&-1===(0,s.default)(o=a.dayOfMonth).call(o,"-")&&-1===(0,s.default)(r=a.dayOfMonth).call(r,"/")&&(1<=(0,i.default)(a.dayOfMonth,10)&&(0,i.default)(a.dayOfMonth,10)<=31||"L"===a.dayOfMonth&&"?"===a.dayOfWeek||"?"===a.dayOfMonth&&this.regExp.test(a.dayOfWeek));return n}},{key:"parse",value:function(e){var t=l.default.createFrom(e),o=new d.default({type:r.default.DAYS_PER_MONTH,at:new n.default({hours:t.hours,minutes:t.minutes})});return"?"===t.dayOfMonth?o.dayOfMonthToggle="dayOfWeek":o.dayOfMonthToggle="dayOfMonth","dayOfMonth"===o.dayOfMonthToggle?o.dayOfMonth=t.dayOfMonth:(o.weekOfMonth=t.dayOfWeek.substr(-1),o.dayOfWeek=t.dayOfWeek.substr(0,1)),o}}]),e}();exports.default=c},361:function(e,exports,t){"use strict";t(60),t(61),t(16),t(73),t(118),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o=p(t(135)),r=p(t(136)),a=p(t(362)),n=p(t(363)),i=p(t(53)),s=p(t(364)),l=p(t(11)),d=p(t(365)),u=p(t(366)),c=p(t(85));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e})(e)}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){var o="function"==typeof n.default?new n.default:void 0;return(h=function(e){if(null===e||!function(e){var t;return-1!==(0,l.default)(t=Function.toString.call(e)).call(t,"[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(e))return o.get(e);o.set(e,t)}function t(){return v(e,arguments,y(this).constructor)}return t.prototype=(0,a.default)(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),g(t,e)})(e)}function v(e,t,o){return(v=function(){if("undefined"==typeof Reflect||!s.default)return!1;if(s.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,s.default)(Date,[],function(){})),!0}catch(e){return!1}}()?s.default:function(e,t,o){var r=[null];r.push.apply(r,t);var a=new((0,i.default)(Function).apply(e,r));return o&&g(a,o.prototype),a}).apply(null,arguments)}function g(e,t){return(g=u.default||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=u.default?d.default:function(e){return e.__proto__||(0,d.default)(e)})(e)}var b=function(){function s(){var e,t,o,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"entity";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var a=arguments.length,n=new Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(o=m(this,(e=y(s)).call.apply(e,(0,c.default)(t=[this]).call(t,n)))).context=r,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,h(Error)),s}();exports.default=b},368:function(e,exports,t){"use strict";var o,a=(o=t(53))&&o.__esModule?o:{default:o};t(599),t(5),t(600),t(601);var angular=t(3),n=t(369);angular.module("onms.datetimepicker",["ui.bootstrap"]).directive("datetimepicker",["$timeout",function(r){return{restrict:"E",templateUrl:n,scope:{id:"@?id",format:"<?format",sideBySide:"@?expand",inline:"@?inline",locale:"<?locale",date:"=?ngModel",calendarWeeks:"@?calendarWeeks",maxDate:"=?maxDate",options:"=?options",onStateChange:"&?onStateChange"},link:function(o,e,t){o.id?o.elementId=o.id:(o.id=angular.element('[data-toggle="datetimepicker"]').length,o.elementId="datetimepicker-"+o.id),o.onStateChange=o.onStateChange||function(e){},o.options=o.options||{},o.options.sideBySide="true"===o.sideBySide||!1,o.options.inline="true"===o.inline||!1,o.options.calendarWeeks="true"===o.calendarWeeks||!1,o.options.format=o.options.format||"YYYY-MM-DD HH:mm",o.locale&&(o.options.locale=o.locale),o.date&&(o.options.defaultDate=o.date),o.maxDate&&(o.options.maxDate=o.maxDate),o.format&&(o.options.format=o.format),o.options.buttons={showToday:!0,showClose:!0},o.options.icons={clear:"fa fa-trash",close:"fa fa-check"},(0,a.default)(e).call(e,"keydown",function(t){t.target&&t.target.value&&(o.validationHandle&&r.cancel(o.validationHandle),o.validationHandle=r(function(){var e=moment(t.target.value,o.options.format);e.isValid()?(o.date=e,o.error=!1):o.error=!0,o.onStateChange({invalidState:o.error})},100))}),(0,a.default)(e).call(e,"change.datetimepicker",function(e){o.$apply(function(){e.date&&(o.date=e.date.format(o.options.format),o.error=!1,o.onStateChange({invalidState:o.error,date:o.date}))})}),r(function(){angular.element("#"+o.elementId).datetimepicker(o.options)},0)}}}]),e.exports=angular},369:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-datetimepicker/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=form-group> <div class="input-group date" id={{elementId}} data-target-input=nearest> <input type=text ng-class="{ \'is-invalid\': error }" class="form-control datetimepicker" data-target=#{{elementId}} /> <div class=input-group-append data-target=#{{elementId}} data-toggle=datetimepicker> <div class=input-group-text><i class="fa fa-calendar"></i></div> </div> <div class=invalid-feedback ng-show="error === true">Please provide a valid date value.</div> </div> </div>')}]),e.exports=t},370:function(e,exports,t){"use strict";var n=o(t(62)),i=o(t(81)),s=o(t(11)),l=o(t(169)),d=o(t(125)),r=o(t(120)),a=o(t(88)),u=o(t(170));function o(e){return e&&e.__esModule?e:{default:e}}var c=t(371),p=t(372),f=t(373);angular.module("onms.schedule.editor",[]).directive("onmsScheduleEditor",function(){return{restrict:"E",templateUrl:c,scope:{id:"=?id",options:"=ngModel"},link:function(o,e,t){o.id=o.id||"schedule",o.options.type=o.options.type||a.default.DAILY,o.options=new r.default(o.options),o.weekdays=u.default.all,o.verifyInput=function(){try{o.errors=void 0,o.options.errors=o.errors,o.options.to.error=void 0,o.options.getCronExpression()}catch(e){"to"===e.context?(o.options.to.error=e.message,o.errors={to:e.message}):e.context?(o.errors={},o.errors[e.context]=e.message):console.log("Unexpected error occurred",e),o.options.errors=o.errors}},o.$watchGroup(["options.type","options.interval","options.dayOfMonth","options.dayOfWeek","options.weekOfMonth","options.dayOfMonthToggle","options.cronExpression"],o.verifyInput),o.$watchCollection("options.at",o.verifyInput),o.$watchCollection("options.from",o.verifyInput),o.$watchCollection("options.to",o.verifyInput),o.$watchCollection("options.daysOfWeek",o.verifyInput),o.$watch("options.dayOfMonth",function(e,t){e!==t&&"dayOfMonth"!==o.options.dayOfMonthToggle&&(o.options.dayOfMonthToggle="dayOfMonth")}),o.$watchGroup(["options.dayOfWeek","options.weekOfMonth"],function(e,t){e[0]===t[0]&&e[1]===t[1]||"dayOfWeek"===o.options.dayOfMonthToggle||(o.options.dayOfMonthToggle="dayOfWeek")})}}}).directive("onmsScheduleInterval",function(){return{restrict:"E",templateUrl:p,scope:{value:"=ngModel"}}}).directive("onmsTimeInput",[function(){return{restrict:"E",templateUrl:f,scope:{model:"=ngModel",mode:"=?mode",minutesStep:"=?minutesStep",disableMinutes:"=?disableMinutes"},link:function(r,e,t){void 0===r.model.options?r.options={mode:l.default.HALF_CLOCK_SYSTEM,disableMinutes:!1,minutesStep:5}:r.options=r.model.options,"boolean"==typeof r.disableMinutes&&(r.options.disableMinutes=r.disableMinutes),r.mode!==l.default.FULL_CLOCK_SYSTEM&&r.mode!==l.default.HALF_CLOCK_SYSTEM||(r.options.mode=r.mode),"number"==typeof r.minutesStep&&(r.options.minutesStep=r.minutesStep),r.options.mode=r.options.mode||r.model.mode,r.options.mode!==l.default.FULL_CLOCK_SYSTEM&&r.options.mode!==l.default.HALF_CLOCK_SYSTEM&&(r.options.mode=l.default.FULL_CLOCK_SYSTEM),"boolean"!=typeof r.options.disableMinutes&&(r.options.disableMinutes=!1),"number"!=typeof r.options.minutesStep&&(r.options.minutesStep=5),r.model instanceof d.default||(r.model=new d.default(r.model)),r.model.convert(r.options.mode);function o(){var e,t;r.minutes=[];for(var o=0;o<60;o+=r.options.minutesStep)r.minutes.push(o);-1===(0,s.default)(e=r.minutes).call(e,r.model.minutes)&&r.minutes.push(r.model.minutes),(0,i.default)(t=r.minutes).call(t,function(e,t){return(0,n.default)(e,10)-(0,n.default)(t,10)})}function a(){r.hours=[];for(var e=r.model.mode===l.default.HALF_CLOCK_SYSTEM?1:0,t=r.model.mode===l.default.HALF_CLOCK_SYSTEM?12:23,o=e;o<=t;o++)r.hours.push(o)}o(),a(),r.$watch("options.minutesStep",function(e){o()}),r.$watch("options.mode",function(e,t){e!==t&&(r.model.convert(r.options.mode),a())})}}}])},371:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-schedule-editor/templates/schedule-editor.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<style type=text/css>onms-time-input{display:inline-block}.iso-datetime{font-family:monospace}.zone{display:inline;margin:unset;padding:.5rem;vertical-align:middle}.next-scheduled-time{padding-top:1rem;padding-bottom:1rem}td{padding-right:.4rem}</style> <form class=form novalidate> <div class=""> <div class=form-check> <input class=form-check-input type=radio name={{id}}TypeSelect id={{id}}TypeDaily ng-model=options.type value=daily> <label class=form-check-label for={{id}}TypeDaily> Daily </label> </div> <div class=form-check> <input class=form-check-input type=radio name={{id}}TypeSelect id={{id}}TypeDaysPerWeek ng-model=options.type value=daysPerWeek> <label class=form-check-label for={{id}}TypeDaysPerWeek> Days per week </label> </div> <div class=form-check> <input class=form-check-input type=radio name={{id}}TypeSelect id={{id}}TypeDaysPerMonth ng-model=options.type value=daysPerMonth> <label class=form-check-label for={{id}}TypeDaysPerMonth> Days per month </label> </div> <div class=form-check> <input class=form-check-input type=radio name={{id}}TypeSelect id={{id}}TypeCustom ng-model=options.type value=custom> <label class=form-check-label for={{id}}TypeCustom> Cron Expression </label> </div> </div> <hr/> <div class="" ng-if="options.type === \'daysPerWeek\'"> <label>Weekdays</label> <div class="form-check ml-1" ng-repeat="weekday in weekdays"> <input class=form-check-input ng-class="{\'is-invalid\': errors.dayOfWeek}" type=checkbox name={{id}}{{weekday.id}} id={{id}}{{weekday.id}} ng-model=options.daysOfWeek[weekday.label] value=custom> <label class=form-check-label for={{id}}{{weekday.id}}> {{weekday.label}} </label> </div> <p class="text-danger small mb-0" ng-if=errors.dayOfWeek>{{errors.dayOfWeek}}</p> </div> <div class=mt-2 ng-if="options.type === \'daily\' || options.type === \'daysPerWeek\'"> <div class=form-group> <label>Interval</label> <onms-schedule-interval ng-model=options.interval></onms-schedule-interval> </div> <div class=form-group ng-if="options.interval === \'0\'"> <label>At</label> <onms-time-input ng-model=options.at options=options.at /> <span class=zone>{{options.timezone}}</span> </div> <div class=form-group ng-if="options.interval !== \'0\'"> <label>From</label> <onms-time-input ng-model=options.from options=options.from /> </div> <div class=form-group ng-if="options.interval !== \'0\'"> <label>To</label> <onms-time-input ng-model=options.to options=options.to /> </div> </div> <div class="" ng-if="options.type === \'daysPerMonth\'"> <div class=form-group> <label>At</label> <onms-time-input ng-model=options.at options=options.at /> <span class=zone>{{options.timezone}}</span> </div> <div class=""> <label>On</label> <div class="form-inline my-1 ml-1"> <input class="" type=radio ng-model=options.dayOfMonthToggle value=dayOfMonth> <span class=mx-1>the</span> <select class="form-control custom-select" ng-model=options.dayOfMonth> <option value=1>1st</option> <option value=2>2nd</option> <option value=3>3rd</option> <option value=4>4th</option> <option value=5>5th</option> <option value=6>6th</option> <option value=7>7th</option> <option value=8>8th</option> <option value=9>9th</option> <option value=10>10th</option> <option value=11>11th</option> <option value=12>12th</option> <option value=13>13th</option> <option value=14>14th</option> <option value=15>15th</option> <option value=16>16th</option> <option value=17>17th</option> <option value=18>18th</option> <option value=19>19th</option> <option value=20>20th</option> <option value=21>21st</option> <option value=22>22nd</option> <option value=23>23rd</option> <option value=24>24th</option> <option value=25>25th</option> <option value=26>26th</option> <option value=27>27th</option> <option value=28>28th</option> <option value=29>29th</option> <option value=30>30th</option> <option value=31>31st</option> <option value=L>Last</option> </select> <span class=ml-1>day of every month</span> </div> <div class="form-inline my-1 ml-1"> <input class="" type=radio ng-model=options.dayOfMonthToggle value=dayOfWeek> <span class=mx-1>the</span> <select class="form-control custom-select" ng-model=options.weekOfMonth> <option value=1>first</option> <option value=2>second</option> <option value=3>third</option> <option value=4>fourth</option> <option value=L>last</option> </select> <select class="form-control custom-select mx-1" ng-model=options.dayOfWeek> <option ng-repeat="weekday in weekdays track by weekday.id" value={{weekday.id}}>{{weekday.label}}</option> </select> <span>of every month</span> </div> </div> </div> <div class="" ng-if="options.type === \'custom\'"> <div class=form-inline> <input id=customCronExpressionInput type=text class=form-control ng-class="{\'is-invalid\': errors.cronExpression}" ng-model="options.cronExpression "/> <span class=zone>{{options.timezone}}</span> <a href=http://www.quartz-scheduler.org/documentation/quartz-2.2.2/tutorials/crontrigger.html class=ml-2 target=_blank title="Help me"> <i class="fa fa-question-circle" aria-hidden=true></i> </a> <p class=invalid-feedback ng-if=errors.cronExpression>{{errors.cronExpression}}</p> </div> </div> <div class=next-scheduled-time> <label> Next scheduled time: </label> <table> <tr> <td> Report: </td> <td> <span class=iso-datetime>{{options.getNextExecution(options.timezone).format("llll")}}</span> </td> <td> ({{options.timezone}}) </td> </tr> <tr ng-if=options.getServerZone()> <td> Server: </td> <td> <span class=iso-datetime>{{options.getNextExecution(options.getServerZone()).format("llll")}}</span> </td> <td> ({{options.getServerZone()}}) </td> </tr> <tr> <td> Browser: </td> <td> <span class=iso-datetime>{{options.getNextExecution(options.getBrowserZone()).format("llll")}}</span> </td> <td> ({{options.getBrowserZone()}}) </td> </tr> </table> </div> <div class="text-muted mt-2" ng-if=options.showDebugOptions> <hr/> <label>Generated Cron Expression</label> <pre class="bg-light px-2 py-2 text-muted">{{options.getCronExpression()}}</pre> <label>Schedule Options</label> <pre class="bg-light px-2 py-2 text-muted">{{options | json}}</pre> </div> </form> ')}]),e.exports=t},372:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-schedule-editor/templates/interval-input.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<select class="form-control custom-select" ng-model=value> <option value=0 selected=selected>once per day</option> <option value=180>every 3 hours</option> <option value=120>every 2 hours</option> <option value=60>every hour</option> <option value=30>every 30 minutes</option> <option value=15>every 15 minutes</option> <option value=10>every 10 minutes</option> <option value=5>every 5 minutes</option> </select> ')}]),e.exports=t},373:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-schedule-editor/templates/time-input.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=form-inline> <select class="form-control custom-select mx-1" ng-class="{\'is-invalid\': model.error}" ng-options="i for i in hours" ng-model=model.hours> </select> <span>:</span> <select class="form-control custom-select mx-1" ng-class="{\'is-invalid\': model.error && !options.disableMinutes}" ng-model=model.minutes ng-options="(\'00\' + i).slice(-2) for i in minutes" ng-disabled=options.disableMinutes> </select> <select class="form-control custom-select" ng-if="model.mode === \'AM_PM\'" ng-model=model.suffix> <option value=am>am</option> <option value=pm>pm</option> </select> <p class="invalid-feedback ml-1" ng-if=model.error>{{model.error}}</p> </div> ')}]),e.exports=t},5:function(e,exports,t){"use strict";console.log("init: jquery-js");var jQuery=t(7);e.exports=jQuery},594:function(e,exports){},595:function(e,exports,t){"use strict";t(60),t(61),t(16),t(73),t(118),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o=p(t(135)),r=p(t(136)),a=p(t(362)),n=p(t(363)),i=p(t(53)),s=p(t(364)),l=p(t(11)),d=p(t(365)),u=p(t(366)),c=p(t(85));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e})(e)}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){var o="function"==typeof n.default?new n.default:void 0;return(h=function(e){if(null===e||!function(e){var t;return-1!==(0,l.default)(t=Function.toString.call(e)).call(t,"[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(e))return o.get(e);o.set(e,t)}function t(){return v(e,arguments,y(this).constructor)}return t.prototype=(0,a.default)(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),g(t,e)})(e)}function v(e,t,o){return(v=function(){if("undefined"==typeof Reflect||!s.default)return!1;if(s.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,s.default)(Date,[],function(){})),!0}catch(e){return!1}}()?s.default:function(e,t,o){var r=[null];r.push.apply(r,t);var a=new((0,i.default)(Function).apply(e,r));return o&&g(a,o.prototype),a}).apply(null,arguments)}function g(e,t){return(g=u.default||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=u.default?d.default:function(e){return e.__proto__||(0,d.default)(e)})(e)}var b=function(){function s(){var e,t,o,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"entity";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var a=arguments.length,n=new Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(o=m(this,(e=y(s)).call.apply(e,(0,c.default)(t=[this]).call(t,n)))).context=r,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,h(Error)),s}();exports.default=b},837:function(e,exports,t){"use strict";t(60),t(61),t(184),t(838),t(12),t(73),t(227),t(230),t(24),t(574),t(65),t(839),t(843),t(845),t(846),t(847),t(848),t(849),t(850),t(851),t(852),t(853),t(854),t(855),t(857),t(858),t(859),t(860),t(861),t(862),t(863),t(864),t(865),t(866),t(867),t(343),t(868);var s=m(t(875)),o=m(t(231)),r=m(t(162)),n=m(t(34)),i=m(t(883)),l=m(t(233)),d=m(t(8)),a=m(t(11)),u=m(t(891)),c=m(t(929)),p=m(t(88)),f=m(t(2));function m(e){return e&&e.__esModule?e:{default:e}}t(106);var h=t(930),angular=t(3);t(9),t(158),t(368),t(370),t(59),t(346),t(938),t(940);function v(e,t,o){if(t&&e){var r=new c.default(e);if(r.isBadRequest()){var a=r.asContextError();t.setErrors(a)}else o&&o(e)}}function g(e,t,o){var r=new c.default(e);if(r.isContextError()){var a=r.asContextError();"entity"===a.context&&(a.context="GRAFANA_ENDPOINT_UID"),t.setErrors(a)}else v(e,t,o)}var y=t(96),b=t(941),w=t(942),k=t(943),E=t(944),_=t(945),C=t(946),O=t(947),x=t(226);angular.module("onms.reports",["angular-loading-bar","ngResource","ngSanitize","ui.router","ui.select","mwl.confirm","onms.http","onms.default.apps","onms.datetimepicker","onms.schedule.editor","onms.pagination"]).config(["$locationProvider",function(e){e.hashPrefix("!"),e.html5Mode(!1)}]).run(["confirmationPopoverDefaults",function(e){e.templateUrl=x}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("report",{url:"/report",controller:"ReportsController",templateUrl:b}).state("report.templates",{url:"/templates",controller:"ReportTemplatesController",templateUrl:w}).state("report.templates.details",{url:"/:id?online",controller:"ReportDetailController",templateUrl:_,resolve:{}}).state("report.schedules",{url:"/schedules",controller:"ReportSchedulesController",templateUrl:E}).state("report.persisted",{url:"/persisted",controller:"ReportStorageController",templateUrl:k}),t.otherwise("/report/templates")}]).factory("ReportTemplateResource",["$resource",function(e){return e("rest/reports/:id",{id:"@id"},{list:{method:"GET",isArray:!0},get:{method:"GET"},listScheduled:{method:"GET",isArray:!0,url:"rest/reports/scheduled"}})}]).factory("ReportScheduleResource",["$resource",function(e){return e("rest/reports/scheduled/:id",{id:"@triggerName"},{list:{method:"GET",isArray:!0},get:{method:"GET",isArray:!1},delete:{method:"DELETE",params:{triggerName:-1}},deleteAll:{method:"DELETE"},update:{method:"PUT"}})}]).factory("ReportStorageResource",["$resource",function(e){return e("rest/reports/persisted/:id",{id:"@id"},{list:{method:"GET",isArray:!0},get:{method:"GET"},delete:{method:"DELETE",params:{id:-1}},deleteAll:{method:"DELETE"}})}]).factory("WhoamiResource",["$resource",function(e){return e("rest/whoami",{},{whoami:{method:"GET"}})}]).factory("GrafanaResource",["$resource",function(e){return e("rest/endpoints/grafana/:id",{id:"@id"},{get:{method:"GET"},list:{method:"GET",isArray:!0},dashboards:{method:"GET",isArray:!0,url:"rest/endpoints/grafana/:uid/dashboards",params:{uid:"@uid"}}})}]).factory("UserService",["WhoamiResource",function(e){return{whoami:function(o,t){return e.whoami(function(e){var t={id:e.id,name:e.fullName,email:e.email,roles:e.roles,isAdmin:function(){var e;return 0<=(0,a.default)(e=this.roles).call(e,"ROLE_ADMIN")},isReportDesigner:function(){var e;return 0<=(0,a.default)(e=this.roles).call(e,"ROLE_REPORT_DESIGNER")}};o&&o(t)},function(e){t&&t(e)})}}}]).directive("onmsReportDetails",["GrafanaResource","$q","$http",function(o,r,a){return{restrict:"E",templateUrl:O,scope:{report:"=?ngModel",options:"=?options",onInvalidChange:"&?onInvalidChange",onGlobalError:"&onGlobalError"},link:function(n,e,t){n.oldTimeZone=void 0,n.endpoints=[],n.dashboards=[],n.selected={endpoint:void 0,dashboard:void 0},n.onInvalidChange=n.onInvalidChange||function(e){},n.onDateParamStateChange=function(e,t,o){n.$evalAsync(function(){t&&o&&(o.internalValue=t),n.onInvalidChange({invalidState:e})})},n.paramHash=function(e){var t=h.sha256();return e&&(t.update(e.type),t.update(e.name),t.update(e.value),t.update(e.internalValue),t.update(e.internalFormat)),t.digest("hex")},n.timezoneChanged=function(){var e,r=n.oldTimeZone,a=n.report&&n.report.parametersByName.timezone?n.report.parametersByName.timezone.value:void 0;r&&a&&r!==a&&(0,d.default)(e=n.report.parameters).call(e,function(e,t){if("date"===e.type){var o=f.default.tz(e.internalValue,r).clone().tz(a);o.isValid()?(e.internalValue=o.format(e.internalFormat),e.date=o.format("YYYY-MM-DD"),e.hours=o.hours(),e.minutes=o.minutes()):console.error("timezoneChanged(): new date is invalid?!"),n.report.parameters[t]=n.report.parametersByName[e.name]=(0,l.default)({},e)}}),n.report&&n.report.parametersByName.timezone&&(n.report.parametersByName.timezone.value=a),n.oldTimeZone=a,n.report.validateTimezone()},n.endpointChanged=function(){n.dashboards=[],n.selected.dashboard=void 0,n.report.resetErrors(),n.report.parametersByName.timezone&&(n.report.parametersByName.timezone.value=void 0,n.timezoneChanged()),o.dashboards({uid:n.selected.endpoint.uid},function(e){n.dashboards=e,0<n.dashboards.length&&(n.selected.dashboard=n.dashboards[0])},function(e){g(e,n.report,function(){return n.onGlobalError({response:e})})})},n.loadEndpoints=function(){n.report.resetErrors(),o.list(function(e){var t;n.endpoints=e,(0,d.default)(t=n.endpoints).call(t,function(e){e.label=e.uid,e.description&&(e.label+=" - "+e.description)}),0<n.endpoints.length&&(n.selected.endpoint=n.endpoints[0],n.endpointChanged())},function(e){g(e,n.report,function(){return n.onGlobalError({response:e})})})},n.$watch("report.format",function(e){n.report.deliveryOptions&&(n.report.deliveryOptions.format=e)}),n.$watch("report.scheduleOptions.type",function(){n.report.scheduleOptions.type!==p.default.CUSTOM&&n.report.errors.cronExpression&&(n.report.errors.cronExpression=void 0)}),n.$watchCollection("report.parameters",function(e,t){0===t.length&&0!==e.length&&n.report.isGrafanaReport()&&n.loadEndpoints()}),n.$watchCollection("selected",function(e){var t=r.defer();if(e&&e.endpoint&&e.endpoint.uid&&e.dashboard&&e.dashboard.uid){var o=e.dashboard;(function(e,t){return a.get("rest/endpoints/grafana/"+e+"/dashboards/"+t).then(function(e){return e.data})})(e.endpoint.uid,o.uid).then(function(e){e&&void 0!==e.timezone&&o.timezone!==e.timezone&&(o.timezone=e.timezone,n.timezoneChanged())}).finally(function(){t.resolve(o)})}else t.resolve(e&&e.dashboard?e.dashboard:void 0);t.promise.finally(function(){n.report.updateGrafanaParameters(e)})}),n.$watch("reportForm.$invalid",function(e,t){n.onInvalidChange&&n.onInvalidChange({invalidState:e})})}}}]).directive("multiEmails",function(){var a=/^[-!#$%&'*+/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\.[a-zA-Z](-?[a-zA-Z0-9])*)+$/;return{restrict:"A",require:"ngModel",link:function(e,t,o,r){r&&r.$validators.email&&(r.$validators.email=function(e){var t;return!!angular.isDefined(e)&&(r.$isEmpty(e)||(0,i.default)(t=e.split(",")).call(t,function(e){return a.test((0,n.default)(e).call(e))}))})}}}).controller("ReportsController",["$scope","$rootScope","$http","UserService",function($scope,e,t,o){$scope.fetchUserInfo=function(){o.whoami(function(e){$scope.userInfo=e},function(e){$scope.setGlobalError(e)})},$scope.fetchUserInfo(),$scope.setGlobalError=function(e){$scope.globalError="An unexpected error occurred: "+e.status+" "+e.statusText,$scope.globalErrorDetails=(0,r.default)(e,null,2)},$scope.globalError=void 0,$scope.globalErrorDetails=void 0}]).controller("ReportTemplatesController",["$scope","$http","ReportTemplateResource",function($scope,e,t){$scope.refresh=function(){$scope.reports=[],t.list(function(e){e&&(0,o.default)(e)&&($scope.reports=e)},function(e){$scope.setGlobalError(e)})},$scope.refresh()}]).controller("ReportDetailController",["$scope","$http","$window","$state","$stateParams","$uibModal","ReportTemplateResource",function($scope,e,t,o,i,r,a){$scope.meta={reportId:i.id,online:"true"===i.online},$scope.report=new u.default({id:$scope.meta.reportId,scope:$scope}),$scope.options={},$scope.loading=!1,$scope.reportForm={$invalid:!1},$scope.onReportFormInvalidStateChange=function(e){$scope.reportForm.$invalid=e},$scope.loadDetails=function(){$scope.loading=!0,$scope.selected={endpoint:void 0,dashboard:void 0},$scope.options={showReportFormatOptions:$scope.meta.online,showDeliveryOptions:$scope.userInfo.isReportDesigner()||$scope.userInfo.isAdmin(),showDeliveryOptionsToggle:$scope.meta.online,showScheduleOptions:$scope.userInfo.isReportDesigner()||$scope.userInfo.isAdmin(),showScheduleOptionsToggle:!0,deliverReport:!$scope.meta.online,scheduleReport:!1,canEditTriggerName:!0};var e={id:$scope.report.id,userId:$scope.userInfo.id};a.get(e,function(e){$scope.loading=!1,$scope.report=new u.default((0,l.default)(e,{scope:$scope}))},function(e){$scope.loading=!1,$scope.setGlobalError(e)})},$scope.runReport=function(){$scope.report.resetErrors(),console.debug("running report:",$scope.report),e({method:"POST",url:"rest/reports/"+i.id,data:{id:$scope.report.id,parameters:$scope.report.parameters,format:$scope.report.format},responseType:"arraybuffer"}).then(function(e){var t=e.data,o=new Blob([t],{type:"PDF"===$scope.report.format?"application/pdf":"text/csv"}),r=s.default.createObjectURL(o),a=(e.headers("Content-Disposition"),i.id+"."+$scope.report.format.toLowerCase()),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=r,n.download=a,n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)},function(e){if(400===e.status){var t=String.fromCharCode.apply(null,new Uint8Array(e.data)),o=JSON.parse(t);e.data=o,v(e,$scope.report,function(e){return $scope.setGlobalError(e)})}else $scope.setGlobalError(e)})},$scope.deliverReport=function(){$scope.report.resetErrors(),e({method:"POST",url:"rest/reports/persisted",data:{id:$scope.report.id,parameters:$scope.report.parameters,format:$scope.report.format,deliveryOptions:$scope.report.deliveryOptions}}).then(function(){$scope.deliverySuccess=!0},function(e){v(e,$scope.report,function(e){return $scope.setGlobalError(e)})})},$scope.scheduleReport=function(){$scope.report.resetErrors(),e({method:"POST",url:"rest/reports/scheduled",data:{id:$scope.report.id,parameters:$scope.report.parameters,format:$scope.report.format,deliveryOptions:$scope.report.deliveryOptions,cronExpression:$scope.report.scheduleOptions.getCronExpression()}}).then(function(e){$scope.scheduleSuccess=!0},function(e){v(e,$scope.report,function(e){return $scope.setGlobalError(e)})})},$scope.execute=function(){$scope.deliverySuccess=!1,$scope.scheduleSuccess=!1,$scope.$evalAsync(function(){$scope.report.updateDateParameters()}),$scope.$evalAsync(function(){!$scope.meta.online||$scope.options.deliverReport||$scope.options.scheduleReport||$scope.runReport(),$scope.options.deliverReport&&!$scope.options.scheduleReport&&$scope.deliverReport(),$scope.options.deliverReport&&$scope.options.scheduleReport&&$scope.scheduleReport()})},$scope.$watch("userInfo",function(e,t){e&&$scope.loadDetails()})}]).controller("ReportSchedulesController",["$scope","$uibModal","ReportScheduleResource",function($scope,o,t){$scope.scheduledReports=[],$scope.pagination={page:1,limit:20,totalItems:0,offset:0},$scope.refresh=function(){var e=$scope.pagination||{};t.list({limit:e.limit||20,offset:(e.page-1)*e.limit||0},function(e,t){$scope.scheduledReports=e;var o=y.parseContentRange(t("Content-Range"));$scope.pagination.totalItems=o.total},function(e){$scope.setGlobalError(e)})},$scope.deleteAll=function(){t.deleteAll({},function(e){$scope.pagination.page=1,$scope.refresh()},function(e){$scope.setGlobalError(e)})},$scope.delete=function(e){t.delete({id:e.triggerName||-1},function(e){1===$scope.scheduledReports.length&&1<$scope.pagination.page&&$scope.pagination.page--,$scope.refresh()},function(e){$scope.setGlobalError(e)})},$scope.edit=function(e,t){o.open({templateUrl:C,backdrop:"static",keyboard:!1,size:"lg",controller:"ScheduleEditController",resolve:{userInfo:function(){return $scope.userInfo},meta:function(){return{reportId:t,online:!1,triggerName:e}},setGlobalError:function(){return $scope.setGlobalError}}}).result.then(function(){$scope.refresh()})},$scope.refresh()}]).controller("ScheduleEditController",["$http","$q","$scope","$timeout","userInfo","meta","setGlobalError","ReportScheduleResource",function(t,o,$scope,e,r,a,n,i){$scope.meta=a,$scope.userInfo=r,$scope.report=null,$scope.options={},$scope.loading=!1,$scope.reportForm={$invalid:!1},$scope.onReportFormInvalidStateChange=function(e){$scope.reportForm.$invalid=e},$scope.setGlobalError=function(e){n(e)},$scope.loadDetails=function(){$scope.loading||($scope.loading=!0,$scope.$evalAsync(function(){$scope.selected={endpoint:void 0,dashboard:void 0},$scope.options={hideEndpointsChooser:!0,showReportFormatOptions:!1,showDeliveryOptions:!0,showDeliveryOptionsToggle:!1,showScheduleOptions:!0,showScheduleOptionsToggle:!1,deliverReport:!0,scheduleReport:!0,canEditTriggerName:!1},function(e){return t.get("rest/reports/scheduled/"+e).then(function(e){return e.data})}($scope.meta.triggerName).then(function(e){$scope.report=new u.default((0,l.default)(e,{scope:$scope}))}).catch(function(e){$scope.setGlobalError(e),$scope.$close()}).finally(function(){$scope.loading=!1})}))},$scope.update=function(){if(!$scope.report)return o.reject("report not initialized");$scope.report.resetErrors();var e={id:$scope.report.id,triggerName:$scope.meta.triggerName,parameters:$scope.report.parameters,format:$scope.report.format,deliveryOptions:$scope.report.deliveryOptions,cronExpression:$scope.report.scheduleOptions.getCronExpression()};return i.update(e).$promise.catch(function(e){console.error(e),v(e,$scope.report,function(){$scope.setGlobalError(e)})}).finally(function(){$scope.$close()})},$scope.loadDetails()}]).controller("ReportStorageController",["$scope","$http","$window","$stateParams","ReportStorageResource",function($scope,e,t,o,r){$scope.persistedReports=[],$scope.pagination={page:1,limit:20,totalItems:0,offset:0},$scope.refresh=function(){var e=$scope.pagination||{};r.list({limit:e.limit||20,offset:(e.page-1)*e.limit||0},function(e,t){$scope.persistedReports=e;var o=y.parseContentRange(t("Content-Range"));$scope.pagination.totalItems=o.total},function(e){$scope.setGlobalError(e)})},$scope.deleteAll=function(){r.deleteAll({},function(e){$scope.pagination.page=1,$scope.refresh()},function(e){$scope.setGlobalError(e)})},$scope.delete=function(e){r.delete({id:e.id||-1},function(e){1===$scope.persistedReports.length&&1<$scope.pagination.page&&$scope.pagination.page--,$scope.refresh()},function(e){$scope.setGlobalError(e)})},$scope.refresh()}])},88:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o={DAILY:"daily",DAYS_PER_WEEK:"daysPerWeek",DAYS_PER_MONTH:"daysPerMonth",CUSTOM:"custom"};exports.default=o},891:function(e,exports,t){"use strict";t(60),t(61),t(12),t(73),t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var o=d(t(135)),r=d(t(136)),a=d(t(6)),i=d(t(34)),n=d(t(356)),f=d(t(20)),m=d(t(8)),h=d(t(11)),v=d(t(81)),g=d(t(79)),y=d(t(231)),s=d(t(88)),b=d(t(120)),l=d(t(595)),w=d(t(18)),k=d(t(2));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}t(106);var p=function(){function p(){var e,t,o,r,a,n,i,s=this,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,p),this.supportedSurveillanceCategories=l.surveillanceCategories,this.supportedCategories=l.categories,this.supportedFormats=[],(0,y.default)(l.formats)&&(this.supportedFormats=(0,g.default)(i=l.formats).call(i,function(e){return e.name}));this.supportedTimezones=l.timezones||["US/Eastern"],this.parameters=l.parameters||[],this.parametersByName={},this.deliveryOptions=l.deliveryOptions||{},this.scheduleOptions="string"==typeof l.cronExpression?b.default.createFrom(l.cronExpression):new b.default,this.format=l.deliveryOptions&&l.deliveryOptions.format||"PDF",this.id=l.id,this.errors=l.errors||{},this.timezoneEditable=!0;var d=["string","integer","float","double","timezone","date"];if((0,v.default)(e=this.parameters).call(e,function(e,t){return(0,h.default)(d).call(d,e.type)-(0,h.default)(d).call(d,t.type)}),(0,m.default)(t=this.parameters).call(t,function(e){"reportCategorySelector"===e.inputType&&(e.value=this.supportedSurveillanceCategories[0]),"onmsCategorySelector"===e.inputType&&(e.value=this.supportedCategories[0]),e.hidden="GRAFANA_ENDPOINT_UID"===e.name||"GRAFANA_DASHBOARD_UID"===e.name||"dateFormat"===e.name,this.parametersByName[e.name]=e},this),(0,m.default)(o=(0,f.default)(r=this.parameters).call(r,function(e){return"date"===e.type})).call(o,function(e){e.internalFormat="YYYY-MM-DD HH:mm",e.internalLocale="en",e.internalValue=(0,k.default)(e.date,e.internalFormat).hours(e.hours).minutes(e.minutes).format(e.internalFormat)}),this.updateTimezoneEditable(),this.validateTimezone(),-1===(0,h.default)(a=this.supportedFormats).call(a,this.format)&&(this.format=this.supportedFormats[0]),-1===(0,h.default)(n=this.supportedFormats).call(n,this.deliveryOptions.format)&&(this.deliveryOptions.format=this.format),window._onmsZoneId)this.scheduleOptions.serverZone=window._onmsZoneId;else{var u=new XMLHttpRequest,c=function(){try{if(u.readyState===XMLHttpRequest.DONE){if(200===u.status){var e=JSON.parse(u.responseText);if(e.datetimeformatConfig&&e.datetimeformatConfig.zoneId)return window._onmsZoneId=e.datetimeformatConfig.zoneId,void(s.scheduleOptions.serverZone=e.datetimeformatConfig.zoneId)}console.error("Failed to request server time zone: "+u.status+" "+u.statusText),s.scheduleOptions.serverZone=null}}catch(e){console.error("An error occurred getting the server time zone:",e),s.scheduleOptions.serverZone=null}};u.onreadystatechange=function(){l&&l.scope?l.scope.$evalAsync(c):c()},u.open("GET",w.default.getBaseHref()+"rest/info"),u.setRequestHeader("Accept","application/json"),u.send()}}return function(e,t,o){t&&c(e.prototype,t),o&&c(e,o)}(p,[{key:"hasErrors",value:function(){var e=0<(0,n.default)(this.errors).length||this.isGrafanaReport()&&!this.isGrafanaEndpointSelected()||!this.scheduleOptions.isValid();return e}},{key:"resetErrors",value:function(){this.errors={}}},{key:"setErrors",value:function(e){if(e&&e.context&&e.message||e instanceof l.default){if("cronExpression"!==e.context||"cronExpression"===e.context&&this.scheduleOptions.type===s.default.CUSTOM)return void(this.errors[e.context]=e.message);if("cronExpression"===e.context&&this.scheduleOptions.type!==s.default.CUSTOM)throw new Error("Generated cronExpression was not parsable by backend. If this happens contact OpenNMS support")}throw new Error("Provided contextError must be of type ContextError")}},{key:"isGrafanaEndpointSelected",value:function(){if(!this.isGrafanaReport())throw new Error("Report is not a Grafana Report");var e=this.parametersByName.GRAFANA_ENDPOINT_UID,t=this.parametersByName.GRAFANA_DASHBOARD_UID;return e.value&&"string"==typeof e.value&&0<e.value.length&&t.value&&u(t.value)&&0<t.value.length}},{key:"isGrafanaReport",value:function(){return void 0!==this.parametersByName.GRAFANA_ENDPOINT_UID&&void 0!==this.parametersByName.GRAFANA_DASHBOARD_UID}},{key:"updateTimezoneEditable",value:function(){var e,t=this.dashboard&&void 0!==this.dashboard.timezone?this.dashboard.timezone:void 0;void 0!==t&&("browser"===t||""===(0,i.default)(t).call(t)?this.timezoneEditable=!0:(0<=(0,h.default)(e=this.supportedTimezones).call(e,this.parametersByName.timezone.value)||this.supportedTimezones.push(t),this.timezoneEditable=!1))}},{key:"validateTimezone",value:function(){var e,t,n=this;this.updateTimezoneEditable(),(0,m.default)(e=(0,f.default)(t=this.parameters).call(t,function(e){return"timezone"===e.type})).call(e,function(e){if(n.timezoneEditable){var t,o;if(e.value&&0<(0,i.default)(t=e.value).call(t).length&&0<=(0,h.default)(o=n.supportedTimezones).call(o,e.value));else{var r,a=k.default.tz.guess(!0);0<=(0,h.default)(r=n.supportedTimezones).call(r,a)?e.value=a:e.value=n.supportedTimezones[0]}n.parametersByName.timezone=e}}),this.parametersByName.timezone&&(this.scheduleOptions.timezone=this.parametersByName.timezone.value)}},{key:"updateTimezoneParameter",value:function(e){this.dashboard=e.dashboard;var t=e.dashboard?e.dashboard.timezone:void 0;"utc"===t&&(t="UTC"),t&&(this.parametersByName.timezone.value=t,this.scheduleOptions.timezone=t),this.validateTimezone()}},{key:"updateGrafanaParameters",value:function(e){this.isGrafanaReport()&&(this.parametersByName.GRAFANA_ENDPOINT_UID.value=e.endpoint?e.endpoint.uid:this.parametersByName.GRAFANA_ENDPOINT_UID.value,this.parametersByName.GRAFANA_DASHBOARD_UID.value=e.dashboard?e.dashboard.uid:this.parametersByName.GRAFANA_DASHBOARD_UID.value,this.updateTimezoneParameter(e))}},{key:"updateDateParameters",value:function(){var e,t;(0,m.default)(e=(0,f.default)(t=this.parameters).call(t,function(e){return"date"===e.type})).call(e,function(e){var t=(0,k.default)(e.internalValue,e.internalFormat);e.date=t.format("YYYY-MM-DD"),e.hours=t.hours(),e.minutes=t.minutes(),e.internalValue=t.format(e.internalFormat)})}}]),p}();exports.default=p},9:function(e,exports,t){"use strict";var o,n=(o=t(51))&&o.__esModule?o:{default:o};var angular=t(3),r=t(15);angular.module("onms.http",["ui.bootstrap"]).factory("InterceptorService",["$q","$rootScope",function(r,a){return{responseError:function(e){var t,o;401===e.status&&e.config&&e.config.url&&((0,n.default)(t=e.config.url).call(t,"rest/")||(0,n.default)(o=e.config.url).call(o,"api/v2/"))&&(console.error("Login Required",e,e.headers),a.$emit("loginRequired"));return 403===e.status&&a.$emit("permissionDenied"),r.reject(e)}}}]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push("InterceptorService")}]).run(["$rootScope","$uibModal",function(e,t){e.$on("loginRequired",function(){var e=document.getElementsByTagName("base");e&&0<e.length&&e[0].href?window.location.href=e[0].href+"login.jsp?session_expired=true":console.warn("Login is required, but cannot forward to login page due to missing base tag.")}),e.$on("permissionDenied",function(){t.open({templateUrl:r,controller:["$scope","$uibModalInstance",function($scope,e){$scope.reload=function(){e.dismiss(),window.location.reload()}}],size:"",backdrop:"static",keyboard:!1})})}]),e.exports=angular},929:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var a=r(t(6)),o=r(t(595));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.response=e}return function(e,t,o){t&&n(e.prototype,t),o&&n(e,o)}(t,[{key:"isContextError",value:function(){return this.response.data&&this.response.data.context&&this.response.data.message}},{key:"asContextError",value:function(){return this.isContextError()?new o.default(this.response.data.context,this.response.data.message):this.response.data&&this.response.data.message?new o.default("entity",this.response.data.message):new o.default("entity","Unexpected error occurred. No details about the nature of the error were provided")}},{key:"isBadRequest",value:function(){return 400===this.status}},{key:"status",get:function(){return this.response.status}}]),t}();exports.default=i},941:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="alert alert-danger" ng-if=globalError> <span>{{globalError}}</span> <pre ng-show=globalErrorDetails>{{globalErrorDetails}}</pre> </div> <div class=w-100 ng-if=!globalError> <ul id=tabs class="nav nav-tabs"> <li role=presentation class=nav-item> <a ui-sref-active=active ui-sref=report.templates data-name=report-templates class=nav-link>Report Templates</a> </li> <li role=presentation class=nav-item> <a ui-sref-active=active ui-sref=report.schedules data-name=report-schedules class=nav-link>Report Schedules</a> </li> <li role=presentation class=nav-item> <a ui-sref-active=active ui-sref=report.persisted data-name=report-persisted class=nav-link>Persisted Reports</a> </li> </ul> <div class="card border-top-0" ui-view> </div> </div>')}]),e.exports=t},942:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/templates.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span ng-if="reports.length == 0">No Data available</span> <div class=row> <div class=col-5> <div class="mx-2 my-2" style="height:calc(100vh - 109px);overflow:scroll"> <div class="list-group list-group-flush" ng-if="reports.length > 0"> <a ng-repeat="report in reports" ui-sref-active=active ui-sref="report.templates.details({\'id\': report.id, \'online\': report.online})" class="list-group-item list-group-item-action"> <h5 class="">{{report.name}}</h5> <div class=text-muted> {{report.description}} <span class="badge badge-secondary pull-right" ng-if=!report.online title="Can only deliver or schedule Report"> no adhoc </span> </div> </a> </div> </div> </div> <div class=col-7 ui-view> </div> </div>')}]),e.exports=t},943:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/persisted.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="mx-2 my-2"> <div class=mb-4> <button class="btn btn-secondary" id=action.refresh ng-click=refresh()><i class="fa fa-refresh"></i></button> <button class="btn btn-secondary" ng-if="userInfo.isReportDesigner() || userInfo.isAdmin() && persistedReports.length > 0" id=action.deleteAll mwl-confirm message="Do you really want to delete all persisted reports?" on-confirm=deleteAll() placement=right confirm-button-type=danger cancel-button-type=secondary confirm-text=Yes cancel-text=No title="Delete All"> <i class="fa fa-trash"></i> </button> </div> <div ng-if="persistedReports.length == 0"> <span>No Data available</span> </div> <pagination model=pagination ng-if="persistedReports.length > 0" position=bottom on-change=refresh> <table class="table table-sm table-striped mb-2"> <thead> <tr> <th ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()">Action</th> <th>View Report</th> <th>Title</th> <th>Report ID</th> <th>Run Date</th> </tr> </thead> <tbody> <tr ng-repeat="report in persistedReports"> <td ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()"> <button class="btn btn-sm btn-danger" ng-click=delete(report)><i class="fa fa-trash"></i></button> </td> <td> <a ng-repeat="format in report.formats" href="rest/reports/download?locatorId={{report.id}}&amp;format={{format}}" class=mr-4><i ng-class="{\'fa-file-pdf-o\': format === \'PDF\', \'fa-file-text-o\': format === \'CSV\'}" class=fa></i> {{format}}</a> </td> <td>{{report.title}}</td> <td>{{report.reportId}}</td> <td>{{report.date}}</td> <td> </td> </tr> </tbody> </table> </pagination> </div>')}]),e.exports=t},944:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/schedules.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="mx-2 my-2"> <div class=mb-4> <button class="btn btn-secondary" id=action.refresh ng-click=refresh() title=Refresh><i class="fa fa-refresh"></i></button> <button class="btn btn-secondary" ng-if="userInfo.isReportDesigner() || userInfo.isAdmin() && scheduledReports.length > 0" id=action.deleteAll mwl-confirm message="Do you really want to delete all persisted reports?" on-confirm=deleteAll() placement=right confirm-button-type=danger cancel-button-type=secondary confirm-text=Yes cancel-text=No title="Delete All"> <i class="fa fa-trash"></i> </button> </div> <div ng-if="scheduledReports.length == 0"> <span>No Data available</span> </div> <pagination model=pagination ng-if="scheduledReports.length > 0" position=bottom on-change=refresh> <table class="table table-sm table-striped mb-2"> <thead> <tr> <th ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()">Action(s)</th> <th>Template</th> <th>Format</th> <th colspan=3>Delivery Options</th> <th>Cron Expression</th> <th>Trigger Name</th> <th>Next fire time</th> </tr> </thead> <tbody> <tr ng-repeat="schedule in scheduledReports"> <td> <button class="btn btn-sm btn-danger" title="Delete Schedule" ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()" ng-click=delete(schedule)><i class="fa fa-trash"></i></button> <button class="btn btn-sm btn-primary" id=action.edit.{{schedule.triggerName}} ng-click="edit(schedule.triggerName, schedule.reportId)" title="Show Report Parameters"><i class="fa fa-cogs"></i></button> </td> <td>{{schedule.reportId}}</td> <td> <i class=fa ng-class="{\'fa-file-pdf-o\':schedule.deliveryOptions.format === \'PDF\', \'fa-file-text-o\': schedule.deliveryOptions.format === \'CSV\'}"></i> {{schedule.deliveryOptions.format}} </td> <td> <span ng-if="schedule.deliveryOptions.persist || false" title="Persist to Disk"> <i class="fa fa-save"></i> </span> </td> <td> <span ng-if="schedule.deliveryOptions.sendMail || false" title="Mail to {{schedule.deliveryOptions.mailTo}}"> <i class="fa fa-envelope-o"></i> </span> </td> <td> <span ng-if="schedule.deliveryOptions.webhook || false" title="POST to {{schedule.deliveryOptions.webhookUrl}}"> <i class="fa fa-paper-plane-o"></i> </span> </td> <td> <span title="Cron Expression"> <i class="fa fa-clock-o"></i> <small>{{schedule.cronExpression}}</small> </span> </td> <td>{{schedule.triggerName}}</td> <td>{{schedule.nextFireTime}}</td> <td> </td> </tr> </tbody> </table> </pagination> </div>')}]),e.exports=t},945:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,' <div class="alert alert-danger mx-2 my-2" ng-if=errorMessage> <span>{{errorMessage}}</span> </div> <div class="alert alert-warning mx-2 my-2" ng-if="!meta.online && !(userInfo.isAdmin() || userInfo.isReportDesigner())"> <span>This report cannot be executed adhoc and you do not have permissions to deliver/schedule this report.</span> </div> <div ng-if="meta.online || userInfo.isAdmin() || userInfo.isReportDesigner()"> <onms-report-details ng-model=report options=options on-invalid-change=onReportFormInvalidStateChange(invalidState) on-global-error=setGlobalError(response)></onms-report-details> <div class="alert alert-success mx-4" ng-if=scheduleSuccess> The report was scheduled. <br/> <a ui-sref-active=active ui-sref=report.schedules>Show Schedules</a> </div> <div class="alert alert-success mx-4" ng-if=deliverySuccess> The report was scheduled for delivery. It may take some time until it is delivered. <br/> <a ui-sref-active=active ui-sref=report.schedules>Show scheduled Reports</a> <br/> <a ui-sref-active=active ui-sref=report.persisted>Show persisted Reports</a> </div> <div class="form-group mx-4"> <button class="btn btn-danger" name=cancel id=cancel ui-sref=report.templates> <i class="fa fa-times"></i> Cancel </button> <button class="btn btn-primary" name=run id=execute ng-click=execute() ng-disabled="reportForm.$invalid || !report.scheduleOptions.isValid() || (report.isGrafanaReport() && !report.isGrafanaEndpointSelected())"> <span ng-if="meta.online && !options.deliverReport && !options.scheduleReport"><i class="fa fa-play"></i> Create</span> <span ng-if="options.deliverReport && !options.scheduleReport"><i class="fa fa-share"></i> Deliver</span> <span ng-if="options.deliverReport && options.scheduleReport"><i class="fa fa-clock-o"></i> Schedule</span> Report </button> </div> </div>')}]),e.exports=t},946:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/modals/schedule-edit-modal.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=modal-header> <h3>Edit Schedule</h3> </div> <div class=modal-body> <onms-report-details ng-if=report ng-model=report options=options on-invalid-change=onReportFormInvalidStateChange(invalidState) on-global-error=setGlobalError(response)></onms-report-details> </div> <div class=modal-footer> <button class="btn btn-danger" id=action.cancel.{{meta.triggerName}} ng-click=$close()><i class="fa fa-times"></i> Cancel</button> <button class="btn btn-primary" id=action.update.{{meta.triggerName}} ng-click=update() ng-disabled="reportForm.$invalid || !report.scheduleOptions.isValid() || (report.isGrafanaReport() && !report.isGrafanaEndpointSelected())"><i class="fa fa-save"></i> Update</button> </div>')}]),e.exports=t},947:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-reports/report-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<style type=text/css>.ui-select-bootstrap.is-invalid>.ui-select-match>.btn{border-color:#dc3545;background-image:url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23dc3545\' viewBox=\'-2 -2 7 7\'%3e%3cpath stroke=\'%23dc3545\' d=\'M0 0l3 3m0-3L0 3\'/%3e%3ccircle r=\'.5\'/%3e%3ccircle cx=\'3\' r=\'.5\'/%3e%3ccircle cy=\'3\' r=\'.5\'/%3e%3ccircle cx=\'3\' cy=\'3\' r=\'.5\'/%3e%3c/svg%3E");background-repeat:no-repeat;background-position:100% calc(.375em + .1875rem);background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.ui-select-bootstrap>.ui-select-match>.btn{border-color:#ced4da;background-color:#fff;background:url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 5\'%3e%3cpath fill=\'%23{$custom-select-indicator-color}\' d=\'M2 0L0 2h4zm0 5L0 3h4z\'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px}.ui-select-match[disabled]{background-color:#eee}</style> <form name=reportForm class="form mx-4 mt-2" role=form novalidate> <div class="" ng-if="report.parameters && report.parameters.length > 0"> <h3 class="">Report Parameters</h3> <div ng-show="report.isGrafanaReport() && !options.hideEndpointsChooser" class=form-group> <label>Grafana Endpoint</label> <a href=/opennms/admin/endpoint/index.jsp title="Configure Grafana Endpoints"> <i class="fa fa-plug"></i></a> <a href title="Reload Grafana Endpoints" ng-click=loadEndpoints()> <i class="fa fa-refresh"></i></a> <ui-select ng-model=selected.endpoint ng-show="endpoints.length > 0" ng-class="{ \'is-invalid\': report.errors.GRAFANA_ENDPOINT_UID || report.errors.GRAFANA_DASHBOARD_UID }" ng-change=endpointChanged() theme=bootstrap> <ui-select-match placeholder="Select Grafana Endpoint"> <span>{{$select.selected.label}}</span> </ui-select-match> <ui-select-choices repeat="endpoint in (endpoints | filter: $select.search)"> {{endpoint.label}} </ui-select-choices> </ui-select> <p class="alert alert-warning" ng-if="endpoints.length == 0"> There is no Grafana Endpoint defined. Please <a href=/opennms/admin/endpoint/index.jsp>add a Grafana Endpoint</a>. </p> <div class="text-danger mt-1" style=font-size:80% ng-if=report.errors.GRAFANA_ENDPOINT_UID> {{report.errors.GRAFANA_ENDPOINT_UID}}: <a href=/opennms/admin/endpoint/index.jsp#!/endpoints/grafana>Configure Grafana Endpoints</a> </div> <div class="text-danger mt-1" style=font-size:80% ng-if=report.errors.GRAFANA_DASHBOARD_UID> {{report.errors.GRAFANA_DASHBOARD_UID}} </div> </div> <div ng-show="report.isGrafanaReport() && selected.endpoint" class=form-group> <label>Grafana Dashboard</label> <a ng-if="dashboards.length > 0" href={{selected.endpoint.url}}/{{selected.dashboard.url}} title="Show Dashboard" target=_blank> <i class="fa fa-dashboard"></i></a> <a href title="Refresh Dashboards" ng-click=endpointChanged()><i class="fa fa-refresh"></i></a> <ui-select ng-model=selected.dashboard ng-show="dashboards.length > 0" theme=bootstrap> <ui-select-match placeholder="Select Grafana Dashboard"> <span>{{$select.selected.title}}</span> </ui-select-match> <ui-select-choices repeat="dashboard in (dashboards | filter: $select.search)"> {{dashboard.title}} </ui-select-choices> </ui-select> <p class="alert alert-warning" ng-if="dashboards.length == 0"> There is no Grafana Dashboard defined. Please <a href={{selected.endpoint.url}}/dashboards target=_blank>add a Dashboard</a>. </p> </div> <div ng-if="parameter.type === \'string\' && parameter.hidden === false" class=form-group ng-repeat-start="parameter in report.parameters track by paramHash(parameter)"> <label for={{parameter.name}} class="">{{parameter.displayName}}</label> <select id={{parameter.name}} name=p{{parameter.name}} ng-if="parameter.inputType === \'reportCategorySelector\'" class="form-control custom-select" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || error[parameter.name]}" ng-model=parameter.value ng-options="option for option in report.supportedSurveillanceCategories"> </select> <select id={{parameter.name}} ng-if="parameter.inputType === \'onmsCategorySelector\'" class="form-control custom-select" ng-model=parameter.value> <option ng-repeat="option in report.supportedCategories">{{option}}</option> </select> <input id={{parameter.name}} name={{parameter.name}} ng-if="parameter.inputType !== \'reportCategorySelector\' && parameter.inputType !== \'onmsCategorySelector\'" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name]}" class=form-control type=text ng-model=parameter.value required/> <div ng-show=reportForm[parameter.name].$invalid class=invalid-feedback>Please provide a value.</div> <div ng-show=report.errors[parameter.name] class=invalid-feedback>{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'integer\'" class=form-group> <label for={{parameter.name}} class="">{{parameter.displayName}}</label> <input id={{parameter.name}} name={{parameter.name}} ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" class=form-control type=text ng-pattern=/^-?[0-9]*$/ ng-model=parameter.value required/> <div ng-show=reportForm[parameter.name].$invalid class=invalid-feedback>Please provide an integer value.</div> <div ng-show=report.errors[parameter.name] class=invalid-feedback>{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'float\'" class=form-group> <label for={{parameter.name}} class="">{{parameter.displayName}}</label> <input id={{parameter.name}} name={{parameter.name}} ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" class=form-control type=number ng-model=parameter.value required/> <div ng-show=reportForm[parameter.name].$invalid class=invalid-feedback>Please provide a decimal number.</div> <div ng-show=report.errors[parameter.name] class=invalid-feedback>{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'double\'" class=form-group> <label for={{parameter.name}} class="">{{parameter.displayName}}</label> <input id={{parameter.name}} name={{parameter.name}} ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" class=form-control type=number ng-model=parameter.value required/> <div ng-show=reportForm[parameter.name].$invalid class=invalid-feedback>Please provide a decimal number.</div> <div ng-show=report.errors[parameter.name] class=invalid-feedback>{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'date\'" class=form-group> <label for={{parameter.name}} class="">{{parameter.displayName}}</label> <div class=input-group ng-if="options.scheduleReport && parameter.useAbsoluteDate === false"> <input type=number name={{parameter.name}}Count ng-class="{ \'is-invalid\' : reportForm[parameter.name + \'Count\'].$invalid || report.errors[parameter.name + \'Count\'] }" class=form-control min=0 max=31 step=1 ng-pattern=/^[0-9]*$/ ng-model=parameter.count placeholder=count required/> <select class="form-control custom-select" ng-model=parameter.interval> <option value=day>day</option> <option value=month>month</option> <option value=year>year</option> </select> <label class="my-auto mx-2"> ago, at </label> <input type=number name={{parameter.name}}Hours ng-class="{ \'is-invalid\' : reportForm[parameter.name + \'Hours\'].$invalid || report.errors[parameter.name + \'Hours\'] }" class=form-control min=0 max=23 step=1 ng-pattern=/^[0-9]*$/ ng-model=parameter.hours placeholder=hours required/> <input type=number name={{parameter.name}}Minutes ng-class="{ \'is-invalid\' : reportForm[parameter.name + \'Minutes\'].$invalid || report.errors[parameter.name + \'Minutes\'] }" class=form-control min=0 max=59 step=1 ng-pattern=/^[0-9]*$/ ng-model=parameter.minutes placeholder=minutes required/> <div ng-show="reportForm[parameter.name + \'Count\'].$invalid || report.errors[parameter.name + \'Count\']" class=invalid-feedback>{{report.errors[parameter.name + \'Count\'] || \'Please provide a count value between 0 and 31.\'}}</div> <div ng-show="reportForm[parameter.name + \'Hours\'].$invalid || report.errors[parameter.name + \'Hours\']" class=invalid-feedback>{{report.errors[parameter.name + \'Hours\'] || \'Please provide an hours value between 0 and 23.\'}}</div> <div ng-show="reportForm[parameter.name + \'Minutes\'].$invalid || report.errors[parameter.name + \'Minutes\']" class=invalid-feedback>{{report.errors[parameter.name + \'Minutes\'] || \'Please provide a minutes value between 0 and 59.\'}}</div> </div> <datetimepicker ng-if="!options.scheduleReport || parameter.useAbsoluteDate === true" locale=parameter.internalLocale format=parameter.internalFormat ng-model=parameter.internalValue expand=true on-state-change="onDateParamStateChange(invalidState, date, parameter)"></datetimepicker> </div> <div ng-if="parameter.type === \'timezone\'" class=form-group ng-repeat-end> <label for={{parameter.name}} class="">{{parameter.displayName}}</label> <ui-select id={{parameter.name}} name={{parameter.name}} ng-model=parameter.value ng-change=timezoneChanged() ng-disabled=!report.timezoneEditable ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" theme=bootstrap> <ui-select-match placeholder="Select Timezone"> <span>{{$select.selected}}</span> </ui-select-match> <ui-select-choices repeat="timezone in (report.supportedTimezones | filter: $select.search)"> {{timezone}} </ui-select-choices> </ui-select> <div ng-show=!report.timezoneEditable class="text-horizon mt-1" style=font-size:80%> Time Zone has been explicitly configured in the Grafana Dashboard. This can be modified by changing <i>Timezone</i> in <a href="{{selected.endpoint.url}}/{{selected.dashboard.url}}?editview=settings" target=_blank>Time Options <i class="fa fa-external-link"></i></a>. </div> <div ng-show=report.errors[parameter.name] class="text-danger mt-1" style=font-size:80%>{{report.errors[parameter.name]}}</div> </div> <hr class=mb-4 /> </div> <div class=form-group ng-if="options.showReportFormatOptions && !options.deliverReport"> <label for=reportFormat class="">Report Format</label> <select id=reportFormat name=reportFormat ng-class="{ \'is-invalid\' : reportForm.reportFormat.$invalid || report.errors.format }" class="form-control custom-select" ng-model=report.format ng-options="format as format for format in report.supportedFormats"> </select> <div ng-show=report.errors.format class=invalid-feedback>{{report.errors.format}}</div> <hr class=mb-4 /> </div> <div class="form-group ml-4" ng-if="options.showDeliveryOptions && options.showDeliveryOptionsToggle"> <input type=checkbox id=deliverReport ng-model=options.deliverReport class=form-check-input ng-change="options.scheduleReport = options.deliverReport && options.scheduleReport"/> <label class=form-check-label data-toggle=tooltip data-placement=right title="Deliver report to file system or via e-mail" for=deliverReport> <i class="fa fa-share"></i> Deliver this report </label> </div> <div class="" ng-if="options.showDeliveryOptions && options.deliverReport"> <h3>Report Delivery Options</h3> <div class=""> <div class=form-group> <label for=instanceId>Unique name</label> <button class="btn btn-link text-secondary px-0" popover-trigger="\'mouseenter\'" uib-popover="A name to identify this report. Must be unique overall schedules/deliveries."><i class="fa fa-info-circle"/> </button> <input ng-disabled=!options.canEditTriggerName id=instanceId name=instanceId ng-model=report.deliveryOptions.instanceId ng-class="{ \'is-invalid\' : reportForm.instanceId.$invalid || report.errors.instanceId }" class=form-control data-toggle=tooltip data-placement=right title="A name to identify this report. Must be unique overall reports." required/> <div ng-show=reportForm.instanceId.$invalid class=invalid-feedback>Please provide a value.</div> <div ng-show=report.errors.instanceId class=invalid-feedback>{{report.errors.instanceId}}</div> </div> <div class=form-group> <label for=format class="">Format</label> <select id=format name=format ng-class="{ \'is-invalid\' : reportForm.format.$invalid || report.errors.format }" class="form-control custom-select" ng-model=report.format data-toggle=tooltip data-placement=right title="The output format of the generated report." ng-options="format as format for format in report.supportedFormats"> </select> <div ng-show=report.errors.format class=invalid-feedback>{{report.errors.format}}</div> </div> <div class="form-group ml-4"> <input type=checkbox id=persistToggle ng-model=report.deliveryOptions.persist class=form-check-input ng-class="{ \'is-invalid\' : report.errors.sendMail_persist_webhook }"/> <label class=form-check-label data-toggle=tooltip data-placement=right title="Indicates whether a copy of the generated report is stored on disk." for=persistToggle> Save a copy of this report </label> </div> <div class="form-group ml-4"> <input type=checkbox id=sendMailToggle ng-model=report.deliveryOptions.sendMail class=form-check-input ng-class="{ \'is-invalid\' : report.errors.sendMail_persist_webhook }"/> <label class=form-check-label for=sendMailToggle data-toggle=tooltip data-placement=right title="Indicates whether the generated report is send via email to the defined recipient."> Email report </label> </div> <div class="form-group ml-4"> <input type=checkbox id=webhookToggle ng-model=report.deliveryOptions.webhook class=form-check-input ng-class="{ \'is-invalid\' : report.errors.sendMail_persist_webhook }"/> <label class=form-check-label for=webhookToggle data-toggle=tooltip data-placement=right title="Indicates wheter the generated report is pushed to an URL"> Webhook </label> <div ng-show=report.errors.sendMail_persist_webhook class=invalid-feedback>Please select at least one delivery method</div> </div> <div class=form-group ng-if=report.deliveryOptions.sendMail> <label for=mailRecipient>Recipient</label> <button class="btn btn-link text-secondary px-0" popover-trigger="\'mouseenter\'" uib-popover="Allows multiple recipients by separating them via comma: test@opennms.org,ulf@opennms.org"><i class="fa fa-info-circle"/> </button> <input id=mailRecipient name=mailRecipient ng-model=report.deliveryOptions.mailTo placeholder=some@email.org type=email class=form-control ng-class="{ \'is-invalid\' : reportForm.mailRecipient.$invalid || report.errors.mailTo }" data-toggle=tooltip data-placement=right title="The recipient of the generated report if \'Email report\' is enabled." multi-emails required/> <div ng-show=reportForm.mailRecipient.$invalid class=invalid-feedback>Please provide a valid email.</div> <div ng-show=report.errors.mailTo class=invalid-feedback>{{report.errors.mailTo}}</div> </div> <div class=form-group ng-if=report.deliveryOptions.webhook> <label for=mailRecipient>Webhook URL</label> <button class="btn btn-link text-secondary px-0" popover-trigger="\'outsideClick\'" uib-popover-html="\'\n                        <div>\n                            Posts the generated report to this http endpoint.\n                            If url parameters are required, substitution of the URL supports the following parameters: <br/> <br/>\n                            - <strong>format</strong> Format of the report <br/>\n                            - <strong>instanceId</strong> Unique name of the report <br/>\n                            - <strong>parameter_&lt;parameterName&gt;</strong> Any report parameter <br/> <br/>\n\n                            <strong>Example</strong> <br/>\n                            <span>http://localhost:8080/files?instanceId=:instanceId&format=:format&option=:parameter_option</pre>\n                        </div>\'"> <i class="fa fa-info-circle"></i> </button> <input id=webhookUrl name=webhookUrl ng-model=report.deliveryOptions.webhookUrl placeholder=https://example.org/:reportId/?:instanceId type=text class=form-control ng-class="{ \'is-invalid\' : reportForm.webhookUrl.$invalid || report.errors.webhookUrl }" data-toggle=tooltip data-placement=right title="The report is sent to this URL with an http post request after generated" required/> <div ng-show=reportForm.webhookUrl.$invalid class=invalid-feedback>Please provide a valid webhook url.</div> <div ng-show=report.errors.webhookUrl class=invalid-feedback>{{report.errors.webhookUrl}}</div> </div> </div> <hr class=mb-4 /> </div> <div class="form-group ml-4" ng-if="options.showScheduleOptions && options.showScheduleOptionsToggle"> <input type=checkbox id=createSchedule ng-model=options.scheduleReport class=form-check-input ng-change="options.deliverReport = options.deliverReport || options.scheduleReport"/> <label class=form-check-label data-toggle=tooltip data-placement=right title="Schedule this report" for=createSchedule> <i class="fa fa-clock-o"></i> Schedule this report </label> </div> <div class="" ng-if="options.showScheduleOptions && options.scheduleReport"> <h3>Schedule Editor</h3> <div class=""> <onms-schedule-editor ng-model=report.scheduleOptions /> <div class=text-danger style=font-size:80%;max-width:300px ng-if=report.errors.cronExpression>{{report.errors.cronExpression}}</div> </div> <hr/> </div> <p class=text-danger style=font-size:80% ng-if=report.errors.entity> {{report.errors.entity}} </p> </form>')}]),e.exports=t},96:function(e,exports,t){"use strict";t(16),t(91),t(24),t(97),t(117),t(65);var o,r,a=u(t(81)),n=u(t(13)),i=u(t(181)),s=u(t(34)),l=u(t(20)),c=u(t(11)),d=u(t(85));function u(e){return e&&e.__esModule?e:{default:e}}var p="onms.elementList";window.ISO_8601_DATE_FORMAT="yyyy-MM-ddTHH:mm:ss.sssZ",window.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS="yyyy-MM-ddTHH:mm:ssZ";var angular=t(3);t(5);t(10);function f(e){return"string"==typeof e?e.replace("!","%21").replace("$","%24").replace("'","%27").replace("(","%28").replace(")","%29").replace("+","%2B").replace(",","%2C").replace(";","%3B").replace("=","%3D"):e}function m(e){for(var t=!0,o="",r=0;r<e.length;r++){switch(t||(o+=";"),o+=e[r].property,e[r].operator){case"EQ":o+="==";break;case"NE":o+="!=";break;case"LT":o+="=lt=";break;case"LE":o+="=le=";break;case"GT":o+="=gt=";break;case"GE":o+="=ge="}o+=f(e[r].value),t=!1}return o}function h(e){for(var t=e.split(";"),o=[],r=[],a=0;a<t.length;a++){var n,i,s,l,d,u;0<(0,c.default)(n=t[a]).call(n,"==")?(o=t[a].split("=="),r.push({property:o[0],operator:"EQ",value:o[1]})):0<(0,c.default)(i=t[a]).call(i,"!=")?(o=t[a].split("!="),r.push({property:o[0],operator:"NE",value:o[1]})):0<(0,c.default)(s=t[a]).call(s,"=lt=")?(o=t[a].split("=lt="),r.push({property:o[0],operator:"LT",value:o[1]})):0<(0,c.default)(l=t[a]).call(l,"=le=")?(o=t[a].split("=le="),r.push({property:o[0],operator:"LE",value:o[1]})):0<(0,c.default)(d=t[a]).call(d,"=gt=")?(o=t[a].split("=gt="),r.push({property:o[0],operator:"GT",value:o[1]})):0<(0,c.default)(u=t[a]).call(u,"=ge=")&&(o=t[a].split("=ge="),r.push({property:o[0],operator:"GE",value:o[1]}))}return r}function v(e,t,o){var r,a=e;return a=(r=t<0?a=0:Math.floor(t/o)*o)<(a=a<0?0:a)?r:a,a=Math.floor(a/o)*o}var g=t(99),y=t(100),b=t(101);(0,l.default)(o=(0,l.default)(r=angular.module("onmsListFilters",[])).call(r,"operator",function(){return function(e,t){var o="string"==typeof t&&-1<(0,c.default)(t).call(t,"*");switch(e){case"EQ":return o?"is like":"equals";case"NE":return o?"is not like":"does not equal";case"LT":return"is less than";case"LE":return"is less than or equal";case"GT":return"is greater than";case"GE":return"is greater than or equal";default:return e}}})).call(o,"isNotEmpty",function(){return function(e){return e&&("string"!=typeof e||""!==(0,s.default)(e).call(e))}}),angular.module(p,[]).config(["$locationProvider",function(e){e.html5Mode({enabled:!0,rewriteLinks:!1})}]).directive("onmsListEditInPlace",function(){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.originalValue=angular.copy($scope.value),$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.editing=!1},$scope.onKeyup=function(e){27===e.keyCode&&$scope.cancel()},$scope.submit=function(){$scope.onSubmit(),$scope.originalValue=$scope.value,$scope.unedit()},$scope.cancel=function(){$scope.value=$scope.originalValue,$scope.unedit()}}],scope:{item:"=",value:"=",valueType:"=",step:"=",onSubmit:"&onSubmit"},templateUrl:g,transclude:!0}}).directive("onmsListEditListInPlace",["$window",function(o){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,i.default)($scope),$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(e,t){o.confirm('Are you sure you want to remove "'+t+'"?')&&((0,n.default)(e).call(e,(0,c.default)(e).call(e,t),1),$scope.onEdit())},$scope.add=function(e,t){e.push(t),(0,a.default)(e).call(e),$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:y,transclude:!0}}]).directive("onmsListEditMapInPlace",["$window",function(o){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newKey=null,$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,i.default)($scope),$scope.newKey,$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(e,t){o.confirm('Are you sure you want to remove "'+t+'"?')&&(delete e[t],$scope.onEdit())},$scope.add=function(e,t,o){e[t]=o,$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",keyType:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:b,transclude:!0}}]).controller("ListCtrl",["$scope","$location","$window","$log","$filter",function($scope,t,e,o,a){o.debug("ListCtrl initializing..."),$scope.defaults={_s:"",searchClauses:[],limit:20,offset:0,orderBy:"",order:"asc"};var r=void 0===t.search().limit?$scope.defaults.limit:0<Number(t.search().limit)?Number(t.search().limit):$scope.defaults.limit;$scope.query={lastOffset:0,maxOffset:0,searchParam:void 0===t.search()._s?$scope.defaults._s:t.search()._s,searchClauses:void 0===t.search()._s?$scope.defaults.searchClauses:h(t.search()._s),limit:r,newLimit:r,offset:void 0===t.search().offset?$scope.defaults.offset:0<Number(t.search().offset)?v(Number(t.search().offset),Number.MAX_VALUE,r):$scope.defaults.offset,orderBy:void 0===t.search().orderBy?$scope.defaults.orderBy:t.search().orderBy,order:void 0===t.search().order?$scope.defaults.order:"asc"===t.search().order?"asc":"desc"},$scope.$watch("query",function(){var e=angular.copy($scope.query);delete e.searchClauses,delete e.newLimit,delete e.lastOffset,delete e.maxOffset,e._s=""===e.searchParam?null:e.searchParam,delete e.searchParam,e.limit!==$scope.defaults.limit&&""!==e.limit||delete e.limit,e.offset!==$scope.defaults.offset&&""!==e.offset||delete e.offset,e.orderBy!==$scope.defaults.orderBy&&""!==e.orderBy||delete e.orderBy,e.order!==$scope.defaults.order&&""!==e.order||delete e.order,e._s!==$scope.defaults._s&&""!==e._s||delete e._s,t.search(e)},!0),$scope.addSearchClause=function(e){angular.isDate(e.value)&&(e.value=a("date")(new Date(e.value),ISO_8601_DATE_FORMAT)),$scope.getSearchClause(e)||($scope.query.searchClauses.push(angular.copy(e)),$scope.query.searchParam=m($scope.query.searchClauses),$scope.refresh())},$scope.getSearchClause=function(e){for(var t=0;t<$scope.query.searchClauses.length;t++)if($scope.clauseEquals(e,$scope.query.searchClauses[t]))return $scope.query.searchClauses[t];return null},$scope.clauseEquals=function(e,t){return e.property===t.property&&e.operator===t.operator&&e.value===t.value},$scope.addEpochTimestampSearchClause=function(e){e.value=a("date")(e.value,ISO_8601_DATE_FORMAT),$scope.addSearchClause(e)},$scope.removeSearchClause=function(e){var t,o;(0,n.default)(t=$scope.query.searchClauses).call(t,(0,c.default)(o=$scope.query.searchClauses).call(o,e),1),$scope.query.searchParam=m($scope.query.searchClauses),$scope.refresh()},$scope.removeSearchClauses=function(e){for(var t=0;t<e.length;t++){var o,r,a=(0,c.default)(o=$scope.query.searchClauses).call(o,e[t]);if(0<=a)(0,n.default)(r=$scope.query.searchClauses).call(r,a,1)}$scope.query.searchParam=m($scope.query.searchClauses),$scope.refresh()},$scope.replaceSearchClause=function(e,t){angular.isDate(t.value)&&(t.value=a("date")(new Date(t.value),ISO_8601_DATE_FORMAT));var o=$scope.getSearchClause(e),r=$scope.getSearchClause(t);o?r?$scope.removeSearchClause(e):(o.property=t.property,o.operator=t.operator,o.value=t.value,$scope.query.searchParam=m($scope.query.searchClauses),$scope.refresh()):r||$scope.addSearchClause(t)},$scope.clearSearch=function(){0<$scope.query.searchClauses.length&&($scope.query.searchClauses=[],$scope.query.searchParam="",$scope.refresh())},$scope.changeOrderBy=function(e){$scope.query.orderBy===e?$scope.query.order="asc"===$scope.query.order?"desc":"asc":($scope.query.orderBy=e,$scope.query.order=$scope.defaults.order),$scope.refresh()},$scope.setOffset=function(e){var t=v(e,$scope.query.maxOffset,$scope.query.limit);$scope.query.offset!==t&&($scope.query.offset=t,$scope.refresh())},$scope.setLimit=function(e){e<1?$scope.query.newLimit=$scope.query.limit:$scope.query.limit!==e&&($scope.query.limit=e,$scope.query.offset=v($scope.query.offset,$scope.query.maxOffset,$scope.query.limit),$scope.refresh())},$scope.refresh=function(){o.warn("You need to override $scope.$parent.refresh() in your controller")},$scope.update=function(){o.warn("You need to override $scope.$parent.update() in your controller")},$scope.deleteItem=function(e){o.warn("You need to override $scope.$parent.deleteItem() in your controller")},o.debug("ListCtrl initialized")}]).run(["$rootScope","$log",function(e,t){t.debug("Finished initializing "+p)}]),e.exports={appendTransform:function(e,t){var o=angular.isArray(e)?e:[e];return(0,d.default)(o).call(o,t)},toFiql:m,fromFiql:h,parseContentRange:function(e){if(!e)return{start:0,end:0,total:0};var t=/items\s+?(\d+)\s*-\s*(\d+)\s*\/\s*(\d+)/;return{start:Number(e.replace(t,"$1")),end:Number(e.replace(t,"$2")),total:Number(e.replace(t,"$3"))}},escapeSearchValue:f,normalizeOffset:v}},99:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class=form-inline ng-submit=submit() style=margin:0> <input ng-show=editing ng-keyup=onKeyup($event) type={{valueType}} step={{step}} ng-model=value /> <span style=line-height:24px ng-hide=editing ng-click=edit()>{{value}}&nbsp;</span> <a href style=text-decoration:none ng-click=edit() ng-hide=editing><i class="fa fa-edit fa-lg"/></a> <a href style=text-decoration:none ng-click=submit() ng-show=editing><i class="fa fa-check fa-lg"/></a> <a href style=text-decoration:none ng-click=cancel() ng-show=editing><i class="fa fa-close fa-lg"/></a> <span ng-transclude/> </form> ')}]),e.exports=t}},[[837,0]]])});
//# sourceMappingURL=onms-reports.min.js.map