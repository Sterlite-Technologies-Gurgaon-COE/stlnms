{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/apps/search/index.js","webpack:///./src/main/assets/js/apps/search/template.ksc.html","webpack:///./src/main/assets/js/apps/search/template.nodes.html","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/modules/lib/util/index.js"],"names":["angular","require","kscTemplate","nodesTemplate","module","directive","restrict","transclude","templateUrl","controller","$scope","$window","$http","getNodes","criteria","url","method","params","label","comparator","then","response","data","node","goToChooseResources","location","href","Util","getBaseHref","id","$filter","getKscReports","kscReport","goToKscReport","ksc","permissionDeniedTemplate","factory","$q","$rootScope","responseError","rejection","status","config","console","error","headers","$emit","reject","$httpProvider","defaults","common","interceptors","push","run","$uibModal","$on","baseTags","document","getElementsByTagName","length","window","warn","open","$uibModalInstance","reload","dismiss","size","backdrop","keyboard","exports","log","jQuery","base","booleanValue","elementName","checkboxes","getElementsByName","index","hasOwnProperty","checked"],"mappings":"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","file":"search.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2017 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\nconst kscTemplate = require('./template.ksc.html');\nconst nodesTemplate = require('./template.nodes.html');\n\nimport Util from 'lib/util';\n\nangular.module('onms-search', [\n  'onms.http',\n  'ui.bootstrap'\n])\n\n.directive('onmsSearchNodes', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: nodesTemplate,\n    controller: 'NodeSearchCtrl'\n  };\n})\n\n.directive('onmsSearchKsc', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: kscTemplate,\n    controller: 'KscSearchCtrl'\n  };\n})\n\n.controller('NodeSearchCtrl', ['$scope', '$window', '$http', function($scope, $window, $http) {\n\n  $scope.getNodes = function(criteria) {\n    return $http({\n      url: 'rest/nodes',\n      method: 'GET',\n      params: { label: criteria, comparator: 'contains' }\n    }).then(function(response) {\n      return response.data.node;\n    });\n  };\n\n  $scope.goToChooseResources = function(node) {\n    $window.location.href = Util.getBaseHref() + 'graph/chooseresource.jsp?node=' + node.id;\n  }\n\n}])\n\n.controller('KscSearchCtrl', ['$scope', '$window', '$http', '$filter', function($scope, $window, $http, $filter) {\n\n  $scope.getKscReports = function(criteria) {\n    return $http({\n      url: 'rest/ksc',\n      method: 'GET'\n    }).then(function(response) {\n       return $filter('filter')(response.data.kscReport, criteria);\n    });\n  };\n\n  $scope.goToKscReport = function(ksc) {\n    $window.location.href = Util.getBaseHref() + 'KSC/customView.htm?type=custom&report=' + ksc.id;\n  }\n\n}]);","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/apps/search/template.ksc.html';\nvar html = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncKsc\\\" placeholder=\\\"Type the KSC report name\\\"\\n      uib-typeahead=\\\"ksc as ksc.label for ksc in getKscReports($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"kscLoadingNodes\\\"\\n      typeahead-no-results=\\\"kscNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToKscReport($item)\\\"/>\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"kscLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"kscNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/apps/search/template.nodes.html';\nvar html = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncNode\\\" placeholder=\\\"Type the node label\\\"\\n      uib-typeahead=\\\"node as node.label for node in getNodes($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"nodeLoadingNodes\\\"\\n      typeahead-no-results=\\\"nodeNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToChooseResources($item)\\\"/>\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"nodeLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"nodeNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nvar html = \"<div class=\\\"modal-header\\\">\\n    <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <h5>\\n        You are not allowed to perform the requested action.\\n    </h5>\\n    <p class=\\\"text-muted\\\">\\n        This is not supposed to happen.\\n        Please reload the page and contact your administrator if this occurs more often.\\n    </p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"reload()\\\">Reload</button>\\n</div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                window.location.href = baseTags[0].href + 'login.jsp?session_expired=true';\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js'); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nmodule.exports = jQuery;\n","export default class Util {\n\tstatic getBaseHref() {\n\t\tconst base = document.getElementsByTagName('base')[0];\n\t\tif (base) {\n\t\t\treturn base.href;\n\t\t}\n\t\treturn '';\n\t}\n\tstatic setLocation(url) {\n\t\tif (window && window.location) {\n\t\t\twindow.location.href = Util.getBaseHref() + url;\n\t\t}\n\t}\n\tstatic toggle(booleanValue, elementName) {\n\t\tvar checkboxes = document.getElementsByName(elementName);\n\t\tfor (var index in checkboxes) {\n\t\t\tif (checkboxes.hasOwnProperty(index)) {\n\t\t\t\tcheckboxes[index].checked = booleanValue;\n\t\t\t}\n\t\t}\n\t}\n}"],"sourceRoot":""}