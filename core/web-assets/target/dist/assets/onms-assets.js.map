{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/apps/onms-assets/index.js","webpack:///./src/main/assets/js/apps/onms-central-search/index.js","webpack:///./src/main/assets/js/apps/onms-central-search/quicksearch.html","webpack:///./src/main/assets/js/apps/onms-date-formatter/index.js","webpack:///./src/main/assets/js/apps/onms-default-apps/index.js","webpack:///./src/main/assets/js/apps/search/index.js","webpack:///./src/main/assets/js/apps/search/template.ksc.html","webpack:///./src/main/assets/js/apps/search/template.nodes.html","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/vendor/bootbox-js.js","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/vendor/jquery-ui-js.js","webpack:///./src/main/assets/modules/lib/util/index.js"],"names":["angular","require","bootbox","defaultConfig","module","config","growlProvider","globalTimeToLive","globalPosition","$uibTooltipProvider","setTriggers","options","controller","$scope","$http","$q","growl","uibDateParser","blackList","infoKeys","dateKeys","dateFormat","master","asset","suggestions","init","nodeId","get","success","node","nodeLabel","label","foreignSource","foreignId","key","assetRecord","parse","copy","k","error","msg","getSuggestions","field","suggestion","reset","assetForm","$setPristine","save","target","method","url","headers","data","$","param","checkRequisition","assets","confirm","ok","updateRequisition","assetFields","hasOwnProperty","push","name","value","post","quickSearchTemplate","globalErrorHandling","scope","errorResponse","MODULE_NAME","directive","restrict","transclude","templateUrl","factory","$resource","isArray","cancellable","SearchResource","$timeout","$document","KeyCodes","ENTER","SHIFT","ESC","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","Types","Group","Item","More","query","results","performSearchExecuted","showLoadingIndicator","showLoadingIndicatorDelay","performSearchDelay","performSearchPromise","undefined","performSearchHandle","showLoadingIndicatorPromise","shiftLastPressed","selectedIndex","event","isChild","has","length","isSelf","is","isInside","resetQuery","cancelRequest","e","keyCode","Date","element","focus","select","document","getElementById","navigateSearchResult","parentComponent","parentHeight","clientHeight","resultHeight","resultOffset","offsetTop","padding","scrollTop","type","triggerHandler","click","selected","$cancelRequest","cancel","index","selectIndex","onQueryChange","eachResult","context","count","more","item","showMoreElement","loadMore","response","endIndex","searchResult","i","status","moment","OnmsDateFormatter","prototype","readyCallback","self","defaultFormat","window","_onmsZoneId","xhr","XMLHttpRequest","onreadystatechange","readystatechange","readyState","DONE","JSON","responseText","datetimeformatConfig","datetimeformat","_onmsDateTimeFormat","zoneId","console","log","statusText","open","setRequestHeader","send","assertInitialized","Error","getZoneId","_zoneId","warn","tz","guess","format","date","momentDate","formatJavaDTF","jest","f","_onmsFormatter","DateFormatterService","$interval","deferred","defer","resolve","raw","formatter","promise","then","$filter","onmsDate","input","ifEmpty","ret","dateFormatterService","compile","text","formatted","replaceWith","catch","exports","search","centralSearch","kscTemplate","nodesTemplate","$window","getNodes","criteria","params","comparator","goToChooseResources","location","href","Util","getBaseHref","id","getKscReports","kscReport","goToKscReport","ksc","permissionDeniedTemplate","$rootScope","responseError","rejection","$emit","reject","$httpProvider","defaults","common","interceptors","run","$uibModal","$on","baseTags","getElementsByTagName","$uibModalInstance","reload","dismiss","size","backdrop","keyboard","jQuery","base","booleanValue","elementName","checkboxes","getElementsByName","checked"],"mappings":"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","file":"onms-assets.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nconst bootbox = require('vendor/bootbox-js');\nrequire('lib/onms-http');\nrequire('../onms-date-formatter');\nrequire('../onms-default-apps');\n\nconst defaultConfig = require('./config.json');\n\nangular.module('onms-assets', [\n  'onms.http',\n  'onms.default.apps',\n  'ui.bootstrap',\n  'angular-growl',\n  'onmsDateFormatter'\n])\n\n.config(['growlProvider', function(growlProvider) {\n  growlProvider.globalTimeToLive(3000);\n  growlProvider.globalPosition('bottom-center');\n}])\n\n.config(['$uibTooltipProvider', function($uibTooltipProvider) {\n  $uibTooltipProvider.setTriggers({\n    'mouseenter': 'mouseleave'\n  });\n  $uibTooltipProvider.options({\n    'placement': 'right',\n    'trigger': 'mouseenter'\n  });\n}])\n\n.controller('NodeAssetsCtrl', ['$scope', '$http', '$q', 'growl', 'uibDateParser', function($scope, $http, $q, growl, uibDateParser) {\n\n  $scope.blackList = [ 'id', 'lastModifiedDate', 'lastModifiedBy', 'lastCapsdPoll', 'createTime' ];\n  $scope.infoKeys = [ 'sysObjectId', 'sysName', 'sysLocation', 'sysContact', 'sysDescription' ];\n  $scope.dateKeys = [ 'dateInstalled', 'leaseExpires', 'maintContractExpiration' ];\n\n  $scope.dateFormat = 'yyyy-MM-dd';\n\n  $scope.config = {};\n  $scope.master = {};\n  $scope.asset = {};\n  $scope.suggestions = {};\n  /*\n  $scope.nodeId;\n  $scope.nodeLabel;\n  $scope.foreignSource;\n  $scope.foreignId;\n  */\n\n  $scope.init = function(nodeId) {\n    $scope.nodeId = nodeId;\n    $scope.config = defaultConfig;\n    $http.get('rest/nodes/' + $scope.nodeId)\n      .success(function(node) {\n        $scope.nodeLabel = node.label;\n        $scope.foreignSource = node.foreignSource;\n        $scope.foreignId = node.foreignId;\n        angular.forEach($scope.dateKeys, function(key) {\n          node.assetRecord[key] = uibDateParser.parse(node.assetRecord[key], $scope.dateFormat);\n        });\n        $scope.master = angular.copy(node.assetRecord);\n        $scope.asset = angular.copy(node.assetRecord);\n        angular.forEach($scope.infoKeys, function(k) {\n          $scope.asset[k] = node[k];\n        });\n      })\n      .error(function(msg) {\n        growl.error(msg);\n      });\n    $http.get('rest/assets/suggestions')\n      .success(function(suggestions) {\n        $scope.suggestions = suggestions\n      })\n      .error(function(msg) {\n        growl.error(msg);\n      });\n  };\n\n  $scope.getSuggestions = function(field) {\n    if ($scope.suggestions[field]) {\n      return $scope.suggestions[field].suggestion;\n    }\n    return [];\n  };\n\n  $scope.reset = function() {\n    $scope.asset = angular.copy($scope.master);\n    $scope.assetForm.$setPristine();\n  };\n\n  $scope.save = function() {\n    var target = {};\n    for (var k in $scope.asset) {\n      if ($scope.infoKeys.indexOf(k) === -1 && $scope.blackList.indexOf(k) === -1 && $scope.asset[k] !== '' && $scope.asset[k] !== null) {\n        target[k] = $scope.dateKeys.indexOf(k) === -1 ? $scope.asset[k] : uibDateParser.filter($scope.asset[k], $scope.dateFormat);\n      }\n    }\n    //console.log('Assets to save: ' + angular.toJson(target));\n    $http({\n      method: 'PUT',\n      url: 'rest/nodes/' + $scope.nodeId + '/assetRecord',\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n      data: $.param(target)\n    }).success(function() {\n      growl.success('The asset record has been successfully updated.');\n      $scope.checkRequisition(target);\n    }).error(function(msg) {\n      growl.error('Cannot update the asset record: ' + msg);\n    });\n  };\n\n  $scope.checkRequisition = function(assets) {\n    if ($scope.foreignSource && $scope.foreignId) {\n      bootbox.confirm('This node belongs to the requisition ' + $scope.foreignSource + '.<br/> It is recommended to update the requisition with your asset fields, but all the existing fields will be overriden.<br/> Do you want to do that ?', function(ok) {\n        if (ok) {\n          $scope.updateRequisition(assets);\n        }\n      });\n    }\n  };\n\n  $scope.updateRequisition = function(assets) {\n    var assetFields = [];\n    for (var key in assets) {\n      if (assets.hasOwnProperty(key)) {\n        assetFields.push({ name: key, value: assets[key] });\n      }\n    }\n    $http.get('rest/requisitions/' + $scope.foreignSource + '/nodes/' + $scope.foreignId)\n      .success(function(node) {\n        node.asset = assetFields;\n        $http.post('rest/requisitions/' + $scope.foreignSource + '/nodes', node)\n          .success(function() {\n            growl.success('Requisition ' + $scope.foreignSource + ' has been updated.');\n          })\n          .error(function() {\n            growl.error('Cannot update requisition ' + $scope.foreignSource);\n          });\n      })\n      .error(function() {\n        growl.error('Cannot obtain node data from requisition ' + $scope.foreignSource);\n      });\n  };\n\n}]);\n","const angular = require('vendor/angular-js');\nrequire('../../lib/onms-http');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle.css');\nrequire('angular-ui-router');\n\nconst quickSearchTemplate  = require('./quicksearch.html');\n\nconst globalErrorHandling = function(scope, errorResponse) {\n    if (errorResponse.data) {\n        scope.error = errorResponse.data;\n    } else {\n        scope.error = \"An unexpected error occurred while handling the request\";\n    }\n};\n\n(function() {\n    'use strict';\n\n    var MODULE_NAME = 'onms.central.search';\n\n    angular.module(MODULE_NAME, [\n        'angular-loading-bar',\n        'ngResource',\n        'ui.router',\n        'onms.http',\n    ])\n        .directive('onmsCentralSearch', function() {\n            return {\n                restrict: 'E',\n                transclude: false,\n                templateUrl: quickSearchTemplate,\n                controller: 'QuickSearchController'\n            };\n        })\n        .factory('SearchResource', function($resource) {\n            return $resource('api/v2/search', {}, {\n                'query':      { method: 'GET', isArray: true, cancellable: true },\n            });\n        })\n        .controller('QuickSearchController', ['$scope', 'SearchResource', '$timeout', '$document', function($scope, SearchResource, $timeout, $document) {\n            var KeyCodes = {\n                ENTER: 13,\n                SHIFT: 16,\n                ESC: 27,\n                KEY_LEFT: 37,\n                KEY_UP: 38,\n                KEY_RIGHT: 39,\n                KEY_DOWN: 40,\n            };\n\n            var Types = {\n                Group: 'Group',\n                Item: 'Item',\n                More: 'More'\n            };\n\n            $scope.query = '';\n            $scope.results = {};\n            $scope.performSearchExecuted = false;\n            $scope.showLoadingIndicator = false;\n            $scope.showLoadingIndicatorDelay = 250;\n            $scope.performSearchDelay = 500; // in ms\n            $scope.performSearchPromise = undefined;\n            $scope.performSearchHandle = undefined;\n            $scope.showLoadingIndicatorPromise = undefined;\n            $scope.shiftLastPressed = undefined;\n            $scope.selectedIndex = 0;\n\n            $document.bind('mousedown', function(event) {\n                var isChild = $('#onms-search-form').has(event.target).length > 0;\n                var isSelf = $('#onms-search-form').is(event.target);\n                var isInside = isChild || isSelf;\n                if (!isInside) {\n                    $timeout(function() {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    });\n                }\n            });\n\n            $document.bind('keyup', function(e) {\n                // Search Focus Field\n                $timeout(function() {\n                    if (e.keyCode === KeyCodes.SHIFT && new Date() - $scope.shiftLastPressed <= 350) {\n                        angular.element('#onms-search-query').focus();\n                        angular.element('#onms-search-query').select();\n                        $scope.shiftLastPressed = undefined;\n                    } else if(e.keyCode === KeyCodes.SHIFT) {\n                        $scope.shiftLastPressed = new Date();\n                    }\n\n                    // Reset Search\n                    if (e.keyCode === KeyCodes.ESC) {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    }\n                });\n            });\n\n            $document.bind('keydown', function(e) {\n                $timeout(function() {\n                    if ($scope.results.length > 0) {\n                        var element = document.getElementById('onms-search-result-item-' + $scope.selectedIndex);\n                        if (e.keyCode === KeyCodes.KEY_UP || e.keyCode === KeyCodes.KEY_DOWN) {\n                            $scope.navigateSearchResult(e.keyCode);\n\n                            // Ideally we would use scrollToView(), but that will also scroll the body, which\n                            // results in the header scrolling down slightly, which looks weird when using the search\n                            // So instead scrolling is implemented manually\n                            var parentComponent = document.getElementById('onms-search-result');\n                            var parentHeight = parentComponent.clientHeight;\n                            var resultHeight = element.clientHeight;\n                            var resultOffset = element.offsetTop;\n                            var padding = 25;\n\n                            // Scroll down\n                            if (resultOffset + resultHeight + padding >= parentHeight + parentComponent.scrollTop) {\n                                parentComponent.scrollTop = resultOffset;\n                            }\n                            // Scroll up\n                            if (parentComponent.scrollTop !== 0\n                                && parentComponent.scrollTop > resultOffset - resultHeight) {\n                                parentComponent.scrollTop = resultOffset - resultHeight;\n                            }\n                        }\n                        if (e.keyCode === KeyCodes.ENTER) {\n                            if ($scope.results[$scope.selectedIndex].type === Types.More) {\n                                // Ensure next action is run in angular context\n                                // Do not use angular.$apply here, as it may fail on angular sites,\n                                // such as the requisition ui\n                                $timeout(function() {\n                                    angular.element(element).triggerHandler('click');\n                                }, 0);\n                            } else {\n                                $scope.resetQuery();\n                                $scope.cancelRequest();\n                                element.click();\n                            }\n                        }\n                    }\n                });\n            });\n\n            $scope.navigateSearchResult = function(keyCode) {\n                $scope.results[$scope.selectedIndex].selected = false;\n                switch(keyCode) {\n                    case KeyCodes.KEY_UP:\n                        $scope.selectedIndex--;\n                        break;\n                    case KeyCodes.KEY_DOWN:\n                        $scope.selectedIndex++;\n                        break;\n                    default:\n                        break;\n                }\n                if ($scope.selectedIndex < 1) {\n                    $scope.selectedIndex = 1;\n                }\n                if ($scope.selectedIndex >= $scope.results.length) {\n                    $scope.selectedIndex = $scope.results.length - 1;\n                }\n                if ($scope.results[$scope.selectedIndex].type === Types.Group) {\n                    $scope.navigateSearchResult(keyCode); // Skip group element\n                } else {\n                    $scope.results[$scope.selectedIndex].selected = true;\n                }\n            };\n\n            $scope.resetQuery = function() {\n                $scope.query = '';\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n            };\n\n            $scope.cancelRequest = function() {\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n                $scope.showLoadingIndicator = false;\n                $timeout.cancel($scope.showLoadingIndicatorPromise);\n            };\n\n            // Ensure there is no difference between selected and mouseover\n            $scope.select = function(index) {\n                var selectIndex = index || 1;\n                if ($scope.selectedIndex >= 1) {\n                    $scope.results[$scope.selectedIndex].selected = false;\n                }\n                $scope.selectedIndex = selectIndex;\n                $scope.results[$scope.selectedIndex].selected = true;\n            };\n\n            $scope.onQueryChange = function() {\n                if ($scope.query.length == 0) {\n                    $scope.resetQuery();\n                    return;\n                }\n                if ($scope.query.length < 3) {\n                    return;\n                }\n\n                // Stop any previous loading\n                $timeout.cancel($scope.performSearchPromise);\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n\n                // Start timeout before actually searching, this will allow for not invoking when the user\n                // is still typing. Fiddle with $scope.loadingDelay to make it resolve faster\n                $scope.performSearchPromise = $timeout(function() {\n                    // Stop any previously started delay\n                    $timeout.cancel($scope.showLoadingIndicatorPromise);\n\n                    // Kick of loading indicator\n                    $scope.showLoadingIndicatorPromise = $timeout(function() {\n                        $scope.showLoadingIndicator = true;\n                    }, $scope.showLoadingIndicatorDelay);\n\n                    // Cancel any previous request\n                    if ($scope.performSearchHandle) {\n                        $scope.performSearchHandle.$cancelRequest();\n                    }\n\n                    // Kick of the search\n                    $scope.error = undefined;\n                    $scope.performSearchHandle = SearchResource.query({'_s' : $scope.query},\n                        function(data) {\n                            $scope.cancelRequest();\n                            $scope.performSearchExecuted = true;\n\n                            var results = [];\n                            data.forEach(function(eachResult) {\n                                // Create the header\n                                results.push({\n                                        context: eachResult.context.name,\n                                        // Make the label have an s at the end if it has multiple items\n                                        label: eachResult.results.length > 1 ? eachResult.context.name + 's' : eachResult.context.name,\n                                        type: Types.Group,\n                                        count: eachResult.results.length,\n                                        more: eachResult.more\n                                    }\n                                );\n\n                                eachResult.results.forEach(function(item) {\n                                    item.type = Types.Item;\n                                    results.push(item);\n                                });\n\n                                if (eachResult.more === true) {\n                                    var showMoreElement = {\n                                        context: eachResult.context.name,\n                                        count: eachResult.results.length,\n                                        type: Types.More,\n                                        loadMore: function() {\n                                            $scope.error = undefined;\n                                            SearchResource.query({'_s': $scope.query, '_l': this.count + 10, '_c' : this.context}, function(response) {\n                                                var endIndex = $scope.results.indexOf(showMoreElement);\n\n                                                // The result is context focused, so there is only one search result anyways\n                                                var searchResult = response[0];\n                                                var results = searchResult.results.slice(endIndex - 1); // Remove first elements, as they are already being showed\n                                                results.forEach(function(item, i) {\n                                                    // Add item\n                                                    item.type = Types.Item;\n                                                    $scope.results.splice(endIndex + i, 0, item);\n                                                    showMoreElement.count++;\n                                                });\n                                                // Toggle Selection\n                                                showMoreElement.selected = false;\n                                                $scope.results[$scope.selectedIndex].selected = true;\n\n                                                // Hide element\n                                                if (searchResult.more === false) {\n                                                    $scope.results.splice($scope.results.indexOf(showMoreElement), 1);\n                                                }\n                                            }, function(response) {\n                                                $scope.performSearchExecuted = true;\n                                                globalErrorHandling($scope, response);\n                                            });\n                                        },\n                                        selected: false\n                                    };\n                                    results.push(showMoreElement);\n                                }\n                            });\n                            $scope.results = results;\n                            if ($scope.results.length != 0) {\n                                $scope.selectedIndex = 1;\n                                $scope.results[$scope.selectedIndex].selected = true;\n                            }\n                        },\n                        function(response) {\n                            if (response.status >= 0) {\n                                $scope.performSearchExecuted = true;\n                                globalErrorHandling($scope, response);\n                                $scope.cancelRequest();\n                            } else {\n                                // Request cancelled\n                            }\n                        }\n                    );\n                }, $scope.performSearchDelay);\n            };\n        }])\n    ;\n}());\n","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html';\nvar html = \"<style type=\\\"text/css\\\">\\n    .search-result {\\n        max-height: 700px;\\n        min-width: 280px;\\n        max-width: 60%;\\n        position: absolute;\\n        top: 100%;\\n        z-index: 100000;\\n        overflow: auto;\\n        border: #343a40 solid 1px;\\n    }\\n\\n    .search-result .list-group-item {\\n        padding: .25rem 0.75rem;\\n        font-size: 90%;\\n    }\\n\\n    .search-result .list-group-item:last-child {\\n        border-bottom-right-radius: 0;\\n        border-bottom-left-radius: 0;\\n    }\\n\\n    .search-bar .form-control {\\n        border: none;\\n        outline: none;\\n        box-shadow: none;\\n        border-radius: 1rem;\\n        padding: 0px;\\n    }\\n\\n    .search-bar .input-group-text {\\n        border-top-left-radius: 1rem;\\n        border-bottom-left-radius: 1rem;\\n        background-color: #fff;\\n        border-color: #fff;\\n    }\\n\\n    .search-result .list-group-item:hover {\\n        background-color: #e9ecef;\\n    }\\n\\n    .selected {\\n        background-color: #e9ecef;\\n    }\\n</style>\\n\\n<form id=\\\"onms-search-form\\\" autocomplete=\\\"off\\\" novalidate class=\\\"form-inline\\\">\\n    <!-- Disable auto complete -->\\n    <input autocomplete=\\\"false\\\" name=\\\"hidden\\\" type=\\\"text\\\" style=\\\"display:none;\\\">\\n\\n    <!-- Search Input -->\\n    <div class=\\\"input-group search-bar\\\">\\n        <div class=\\\"input-group-prepend\\\">\\n            <div class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></div>\\n        </div>\\n        <label class=\\\"form-control\\\">\\n            <input id=\\\"onms-search-query\\\" ng-change=\\\"onQueryChange()\\\" ng-focus=\\\"input.focus=true\\\" ng-blur=\\\"input.focus=false\\\" ng-model=\\\"query\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Search...\\\" aria-label=\\\"Search\\\">\\n            <small class=\\\"text-muted mr-4\\\" ng-show=\\\"!input.focus\\\">2x </small>\\n        </label>\\n        <!-- Loading Indicator -->\\n        <div ng-if=\\\"showLoadingIndicator\\\" class=\\\"btn btn-secondary rounded-0\\\">\\n            <div class=\\\"spinner-border spinner-border-sm text-white\\\" role=\\\"status\\\"/>\\n            <span class=\\\"sr-only\\\">Loading...</span>\\n        </div>\\n        <!-- Reset Search -->\\n        <div ng-if=\\\"performSearchExecuted === true && !showLoadingIndicator\\\" class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" title=\\\"Reset Search\\\" ng-click=\\\"resetQuery()\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n        </div>\\n        <!-- Cancel -->\\n        <div ng-if=\\\"showLoadingIndicator\\\" class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" title=\\\"Cancel Request\\\" ng-click=\\\"cancelRequest()\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n        </div>\\n    </div>\\n\\n    <!-- Results -->\\n    <div ng-if=\\\"performSearchExecuted === true\\\" class=\\\"bg-dark search-result rounded-bottom\\\" id=\\\"onms-search-result\\\">\\n        <div class=\\\"list-group\\\" ng-if=\\\"results.length > 0\\\">\\n            <div id=\\\"onms-search-result-item-{{$index}}\\\" ng-repeat-start=\\\"item in results track by $index\\\" ng-if=\\\"item.type === 'Group'\\\" class=\\\"list-group-item bg-dark text-grey border-0 pl-2\\\">\\n                <span ng-if=\\\"!item.t\\\">{{item.label}}</span>\\n            </div>\\n            <a id=\\\"onms-search-result-item-{{$index}}\\\" ng-class=\\\"{'selected': item.selected}\\\" ng-if=\\\"item.type === 'More'\\\" ng-click=\\\"item.loadMore()\\\" class=\\\"list-group-item list-group-item-action\\\" href ng-mouseover=\\\"select($index)\\\">more...</a>\\n            <a id=\\\"onms-search-result-item-{{$index}}\\\" ng-class=\\\"{'selected': item.selected}\\\" ng-repeat-end ng-if=\\\"item.type === 'Item'\\\" href=\\\"{{item.url}}\\\" class=\\\"list-group-item list-group-item-action\\\" ng-mouseover=\\\"select($index)\\\" ng-click=\\\"resetQuery()\\\">\\n                <h6 class=\\\"mb-0\\\"><i class=\\\"{{item.icon}}\\\" ng-if=\\\"item.icon\\\">&nbsp;</i>{{item.label}} <i style=\\\"-webkit-transform: scaleY(-1);transform: scaleY(-1);\\\" class=\\\"fa fa-reply pull-right\\\" ng-if=\\\"item.selected\\\"></i></h6>\\n                <small class=\\\"mr-4\\\" ng-class=\\\"{'text-muted': !item.selected}\\\" ng-repeat=\\\"match in item.matches\\\">{{match.label}}: {{match.value}}</small>\\n            </a>\\n        </div>\\n\\n        <!-- No Result -->\\n        <div ng-if=\\\"!error && results.length === 0\\\" class=\\\"text-grey\\\">\\n            <span>No Results found</span>\\n        </div>\\n        <div ng-if=\\\"error\\\" class=\\\"alert alert-danger mx-2 my-2\\\">\\n            <span>{{error}}</span>\\n        </div>\\n    </div>\\n</form>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","/* eslint no-console: 0 */\n\nconst angular = require('vendor/angular-js');\nconst moment = require('moment-timezone');\nrequire('@rangerrick/moment-javaformat/dist/moment-javaformat');\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction OnmsDateFormatter() {\n}\n\nOnmsDateFormatter.prototype.init = function init(readyCallback) {\n\tvar self = this;\n\tvar defaultFormat = \"yyyy-MM-dd'T'HH:mm:ssxxx\"; // eslint-disable-line quotes\n\twindow._onmsZoneId = undefined;\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.onreadystatechange = function readystatechange() {\n\t\ttry {\n\t\t\tif (xhr.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tvar config = JSON.parse(xhr.responseText);\n\t\t\t\t\tif (config.datetimeformatConfig && config.datetimeformatConfig.datetimeformat) {\n\t\t\t\t\t\twindow._onmsDateTimeFormat = config.datetimeformatConfig.datetimeformat || defaultFormat;\n\t\t\t\t\t\twindow._onmsZoneId = config.datetimeformatConfig.zoneId;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Error: datetimeformatConfig property not found:',config);\n\t\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Error: failed to request format info: ' + xhr.status + ' ' + xhr.statusText);\n\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t}\n\t\t\t\treadyCallback(self, xhr.status);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Error: failed to request format info: ', e);\n\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\treadyCallback(self, xhr.status);\n\t\t}\n\t};\n\txhr.open('GET', 'rest/info');\n\txhr.setRequestHeader('Accept', 'application/json');\n\txhr.send();\n};\n\nOnmsDateFormatter.prototype.assertInitialized = function assertInitialized() {\n\tif (!window._onmsDateTimeFormat) {\n\t\tconsole.log('OnmsDateFormatter.init() must complete before using!');\n\t\tthrow new Error('OnmsDateFormatter.init() must complete before using!');\n\t}\n};\n\nOnmsDateFormatter.prototype.getZoneId = function getZoneId() {\n\tthis.assertInitialized();\n\n\tif (!this._zoneId) {\n\t\tif (window._onmsZoneId) {\n\t\t\tthis._zoneId = window._onmsZoneId;\n\t\t} else {\n\t\t\tconsole.warn('No zone ID specified from the server; guessing based on browser.');\n\t\t\tthis._zoneId = moment.tz.guess();\n\t\t}\n\t}\n\treturn this._zoneId;\n};\n\nOnmsDateFormatter.prototype.format = function format(date) {\n\tthis.assertInitialized();\n\n\tif (date === undefined || date === null) {\n\t\treturn date;\n\t}\n\n\tconst zoneId = this.getZoneId();\n\tconst momentDate = moment.tz(date, zoneId);\n\treturn momentDate.formatJavaDTF(window._onmsDateTimeFormat);\n};\n\n(function() {\n\t'use strict';\n\tif (typeof jest === 'undefined') {\n\t\tvar f = new OnmsDateFormatter();\n\t\tf.init(function() {\n\t\t\twindow._onmsFormatter = f;\n\t\t});\n\t} else {\n\t\tconsole.log('Running in a test environment. Skipping automatic initialization.');\n\t}\n})();\n\n(function() {\n\t'use strict';\n\n\tif (window.angular) {\n\t\tangular.module('onmsDateFormatter', ['ng']).factory('DateFormatterService', ['$interval', '$q', function DateFormatterService($interval, $q) {\n\t\t\tconsole.log('Initializing DateFormatterService');\n\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar count = 0;\n\t\t\tvar i = $interval(function() {\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\tconsole.log('Global formatter found: ' + window._onmsDateTimeFormat);\n\t\t\t\t\tdeferred.resolve(window._onmsFormatter);\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t\tif (count++ > 300) {\n\t\t\t\t\tconsole.log('DateFormatterService: giving up waiting for global formatter.');\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t}, 100);\n\n\t\t\treturn {\n\t\t\t\traw: window._onmsFormatter,\n\t\t\t\tformatter: deferred.promise,\n\t\t\t\tformat: function(date) {\n\t\t\t\t\treturn deferred.promise.then(function(f) {\n\t\t\t\t\t\treturn f.format(date);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').filter('onmsDate', ['$filter', 'DateFormatterService', function($filter, DateFormatterService) {\n\t\t\treturn function onmsDate(input, ifEmpty) {\n\t\t\t\tvar ret;\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\t// If the formatter has finished initializing, use it\n\t\t\t\t\tret = window._onmsFormatter.format(input);\n\t\t\t\t\t//console.log('onmsDate: formatter returned: ' + ret);\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, use ISO format\n\t\t\t\t\tret = $filter('date')(input, 'yyyy-MM-ddTHH:mm:ss.sssZ');\n\t\t\t\t\t//console.log('onmsDate: $filter(date) returned: ' + ret);\n\t\t\t\t}\n\t\t\t\tif (ret !== undefined && ret !== null) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t\treturn ifEmpty;\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').directive('onmsDate', ['DateFormatterService', function(dateFormatterService) {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\tcompile: function(element) {\n\t\t\t\t\tdateFormatterService.format(element.text()).then(function(formatted) {\n\t\t\t\t\t\telement.replaceWith(formatted);\n\t\t\t\t\t}).catch(function(e) {\n\t\t\t\t\t\tconsole.error('Failed to format ' + element.text(), e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}]);\n\t} else {\n\t\tconsole.log('Angular not found.  Not initializing OnmsDateFormatter Angular components.');\n\t}\n})();\n\nmodule.exports = OnmsDateFormatter;","const angular = require('vendor/angular-js');\nconst search = require('apps/search');\nconst centralSearch = require('apps/onms-central-search');\n\nconst MODULE_NAME = 'onms.default.apps';\n\nangular.module(MODULE_NAME, [ 'onms.central.search', 'onms-search' ]);\n","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2017 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\nconst kscTemplate = require('./template.ksc.html');\nconst nodesTemplate = require('./template.nodes.html');\n\nimport Util from 'lib/util';\n\nangular.module('onms-search', [\n  'onms.http',\n  'ui.bootstrap'\n])\n\n.directive('onmsSearchNodes', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: nodesTemplate,\n    controller: 'NodeSearchCtrl'\n  };\n})\n\n.directive('onmsSearchKsc', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: kscTemplate,\n    controller: 'KscSearchCtrl'\n  };\n})\n\n.controller('NodeSearchCtrl', ['$scope', '$window', '$http', function($scope, $window, $http) {\n\n  $scope.getNodes = function(criteria) {\n    return $http({\n      url: 'rest/nodes',\n      method: 'GET',\n      params: { label: criteria, comparator: 'contains' }\n    }).then(function(response) {\n      return response.data.node;\n    });\n  };\n\n  $scope.goToChooseResources = function(node) {\n    $window.location.href = Util.getBaseHref() + 'graph/chooseresource.jsp?node=' + node.id;\n  }\n\n}])\n\n.controller('KscSearchCtrl', ['$scope', '$window', '$http', '$filter', function($scope, $window, $http, $filter) {\n\n  $scope.getKscReports = function(criteria) {\n    return $http({\n      url: 'rest/ksc',\n      method: 'GET'\n    }).then(function(response) {\n       return $filter('filter')(response.data.kscReport, criteria);\n    });\n  };\n\n  $scope.goToKscReport = function(ksc) {\n    $window.location.href = Util.getBaseHref() + 'KSC/customView.htm?type=custom&report=' + ksc.id;\n  }\n\n}]);","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/apps/search/template.ksc.html';\nvar html = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncKsc\\\" placeholder=\\\"Type the KSC report name\\\"\\n      uib-typeahead=\\\"ksc as ksc.label for ksc in getKscReports($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"kscLoadingNodes\\\"\\n      typeahead-no-results=\\\"kscNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToKscReport($item)\\\"/>\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"kscLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"kscNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/apps/search/template.nodes.html';\nvar html = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncNode\\\" placeholder=\\\"Type the node label\\\"\\n      uib-typeahead=\\\"node as node.label for node in getNodes($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"nodeLoadingNodes\\\"\\n      typeahead-no-results=\\\"nodeNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToChooseResources($item)\\\"/>\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"nodeLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"nodeNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = '/home/administrator/Desktop/testnms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nvar html = \"<div class=\\\"modal-header\\\">\\n    <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <h5>\\n        You are not allowed to perform the requested action.\\n    </h5>\\n    <p class=\\\"text-muted\\\">\\n        This is not supposed to happen.\\n        Please reload the page and contact your administrator if this occurs more often.\\n    </p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"reload()\\\">Reload</button>\\n</div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                window.location.href = baseTags[0].href + 'login.jsp?session_expired=true';\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js'); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","require('./jquery-ui-js');\nconst bootbox = require('bootbox');\n\nconsole.log('init: bootbox-js'); // eslint-disable-line no-console\n\nmodule.exports = window['bootbox'] = bootbox;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nmodule.exports = jQuery;\n","const jQuery = require('vendor/jquery-js');\n\n// jquery-ui base\nrequire('jquery-ui/ui/core');\nrequire('jquery-ui/ui/widget');\nrequire('jquery-ui/ui/widgets/mouse');\nrequire('jquery-ui/ui/widgets/draggable');\nrequire('jquery-ui/ui/widgets/droppable');\nrequire('jquery-ui/ui/widgets/resizable');\nrequire('jquery-ui/ui/widgets/selectable');\nrequire('jquery-ui/ui/widgets/sortable');\nrequire('jquery-ui/ui/effect');\n\n// additional core plugins\nrequire('jquery-ui/ui/data');\nrequire('jquery-ui/ui/disable-selection');\nrequire('jquery-ui/ui/escape-selector');\nrequire('jquery-ui/ui/focusable');\nrequire('jquery-ui/ui/form-reset-mixin');\nrequire('jquery-ui/ui/form');\nrequire('jquery-ui/ui/ie');\nrequire('jquery-ui/ui/jquery-1-7');\nrequire('jquery-ui/ui/keycode');\nrequire('jquery-ui/ui/labels');\nrequire('jquery-ui/ui/plugin');\nrequire('jquery-ui/ui/position');\nrequire('jquery-ui/ui/safe-active-element');\nrequire('jquery-ui/ui/safe-blur');\nrequire('jquery-ui/ui/scroll-parent');\nrequire('jquery-ui/ui/tabbable');\nrequire('jquery-ui/ui/unique-id');\nrequire('jquery-ui/ui/version');\n\n// additional widgets\nrequire('jquery-ui/ui/widgets/accordion');\nrequire('jquery-ui/ui/widgets/autocomplete');\nrequire('jquery-ui/ui/widgets/button');\nrequire('jquery-ui/ui/widgets/checkboxradio');\nrequire('jquery-ui/ui/widgets/controlgroup');\nrequire('jquery-ui/ui/widgets/datepicker');\nrequire('jquery-ui/ui/widgets/dialog');\nrequire('jquery-ui/ui/widgets/menu');\nrequire('jquery-ui/ui/widgets/progressbar');\nrequire('jquery-ui/ui/widgets/selectmenu');\nrequire('jquery-ui/ui/widgets/slider');\nrequire('jquery-ui/ui/widgets/spinner');\nrequire('jquery-ui/ui/widgets/tabs');\nrequire('jquery-ui/ui/widgets/tooltip');\n\n// 3rd-party jquery-ui plugins\nrequire('jquery-ui-treemap');\nrequire('jquery-sparkline/dist/jquery.sparkline');\n\nconsole.log('init: jquery-ui-js'); // eslint-disable-line no-console\n\nmodule.exports = jQuery;","export default class Util {\n\tstatic getBaseHref() {\n\t\tconst base = document.getElementsByTagName('base')[0];\n\t\tif (base) {\n\t\t\treturn base.href;\n\t\t}\n\t\treturn '';\n\t}\n\tstatic setLocation(url) {\n\t\tif (window && window.location) {\n\t\t\twindow.location.href = Util.getBaseHref() + url;\n\t\t}\n\t}\n\tstatic toggle(booleanValue, elementName) {\n\t\tvar checkboxes = document.getElementsByName(elementName);\n\t\tfor (var index in checkboxes) {\n\t\t\tif (checkboxes.hasOwnProperty(index)) {\n\t\t\t\tcheckboxes[index].checked = booleanValue;\n\t\t\t}\n\t\t}\n\t}\n}"],"sourceRoot":""}