!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var a in r)("object"==typeof exports?exports:e)[a]=r[a]}}(window,function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[1,2,8,25,38,42,48,65,71],{10:function(e,exports,t){"use strict";console.log("init: bootstrap-js");var jQuery=t(5);t(27),e.exports=jQuery},15:function(e,exports){var t="/home/kevlin/dhimantibranch/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=modal-header> <h3><i class="fa fa-exclamation-triangle text-warning"></i> Permission Denied</h3> </div> <div class=modal-body> <h5> You are not allowed to perform the requested action. </h5> <p class=text-muted> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class=modal-footer> <button class="btn btn-primary" ng-click=reload()>Reload</button> </div>')}]),e.exports=t},18:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var r,o=(r=t(6))&&r.__esModule?r:{default:r};function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,o.default)(e,a.key,a)}}var s=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}(t,null,[{key:"getBaseHref",value:function(){var e=document.getElementsByTagName("base")[0];return e?e.href:""}},{key:"setLocation",value:function(e){window&&window.location&&(window.location.href=t.getBaseHref()+e)}},{key:"toggle",value:function(e,t){var r=document.getElementsByName(t);for(var a in r)r.hasOwnProperty(a)&&(r[a].checked=e)}}]),t}();exports.default=s},28:function(e,exports,t){"use strict";var r,a=(r=t(18))&&r.__esModule?r:{default:r};var angular=t(3);t(9);var o=t(29),s=t(30);angular.module("onms-search",["onms.http","ui.bootstrap"]).directive("onmsSearchNodes",function(){return{restrict:"E",transclude:!0,templateUrl:s,controller:"NodeSearchCtrl"}}).directive("onmsSearchKsc",function(){return{restrict:"E",transclude:!0,templateUrl:o,controller:"KscSearchCtrl"}}).controller("NodeSearchCtrl",["$scope","$window","$http",function($scope,t,r){$scope.getNodes=function(e){return r({url:"rest/nodes",method:"GET",params:{label:e,comparator:"contains"}}).then(function(e){return e.data.node})},$scope.goToChooseResources=function(e){t.location.href=a.default.getBaseHref()+"graph/chooseresource.jsp?node="+e.id}}]).controller("KscSearchCtrl",["$scope","$window","$http","$filter",function($scope,t,e,r){$scope.getKscReports=function(t){return e({url:"rest/ksc",method:"GET"}).then(function(e){return r("filter")(e.data.kscReport,t)})},$scope.goToKscReport=function(e){t.location.href=a.default.getBaseHref()+"KSC/customView.htm?type=custom&report="+e.id}}])},29:function(e,exports){var t="/home/kevlin/dhimantibranch/core/web-assets/src/main/assets/js/apps/search/template.ksc.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=form-group> <div class=input-group> <input type=text class=form-control ng-model=asyncKsc placeholder="Type the KSC report name" uib-typeahead="ksc as ksc.label for ksc in getKscReports($viewValue)" typeahead-editable=false typeahead-loading=kscLoadingNodes typeahead-no-results=kscNoResults typeahead-min-length=1 typeahead-on-select=goToKscReport($item) /> <div class=input-group-append> <span class=input-group-text><i class="fa fa-search"></i></span> </div> </div> <i ng-show=kscLoadingNodes class="fa fa-refresh"></i> <p class="form-text text-muted" ng-show=kscNoResults> <i class="fa fa-remove"></i> No Results Found </p> </div> ')}]),e.exports=t},3:function(e,exports,t){"use strict";var angular=t(26);t(37),t(38),t(39),t(40),t(36),t(41),t(42),t(43),t(44),t(10),t(45),t(46),console.log("init: angular-js"),e.exports=window.angular=angular},30:function(e,exports){var t="/home/kevlin/dhimantibranch/core/web-assets/src/main/assets/js/apps/search/template.nodes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=form-group> <div class=input-group> <input type=text class=form-control ng-model=asyncNode placeholder="Type the node label" uib-typeahead="node as node.label for node in getNodes($viewValue)" typeahead-editable=false typeahead-loading=nodeLoadingNodes typeahead-no-results=nodeNoResults typeahead-min-length=1 typeahead-on-select=goToChooseResources($item) /> <div class=input-group-append> <span class=input-group-text><i class="fa fa-search"></i></span> </div> </div> <i ng-show=nodeLoadingNodes class="fa fa-refresh"></i> <p class="form-text text-muted" ng-show=nodeNoResults> <i class="fa fa-remove"></i> No Results Found </p> </div> ')}]),e.exports=t},31:function(e,exports,t){"use strict";t(16),t(12);var p=r(t(13)),h=r(t(32)),f=r(t(11)),m=r(t(8)),s=r(t(53));function r(e){return e&&e.__esModule?e:{default:e}}var angular=t(3);t(9),t(71),t(72),t(59);function g(e,t){t.data?e.error=t.data:e.error="An unexpected error occurred while handling the request"}var a=t(33);angular.module("onms.central.search",["angular-loading-bar","ngResource","ui.router","onms.http"]).directive("onmsCentralSearch",function(){return{restrict:"E",transclude:!1,templateUrl:a,controller:"QuickSearchController"}}).factory("SearchResource",["$resource",function(e){return e("api/v2/search",{},{query:{method:"GET",isArray:!0,cancellable:!0}})}]).controller("QuickSearchController",["$scope","SearchResource","$timeout","$document",function($scope,a,n,e){var l=13,t=16,r=27,c=38,i=40,o="Group",u="Item",d="More";$scope.query="",$scope.results={},$scope.performSearchExecuted=!1,$scope.showLoadingIndicator=!1,$scope.showLoadingIndicatorDelay=250,$scope.performSearchDelay=500,$scope.performSearchPromise=void 0,$scope.performSearchHandle=void 0,$scope.showLoadingIndicatorPromise=void 0,$scope.shiftLastPressed=void 0,($scope.selectedIndex=0,s.default)(e).call(e,"mousedown",function(e){var t=0<$("#onms-search-form").has(e.target).length,r=$("#onms-search-form").is(e.target);t||r||n(function(){$scope.resetQuery(),$scope.cancelRequest()})}),(0,s.default)(e).call(e,"keyup",function(e){n(function(){e.keyCode===t&&new Date-$scope.shiftLastPressed<=350?(angular.element("#onms-search-query").focus(),angular.element("#onms-search-query").select(),$scope.shiftLastPressed=void 0):e.keyCode===t&&($scope.shiftLastPressed=new Date),e.keyCode===r&&($scope.resetQuery(),$scope.cancelRequest())})}),(0,s.default)(e).call(e,"keydown",function(s){n(function(){if(0<$scope.results.length){var e=document.getElementById("onms-search-result-item-"+$scope.selectedIndex);if(s.keyCode===c||s.keyCode===i){$scope.navigateSearchResult(s.keyCode);var t=document.getElementById("onms-search-result"),r=t.clientHeight,a=e.clientHeight,o=e.offsetTop;o+a+25>=r+t.scrollTop&&(t.scrollTop=o),0!==t.scrollTop&&t.scrollTop>o-a&&(t.scrollTop=o-a)}s.keyCode===l&&($scope.results[$scope.selectedIndex].type===d?n(function(){angular.element(e).triggerHandler("click")},0):($scope.resetQuery(),$scope.cancelRequest(),e.click()))}})}),$scope.navigateSearchResult=function(e){switch($scope.results[$scope.selectedIndex].selected=!1,e){case c:$scope.selectedIndex--;break;case i:$scope.selectedIndex++}$scope.selectedIndex<1&&($scope.selectedIndex=1),$scope.selectedIndex>=$scope.results.length&&($scope.selectedIndex=$scope.results.length-1),$scope.results[$scope.selectedIndex].type===o?$scope.navigateSearchResult(e):$scope.results[$scope.selectedIndex].selected=!0},$scope.resetQuery=function(){$scope.query="",$scope.results=[],$scope.performSearchExecuted=!1,$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest()},$scope.cancelRequest=function(){$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest(),$scope.showLoadingIndicator=!1,n.cancel($scope.showLoadingIndicatorPromise)},$scope.select=function(e){var t=e||1;1<=$scope.selectedIndex&&($scope.results[$scope.selectedIndex].selected=!1),$scope.selectedIndex=t,$scope.results[$scope.selectedIndex].selected=!0},$scope.onQueryChange=function(){0!=$scope.query.length?$scope.query.length<3||(n.cancel($scope.performSearchPromise),$scope.results=[],$scope.performSearchExecuted=!1,$scope.performSearchPromise=n(function(){n.cancel($scope.showLoadingIndicatorPromise),$scope.showLoadingIndicatorPromise=n(function(){$scope.showLoadingIndicator=!0},$scope.showLoadingIndicatorDelay),$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest(),$scope.error=void 0,$scope.performSearchHandle=a.query({_s:$scope.query},function(e){$scope.cancelRequest(),$scope.performSearchExecuted=!0;var r=[];(0,m.default)(e).call(e,function(e){var t;if(r.push({context:e.context.name,label:1<e.results.length?e.context.name+"s":e.context.name,type:o,count:e.results.length,more:e.more}),(0,m.default)(t=e.results).call(t,function(e){e.type=u,r.push(e)}),!0===e.more){var c={context:e.context.name,count:e.results.length,type:d,loadMore:function(){$scope.error=void 0,a.query({_s:$scope.query,_l:this.count+10,_c:this.context},function(e){var t,r,a,o,s=(0,f.default)(t=$scope.results).call(t,c),n=e[0],l=(0,h.default)(r=n.results).call(r,s-1);(0,m.default)(l).call(l,function(e,t){var r;e.type=u,(0,p.default)(r=$scope.results).call(r,s+t,0,e),c.count++}),c.selected=!1,!($scope.results[$scope.selectedIndex].selected=!0)===n.more&&(0,p.default)(a=$scope.results).call(a,(0,f.default)(o=$scope.results).call(o,c),1)},function(e){$scope.performSearchExecuted=!0,g($scope,e)})},selected:!1};r.push(c)}}),$scope.results=r,0!=$scope.results.length&&($scope.selectedIndex=1,$scope.results[$scope.selectedIndex].selected=!0)},function(e){0<=e.status&&($scope.performSearchExecuted=!0,g($scope,e),$scope.cancelRequest())})},$scope.performSearchDelay)):$scope.resetQuery()}}])},33:function(e,exports){var t="/home/kevlin/dhimantibranch/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<style type=text/css>.search-result{max-height:700px;min-width:280px;max-width:60%;position:absolute;top:100%;z-index:100000;overflow:auto;border:#343a40 solid 1px}.search-result .list-group-item{padding:.25rem .75rem;font-size:90%}.search-result .list-group-item:last-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.search-bar .form-control{border:none;outline:0;box-shadow:none;border-radius:1rem;padding:0}.search-bar .input-group-text{border-top-left-radius:1rem;border-bottom-left-radius:1rem;background-color:#fff;border-color:#fff}.search-result .list-group-item:hover{background-color:#e9ecef}.selected{background-color:#e9ecef}</style> <form id=onms-search-form autocomplete=off novalidate class=form-inline> <input autocomplete=false name=hidden type=text style=display:none> <div class="input-group search-bar"> <div class=input-group-prepend> <div class=input-group-text><i class="fa fa-search"></i></div> </div> <label class=form-control> <input id=onms-search-query ng-change=onQueryChange() ng-focus="input.focus=true" ng-blur="input.focus=false" ng-model=query type=text class=form-control placeholder=Search... aria-label=Search> <small class="text-muted mr-4" ng-show=!input.focus>2x ⇧</small> </label> <div ng-if=showLoadingIndicator class="btn btn-secondary rounded-0"> <div class="spinner-border spinner-border-sm text-white" role=status /> <span class=sr-only>Loading...</span> </div> <div ng-if="performSearchExecuted === true && !showLoadingIndicator" class=input-group-append> <button class="btn btn-secondary" type=button title="Reset Search" ng-click=resetQuery()><i class="fa fa-times"></i></button> </div> <div ng-if=showLoadingIndicator class=input-group-append> <button class="btn btn-secondary" type=button title="Cancel Request" ng-click=cancelRequest()><i class="fa fa-times"></i></button> </div> </div> <div ng-if="performSearchExecuted === true" class="bg-dark search-result rounded-bottom" id=onms-search-result> <div class=list-group ng-if="results.length > 0"> <div id=onms-search-result-item-{{$index}} ng-repeat-start="item in results track by $index" ng-if="item.type === \'Group\'" class="list-group-item bg-dark text-grey border-0 pl-2"> <span ng-if=!item.t>{{item.label}}</span> </div> <a id=onms-search-result-item-{{$index}} ng-class="{\'selected\': item.selected}" ng-if="item.type === \'More\'" ng-click=item.loadMore() class="list-group-item list-group-item-action" href ng-mouseover=select($index)>more...</a> <a id=onms-search-result-item-{{$index}} ng-class="{\'selected\': item.selected}" ng-repeat-end ng-if="item.type === \'Item\'" href={{item.url}} class="list-group-item list-group-item-action" ng-mouseover=select($index) ng-click=resetQuery()> <h6 class=mb-0><i class={{item.icon}} ng-if=item.icon>&nbsp;</i>{{item.label}} <i style=-webkit-transform:scaleY(-1);transform:scaleY(-1) class="fa fa-reply pull-right" ng-if=item.selected></i></h6> <small class=mr-4 ng-class="{\'text-muted\': !item.selected}" ng-repeat="match in item.matches">{{match.label}}: {{match.value}}</small> </a> </div> <div ng-if="!error && results.length === 0" class=text-grey> <span>No Results found</span> </div> <div ng-if=error class="alert alert-danger mx-2 my-2"> <span>{{error}}</span> </div> </div> </form> ')}]),e.exports=t},47:function(e,exports,t){"use strict";var angular=t(3);t(28),t(31);angular.module("onms.default.apps",["onms.central.search","onms-search"])},5:function(e,exports,t){"use strict";console.log("init: jquery-js");var jQuery=t(7);e.exports=jQuery},626:function(e,exports,t){"use strict";var l=r(t(204)),d=r(t(8));function r(e){return e&&e.__esModule?e:{default:e}}var angular=t(3),s=t(657);t(9),t(47),angular.module("onms-ksc",["onms.http","onms.default.apps","ui.bootstrap","angular-growl"]).config(["growlProvider",function(e){e.globalTimeToLive(5e3),e.globalPosition("bottom-center")}]).controller("AddToKscModalInstanceCtrl",["$scope","$http","$uibModalInstance","resourceLabel","graphTitle",function($scope,e,t,r,a){$scope.resourceLabel=r,$scope.graphTitle=a,$scope.kscReports=[],$scope.timespan="1_day",$scope.timespans=["1_hour","2_hour","4_hour","6_hour","8_hour","12_hour","1_day","2_day","7_day","1_month","3_month","6_month","1_year","Today","Yesterday","Yesterday 9am-5pm","Yesterday 5pm-10pm","This Week","Last Week","This Month","Last Month","This Quarter","Last Quarter","This Year","Last Year"],$scope.ok=function(){t.close({report:$scope.kscReport,title:$scope.graphTitle,timespan:$scope.timespan})},$scope.cancel=function(){t.dismiss("cancel")},e.get("rest/ksc").then(function(e){$scope.kscReports=e.data.kscReport})}]).controller("AddToKscCtrl",["$scope","$http","$uibModal","growl",function($scope,i,o,u){$scope.open=function(t,r,a,e){o.open({animation:$scope.animationsEnabled,templateUrl:s,controller:"AddToKscModalInstanceCtrl",resolve:{resourceLabel:function(){return r},graphTitle:function(){return e}}}).result.then(function(e){$scope.updateReport(e.report,t,r,a,e.title,e.timespan)})},$scope.updateReport=function(r,a,o,s,n,l){var c="rest/ksc/"+r.id;i.get(c).success(function(e){var t=!1;(0,d.default)(angular).call(angular,e.kscGraph,function(e){e.resourceId===a&&e.graphtype===s&&(t=!0)}),t?u.warning('The graph "'+n+'" for resource "'+o+'" has been already added to "'+r.label+'"'):i({url:c,method:"PUT",params:{title:n,reportName:s,resourceId:a,timespan:l}}).success(function(){u.success('The graph "'+n+'" has been added to "'+r.label+'"')}).error(function(e){u.error(e)})}).error(function(e){u.error(e)})}}]).factory("flowsRestFactory",["$http","$q",function(s,n){var e={getFlowGraphUrl:function(e,t,r,a){var o=n.defer();return s({url:"rest/flows/flowGraphUrl",method:"GET",params:{exporterNode:e,ifIndex:t,start:r,end:a,limit:0}}).success(function(e){o.resolve(e)}),o.promise}};return e}]).factory("graphSearchFactory",["$rootScope","$filter",function(t,r){var a={graphs:[],noMatchingGraphs:!1,updateSearchQuery:function(e){this.searchQuery=e,this.updateGraphsWithSearchItem()},initialize:function(e,t){a.graphs.push(e),a.graphs.push(t)},updateGraphsWithSearchItem:function(){t.$broadcast("handleSearchQuery");var e=r("filter")(a.graphs,a.searchQuery);e&&e.length?a.noMatchingGraphs&&(a.noMatchingGraphs=!1,t.$broadcast("handleNoMatchingGraphsFound")):(a.noMatchingGraphs=!0,t.$broadcast("handleNoMatchingGraphsFound"))}};return a}]).controller("graphSearchBoxCtrl",["$scope","graphSearchFactory",function($scope,e){$scope.$watch("searchQuery",function(){angular.isUndefined($scope.searchQuery)||e.updateSearchQuery($scope.searchQuery)})}]).controller("checkFlowsCtrl",["$scope","$http","$filter","flowsRestFactory","graphSearchFactory",function($scope,e,t,o,r){$scope.flowCount=0,$scope.flowsEnabled=!1,$scope.hasFlows=!1,$scope.nomatchingGraphs=!1,$scope.flowGraphUrl="",$scope.getFlowInfo=function(e,t,r,a){0!==e&&0!==t&&o.getFlowGraphUrl(e,t,r,a).then(function(e){$scope.flowGraphUrl=e.flowGraphUrl,$scope.flowCount=e.flowCount,$scope.flowGraphUrl&&($scope.flowsEnabled=!0,0<$scope.flowCount?$scope.hasFlows=!0:$scope.flowGraphUrl=null)})},$scope.$on("handleNoMatchingGraphsFound",function(){$scope.nomatchingGraphs=r.noMatchingGraphs})}]).controller("graphSearchCtrl",["$scope","$timeout","$filter","$attrs","$element","graphSearchFactory",function($scope,r,a,e,$element,o){var s=e.graphname,n=e.graphtitle;o.initialize(s,n),$scope.enableGraph=!0,$scope.$on("handleSearchQuery",function(){var e=o.searchQuery,t=a("filter")([s,n],e);t&&t.length?($scope.enableGraph=!0,e&&r(function(){var e;(0,l.default)(e=angular.element($element)).call(e,".graph-container").trigger("renderGraph")},0)):$scope.enableGraph=!1})}])},657:function(e,exports){var t="/home/kevlin/dhimantibranch/core/web-assets/src/main/assets/js/apps/add-to-ksc/add-to-ksc.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name=kscForm> <div class=modal-header> <h3 class=modal-title>Add {{ graphTitle }} to KSC</h3> </div> <div class=modal-body> <div class=form-group> <label class=col-form-label for=resourceLabel>Resource</label> <input ng-disabled=true class=form-control type=text id=resourceLabel name=resourceLabel ng-model=resourceLabel ng-class="{ \'is-invalid\' : kscForm.graphTitle.$invalid }"/> </div> <div class=form-group> <label class=col-form-label for=graphTitle>Graph Title</label> <input required class=form-control type=text id=graphTitle name=graphTitle ng-model=graphTitle placeholder="Graph Title" ng-class="{ \'is-invalid\' : kscForm.graphTitle.$invalid }"/> <p class=invalid-feedback>Graph title is required.</p> </div> <div class=form-group> <label class=col-form-label for=timespan>Time Range</label> <input required class=form-control type=text id=timespan name=timespan ng-model=timespan placeholder="Choose the target time range here..." uib-typeahead="timespan as timespan for timespan in timespans | filter:$viewValue" typeahead-editable=false typeahead-min-length=0 ng-class="{ \'is-invalid\' : kscForm.timespan.$invalid }"/> <p class=invalid-feedback>Time range is required.</p> </div> <div class=form-group> <label class=col-form-label for=kscReport>Target KSC Report</label> <input required class=form-control type=text id=kscReport name=kscReport ng-model=kscReport placeholder="Choose the target KSC Report by typing the name here..." uib-typeahead="ksc as ksc.label for ksc in kscReports | filter:$viewValue" typeahead-editable=false typeahead-min-length=0 ng-class="{ \'is-invalid\' : kscForm.kscReport.$invalid }"/> <p class=invalid-feedback>Target KSC Report is required.</p> </div> </div> <div class=modal-footer> <button class="btn btn-primary" type=button ng-click=ok() ng-disabled=kscForm.$invalid>Add <span class="fa fa-save"/></button> <button class="btn btn-warning" type=button ng-click=cancel()>Cancel</button> </div> </ng-form> ')}]),e.exports=t},9:function(e,exports,t){"use strict";var r,s=(r=t(51))&&r.__esModule?r:{default:r};var angular=t(3),a=t(15);angular.module("onms.http",["ui.bootstrap"]).factory("InterceptorService",["$q","$rootScope",function(a,o){return{responseError:function(e){var t,r;401===e.status&&e.config&&e.config.url&&((0,s.default)(t=e.config.url).call(t,"rest/")||(0,s.default)(r=e.config.url).call(r,"api/v2/"))&&(console.error("Login Required",e,e.headers),o.$emit("loginRequired"));return 403===e.status&&o.$emit("permissionDenied"),a.reject(e)}}}]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push("InterceptorService")}]).run(["$rootScope","$uibModal",function(e,t){e.$on("loginRequired",function(){var e=document.getElementsByTagName("base");e&&0<e.length&&e[0].href?window.location.href=e[0].href+"login.jsp?session_expired=true":console.warn("Login is required, but cannot forward to login page due to missing base tag.")}),e.$on("permissionDenied",function(){t.open({templateUrl:a,controller:["$scope","$uibModalInstance",function($scope,e){$scope.reload=function(){e.dismiss(),window.location.reload()}}],size:"",backdrop:"static",keyboard:!1})})}]),e.exports=angular}},[[626,0]]])});
//# sourceMappingURL=add-to-ksc.min.js.map