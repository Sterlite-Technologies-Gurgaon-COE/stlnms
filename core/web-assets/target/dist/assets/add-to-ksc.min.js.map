{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/modules/lib/util/index.js","webpack:///./src/main/assets/js/apps/search/index.js","webpack:///./src/main/assets/js/apps/search/template.ksc.html","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/apps/search/template.nodes.html","webpack:///./src/main/assets/js/apps/onms-central-search/index.js","webpack:///./src/main/assets/js/apps/onms-central-search/quicksearch.html","webpack:///./src/main/assets/js/apps/onms-default-apps/index.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/apps/add-to-ksc/index.js","webpack:///./src/main/assets/js/apps/add-to-ksc/add-to-ksc.html","webpack:///./src/main/assets/js/lib/onms-http/index.js"],"names":["root","factory","exports","module","define","amd","a","i","window","console","log","jQuery","require","path","angular","run","c","put","Util","base","document","getElementsByTagName","href","url","location","getBaseHref","booleanValue","elementName","checkboxes","getElementsByName","index","hasOwnProperty","checked","kscTemplate","nodesTemplate","directive","restrict","transclude","templateUrl","controller","$scope","$window","$http","getNodes","criteria","method","params","label","comparator","then","response","data","node","goToChooseResources","id","$filter","getKscReports","kscReport","goToKscReport","ksc","globalErrorHandling","scope","errorResponse","error","quickSearchTemplate","$resource","isArray","cancellable","SearchResource","$timeout","$document","KeyCodes","Types","query","results","performSearchExecuted","showLoadingIndicator","showLoadingIndicatorDelay","performSearchDelay","performSearchPromise","undefined","performSearchHandle","showLoadingIndicatorPromise","shiftLastPressed","selectedIndex","event","isChild","$","has","target","length","isSelf","is","resetQuery","cancelRequest","e","keyCode","Date","element","focus","select","getElementById","navigateSearchResult","parentComponent","parentHeight","clientHeight","resultHeight","resultOffset","offsetTop","scrollTop","type","triggerHandler","click","selected","$cancelRequest","cancel","selectIndex","onQueryChange","eachResult","push","context","name","count","more","item","showMoreElement","loadMore","this","endIndex","searchResult","status","config","growlProvider","globalTimeToLive","globalPosition","$uibModalInstance","resourceLabel","graphTitle","kscReports","timespan","timespans","ok","close","report","title","dismiss","get","$uibModal","growl","open","resourceId","graphName","animation","animationsEnabled","resolve","result","updateReport","success","found","kscGraph","r","graphtype","warning","reportName","msg","$q","resources","nodeId","ifIndex","start","end","deferred","defer","exporterNode","limit","promise","$rootScope","graphSearch","searchItem","searchQuery","updateGraphsWithSearchItem","graphs","$broadcast","matchingGraphs","noMatchingGraphs","graphSearchFactory","$watch","isUndefined","updateSearchQuery","flowsRestFactory","flowCount","flowsEnabled","hasFlows","nomatchingGraphs","flowGraphUrl","getFlowInfo","getFlowGraphUrl","$on","$attrs","$element","graphname","graphtitle","initialize","enableGraph","matchingElements","trigger","permissionDeniedTemplate","responseError","rejection","headers","$emit","reject","$httpProvider","defaults","common","interceptors","baseTags","warn","reload","size","backdrop","keyboard"],"mappings":"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","file":"add-to-ksc.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","var path = '/home/kevlin/Documents/gracybranch/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nvar html = \"<div class=modal-header> <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3> </div> <div class=modal-body> <h5> You are not allowed to perform the requested action. </h5> <p class=text-muted> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class=modal-footer> <button class=\\\"btn btn-primary\\\" ng-click=reload()>Reload</button> </div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","export default class Util {\n\tstatic getBaseHref() {\n\t\tconst base = document.getElementsByTagName('base')[0];\n\t\tif (base) {\n\t\t\treturn base.href;\n\t\t}\n\t\treturn '';\n\t}\n\tstatic setLocation(url) {\n\t\tif (window && window.location) {\n\t\t\twindow.location.href = Util.getBaseHref() + url;\n\t\t}\n\t}\n\tstatic toggle(booleanValue, elementName) {\n\t\tvar checkboxes = document.getElementsByName(elementName);\n\t\tfor (var index in checkboxes) {\n\t\t\tif (checkboxes.hasOwnProperty(index)) {\n\t\t\t\tcheckboxes[index].checked = booleanValue;\n\t\t\t}\n\t\t}\n\t}\n}","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2017 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\nconst kscTemplate = require('./template.ksc.html');\nconst nodesTemplate = require('./template.nodes.html');\n\nimport Util from 'lib/util';\n\nangular.module('onms-search', [\n  'onms.http',\n  'ui.bootstrap'\n])\n\n.directive('onmsSearchNodes', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: nodesTemplate,\n    controller: 'NodeSearchCtrl'\n  };\n})\n\n.directive('onmsSearchKsc', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: kscTemplate,\n    controller: 'KscSearchCtrl'\n  };\n})\n\n.controller('NodeSearchCtrl', ['$scope', '$window', '$http', function($scope, $window, $http) {\n\n  $scope.getNodes = function(criteria) {\n    return $http({\n      url: 'rest/nodes',\n      method: 'GET',\n      params: { label: criteria, comparator: 'contains' }\n    }).then(function(response) {\n      return response.data.node;\n    });\n  };\n\n  $scope.goToChooseResources = function(node) {\n    $window.location.href = Util.getBaseHref() + 'graph/chooseresource.jsp?node=' + node.id;\n  }\n\n}])\n\n.controller('KscSearchCtrl', ['$scope', '$window', '$http', '$filter', function($scope, $window, $http, $filter) {\n\n  $scope.getKscReports = function(criteria) {\n    return $http({\n      url: 'rest/ksc',\n      method: 'GET'\n    }).then(function(response) {\n       return $filter('filter')(response.data.kscReport, criteria);\n    });\n  };\n\n  $scope.goToKscReport = function(ksc) {\n    $window.location.href = Util.getBaseHref() + 'KSC/customView.htm?type=custom&report=' + ksc.id;\n  }\n\n}]);","var path = '/home/kevlin/Documents/gracybranch/core/web-assets/src/main/assets/js/apps/search/template.ksc.html';\nvar html = \"<div class=form-group> <div class=input-group> <input type=text class=form-control ng-model=asyncKsc placeholder=\\\"Type the KSC report name\\\" uib-typeahead=\\\"ksc as ksc.label for ksc in getKscReports($viewValue)\\\" typeahead-editable=false typeahead-loading=kscLoadingNodes typeahead-no-results=kscNoResults typeahead-min-length=1 typeahead-on-select=goToKscReport($item) /> <div class=input-group-append> <span class=input-group-text><i class=\\\"fa fa-search\\\"></i></span> </div> </div> <i ng-show=kscLoadingNodes class=\\\"fa fa-refresh\\\"></i> <p class=\\\"form-text text-muted\\\" ng-show=kscNoResults> <i class=\\\"fa fa-remove\\\"></i> No Results Found </p> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js'); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","var path = '/home/kevlin/Documents/gracybranch/core/web-assets/src/main/assets/js/apps/search/template.nodes.html';\nvar html = \"<div class=form-group> <div class=input-group> <input type=text class=form-control ng-model=asyncNode placeholder=\\\"Type the node label\\\" uib-typeahead=\\\"node as node.label for node in getNodes($viewValue)\\\" typeahead-editable=false typeahead-loading=nodeLoadingNodes typeahead-no-results=nodeNoResults typeahead-min-length=1 typeahead-on-select=goToChooseResources($item) /> <div class=input-group-append> <span class=input-group-text><i class=\\\"fa fa-search\\\"></i></span> </div> </div> <i ng-show=nodeLoadingNodes class=\\\"fa fa-refresh\\\"></i> <p class=\\\"form-text text-muted\\\" ng-show=nodeNoResults> <i class=\\\"fa fa-remove\\\"></i> No Results Found </p> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","const angular = require('vendor/angular-js');\nrequire('../../lib/onms-http');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle.css');\nrequire('angular-ui-router');\n\nconst quickSearchTemplate  = require('./quicksearch.html');\n\nconst globalErrorHandling = function(scope, errorResponse) {\n    if (errorResponse.data) {\n        scope.error = errorResponse.data;\n    } else {\n        scope.error = \"An unexpected error occurred while handling the request\";\n    }\n};\n\n(function() {\n    'use strict';\n\n    var MODULE_NAME = 'onms.central.search';\n\n    angular.module(MODULE_NAME, [\n        'angular-loading-bar',\n        'ngResource',\n        'ui.router',\n        'onms.http',\n    ])\n        .directive('onmsCentralSearch', function() {\n            return {\n                restrict: 'E',\n                transclude: false,\n                templateUrl: quickSearchTemplate,\n                controller: 'QuickSearchController'\n            };\n        })\n        .factory('SearchResource', function($resource) {\n            return $resource('api/v2/search', {}, {\n                'query':      { method: 'GET', isArray: true, cancellable: true },\n            });\n        })\n        .controller('QuickSearchController', ['$scope', 'SearchResource', '$timeout', '$document', function($scope, SearchResource, $timeout, $document) {\n            var KeyCodes = {\n                ENTER: 13,\n                SHIFT: 16,\n                ESC: 27,\n                KEY_LEFT: 37,\n                KEY_UP: 38,\n                KEY_RIGHT: 39,\n                KEY_DOWN: 40,\n            };\n\n            var Types = {\n                Group: 'Group',\n                Item: 'Item',\n                More: 'More'\n            };\n\n            $scope.query = '';\n            $scope.results = {};\n            $scope.performSearchExecuted = false;\n            $scope.showLoadingIndicator = false;\n            $scope.showLoadingIndicatorDelay = 250;\n            $scope.performSearchDelay = 500; // in ms\n            $scope.performSearchPromise = undefined;\n            $scope.performSearchHandle = undefined;\n            $scope.showLoadingIndicatorPromise = undefined;\n            $scope.shiftLastPressed = undefined;\n            $scope.selectedIndex = 0;\n\n            $document.bind('mousedown', function(event) {\n                var isChild = $('#onms-search-form').has(event.target).length > 0;\n                var isSelf = $('#onms-search-form').is(event.target);\n                var isInside = isChild || isSelf;\n                if (!isInside) {\n                    $timeout(function() {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    });\n                }\n            });\n\n            $document.bind('keyup', function(e) {\n                // Search Focus Field\n                $timeout(function() {\n                    if (e.keyCode === KeyCodes.SHIFT && new Date() - $scope.shiftLastPressed <= 350) {\n                        angular.element('#onms-search-query').focus();\n                        angular.element('#onms-search-query').select();\n                        $scope.shiftLastPressed = undefined;\n                    } else if(e.keyCode === KeyCodes.SHIFT) {\n                        $scope.shiftLastPressed = new Date();\n                    }\n\n                    // Reset Search\n                    if (e.keyCode === KeyCodes.ESC) {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    }\n                });\n            });\n\n            $document.bind('keydown', function(e) {\n                $timeout(function() {\n                    if ($scope.results.length > 0) {\n                        var element = document.getElementById('onms-search-result-item-' + $scope.selectedIndex);\n                        if (e.keyCode === KeyCodes.KEY_UP || e.keyCode === KeyCodes.KEY_DOWN) {\n                            $scope.navigateSearchResult(e.keyCode);\n\n                            // Ideally we would use scrollToView(), but that will also scroll the body, which\n                            // results in the header scrolling down slightly, which looks weird when using the search\n                            // So instead scrolling is implemented manually\n                            var parentComponent = document.getElementById('onms-search-result');\n                            var parentHeight = parentComponent.clientHeight;\n                            var resultHeight = element.clientHeight;\n                            var resultOffset = element.offsetTop;\n                            var padding = 25;\n\n                            // Scroll down\n                            if (resultOffset + resultHeight + padding >= parentHeight + parentComponent.scrollTop) {\n                                parentComponent.scrollTop = resultOffset;\n                            }\n                            // Scroll up\n                            if (parentComponent.scrollTop !== 0\n                                && parentComponent.scrollTop > resultOffset - resultHeight) {\n                                parentComponent.scrollTop = resultOffset - resultHeight;\n                            }\n                        }\n                        if (e.keyCode === KeyCodes.ENTER) {\n                            if ($scope.results[$scope.selectedIndex].type === Types.More) {\n                                // Ensure next action is run in angular context\n                                // Do not use angular.$apply here, as it may fail on angular sites,\n                                // such as the requisition ui\n                                $timeout(function() {\n                                    angular.element(element).triggerHandler('click');\n                                }, 0);\n                            } else {\n                                $scope.resetQuery();\n                                $scope.cancelRequest();\n                                element.click();\n                            }\n                        }\n                    }\n                });\n            });\n\n            $scope.navigateSearchResult = function(keyCode) {\n                $scope.results[$scope.selectedIndex].selected = false;\n                switch(keyCode) {\n                    case KeyCodes.KEY_UP:\n                        $scope.selectedIndex--;\n                        break;\n                    case KeyCodes.KEY_DOWN:\n                        $scope.selectedIndex++;\n                        break;\n                    default:\n                        break;\n                }\n                if ($scope.selectedIndex < 1) {\n                    $scope.selectedIndex = 1;\n                }\n                if ($scope.selectedIndex >= $scope.results.length) {\n                    $scope.selectedIndex = $scope.results.length - 1;\n                }\n                if ($scope.results[$scope.selectedIndex].type === Types.Group) {\n                    $scope.navigateSearchResult(keyCode); // Skip group element\n                } else {\n                    $scope.results[$scope.selectedIndex].selected = true;\n                }\n            };\n\n            $scope.resetQuery = function() {\n                $scope.query = '';\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n            };\n\n            $scope.cancelRequest = function() {\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n                $scope.showLoadingIndicator = false;\n                $timeout.cancel($scope.showLoadingIndicatorPromise);\n            };\n\n            // Ensure there is no difference between selected and mouseover\n            $scope.select = function(index) {\n                var selectIndex = index || 1;\n                if ($scope.selectedIndex >= 1) {\n                    $scope.results[$scope.selectedIndex].selected = false;\n                }\n                $scope.selectedIndex = selectIndex;\n                $scope.results[$scope.selectedIndex].selected = true;\n            };\n\n            $scope.onQueryChange = function() {\n                if ($scope.query.length == 0) {\n                    $scope.resetQuery();\n                    return;\n                }\n                if ($scope.query.length < 3) {\n                    return;\n                }\n\n                // Stop any previous loading\n                $timeout.cancel($scope.performSearchPromise);\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n\n                // Start timeout before actually searching, this will allow for not invoking when the user\n                // is still typing. Fiddle with $scope.loadingDelay to make it resolve faster\n                $scope.performSearchPromise = $timeout(function() {\n                    // Stop any previously started delay\n                    $timeout.cancel($scope.showLoadingIndicatorPromise);\n\n                    // Kick of loading indicator\n                    $scope.showLoadingIndicatorPromise = $timeout(function() {\n                        $scope.showLoadingIndicator = true;\n                    }, $scope.showLoadingIndicatorDelay);\n\n                    // Cancel any previous request\n                    if ($scope.performSearchHandle) {\n                        $scope.performSearchHandle.$cancelRequest();\n                    }\n\n                    // Kick of the search\n                    $scope.error = undefined;\n                    $scope.performSearchHandle = SearchResource.query({'_s' : $scope.query},\n                        function(data) {\n                            $scope.cancelRequest();\n                            $scope.performSearchExecuted = true;\n\n                            var results = [];\n                            data.forEach(function(eachResult) {\n                                // Create the header\n                                results.push({\n                                        context: eachResult.context.name,\n                                        // Make the label have an s at the end if it has multiple items\n                                        label: eachResult.results.length > 1 ? eachResult.context.name + 's' : eachResult.context.name,\n                                        type: Types.Group,\n                                        count: eachResult.results.length,\n                                        more: eachResult.more\n                                    }\n                                );\n\n                                eachResult.results.forEach(function(item) {\n                                    item.type = Types.Item;\n                                    results.push(item);\n                                });\n\n                                if (eachResult.more === true) {\n                                    var showMoreElement = {\n                                        context: eachResult.context.name,\n                                        count: eachResult.results.length,\n                                        type: Types.More,\n                                        loadMore: function() {\n                                            $scope.error = undefined;\n                                            SearchResource.query({'_s': $scope.query, '_l': this.count + 10, '_c' : this.context}, function(response) {\n                                                var endIndex = $scope.results.indexOf(showMoreElement);\n\n                                                // The result is context focused, so there is only one search result anyways\n                                                var searchResult = response[0];\n                                                var results = searchResult.results.slice(endIndex - 1); // Remove first elements, as they are already being showed\n                                                results.forEach(function(item, i) {\n                                                    // Add item\n                                                    item.type = Types.Item;\n                                                    $scope.results.splice(endIndex + i, 0, item);\n                                                    showMoreElement.count++;\n                                                });\n                                                // Toggle Selection\n                                                showMoreElement.selected = false;\n                                                $scope.results[$scope.selectedIndex].selected = true;\n\n                                                // Hide element\n                                                if (searchResult.more === false) {\n                                                    $scope.results.splice($scope.results.indexOf(showMoreElement), 1);\n                                                }\n                                            }, function(response) {\n                                                $scope.performSearchExecuted = true;\n                                                globalErrorHandling($scope, response);\n                                            });\n                                        },\n                                        selected: false\n                                    };\n                                    results.push(showMoreElement);\n                                }\n                            });\n                            $scope.results = results;\n                            if ($scope.results.length != 0) {\n                                $scope.selectedIndex = 1;\n                                $scope.results[$scope.selectedIndex].selected = true;\n                            }\n                        },\n                        function(response) {\n                            if (response.status >= 0) {\n                                $scope.performSearchExecuted = true;\n                                globalErrorHandling($scope, response);\n                                $scope.cancelRequest();\n                            } else {\n                                // Request cancelled\n                            }\n                        }\n                    );\n                }, $scope.performSearchDelay);\n            };\n        }])\n    ;\n}());\n","var path = '/home/kevlin/Documents/gracybranch/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html';\nvar html = \"<style type=text/css>.search-result{max-height:700px;min-width:280px;max-width:60%;position:absolute;top:100%;z-index:100000;overflow:auto;border:#343a40 solid 1px}.search-result .list-group-item{padding:.25rem .75rem;font-size:90%}.search-result .list-group-item:last-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.search-bar .form-control{border:none;outline:0;box-shadow:none;border-radius:1rem;padding:0}.search-bar .input-group-text{border-top-left-radius:1rem;border-bottom-left-radius:1rem;background-color:#fff;border-color:#fff}.search-result .list-group-item:hover{background-color:#e9ecef}.selected{background-color:#e9ecef}</style> <form id=onms-search-form autocomplete=off novalidate class=form-inline> <input autocomplete=false name=hidden type=text style=display:none> <div class=\\\"input-group search-bar\\\"> <div class=input-group-prepend> <div class=input-group-text><i class=\\\"fa fa-search\\\"></i></div> </div> <label class=form-control> <input id=onms-search-query ng-change=onQueryChange() ng-focus=\\\"input.focus=true\\\" ng-blur=\\\"input.focus=false\\\" ng-model=query type=text class=form-control placeholder=Search... aria-label=Search> <small class=\\\"text-muted mr-4\\\" ng-show=!input.focus>2x ⇧</small> </label> <div ng-if=showLoadingIndicator class=\\\"btn btn-secondary rounded-0\\\"> <div class=\\\"spinner-border spinner-border-sm text-white\\\" role=status /> <span class=sr-only>Loading...</span> </div> <div ng-if=\\\"performSearchExecuted === true && !showLoadingIndicator\\\" class=input-group-append> <button class=\\\"btn btn-secondary\\\" type=button title=\\\"Reset Search\\\" ng-click=resetQuery()><i class=\\\"fa fa-times\\\"></i></button> </div> <div ng-if=showLoadingIndicator class=input-group-append> <button class=\\\"btn btn-secondary\\\" type=button title=\\\"Cancel Request\\\" ng-click=cancelRequest()><i class=\\\"fa fa-times\\\"></i></button> </div> </div> <div ng-if=\\\"performSearchExecuted === true\\\" class=\\\"bg-dark search-result rounded-bottom\\\" id=onms-search-result> <div class=list-group ng-if=\\\"results.length > 0\\\"> <div id=onms-search-result-item-{{$index}} ng-repeat-start=\\\"item in results track by $index\\\" ng-if=\\\"item.type === 'Group'\\\" class=\\\"list-group-item bg-dark text-grey border-0 pl-2\\\"> <span ng-if=!item.t>{{item.label}}</span> </div> <a id=onms-search-result-item-{{$index}} ng-class=\\\"{'selected': item.selected}\\\" ng-if=\\\"item.type === 'More'\\\" ng-click=item.loadMore() class=\\\"list-group-item list-group-item-action\\\" href ng-mouseover=select($index)>more...</a> <a id=onms-search-result-item-{{$index}} ng-class=\\\"{'selected': item.selected}\\\" ng-repeat-end ng-if=\\\"item.type === 'Item'\\\" href={{item.url}} class=\\\"list-group-item list-group-item-action\\\" ng-mouseover=select($index) ng-click=resetQuery()> <h6 class=mb-0><i class={{item.icon}} ng-if=item.icon>&nbsp;</i>{{item.label}} <i style=-webkit-transform:scaleY(-1);transform:scaleY(-1) class=\\\"fa fa-reply pull-right\\\" ng-if=item.selected></i></h6> <small class=mr-4 ng-class=\\\"{'text-muted': !item.selected}\\\" ng-repeat=\\\"match in item.matches\\\">{{match.label}}: {{match.value}}</small> </a> </div> <div ng-if=\\\"!error && results.length === 0\\\" class=text-grey> <span>No Results found</span> </div> <div ng-if=error class=\\\"alert alert-danger mx-2 my-2\\\"> <span>{{error}}</span> </div> </div> </form> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","const angular = require('vendor/angular-js');\nconst search = require('apps/search');\nconst centralSearch = require('apps/onms-central-search');\n\nconst MODULE_NAME = 'onms.default.apps';\n\nangular.module(MODULE_NAME, [ 'onms.central.search', 'onms-search' ]);\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nmodule.exports = jQuery;\n","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2017 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nconst templateUrl = require('./add-to-ksc.html');\nrequire('lib/onms-http');\nrequire('apps/onms-default-apps');\n\nangular.module('onms-ksc', [\n  'onms.http',\n  'onms.default.apps',\n  'ui.bootstrap',\n  'angular-growl'\n])\n\n.config(['growlProvider', function(growlProvider) {\n  growlProvider.globalTimeToLive(5000);\n  growlProvider.globalPosition('bottom-center');\n}])\n.controller('AddToKscModalInstanceCtrl', ['$scope', '$http', '$uibModalInstance', 'resourceLabel', 'graphTitle', function ($scope, $http, $uibModalInstance, resourceLabel, graphTitle) {\n\n  $scope.resourceLabel = resourceLabel;\n  $scope.graphTitle = graphTitle;\n  $scope.kscReports = [];\n  $scope.timespan = '1_day';\n  $scope.timespans = [\n    '1_hour',\n    '2_hour',\n    '4_hour',\n    '6_hour',\n    '8_hour',\n    '12_hour',\n    '1_day',\n    '2_day',\n    '7_day',\n    '1_month',\n    '3_month',\n    '6_month',\n    '1_year',\n    'Today',\n    'Yesterday',\n    'Yesterday 9am-5pm',\n    'Yesterday 5pm-10pm',\n    'This Week',\n    'Last Week',\n    'This Month',\n    'Last Month',\n    'This Quarter',\n    'Last Quarter',\n    'This Year',\n    'Last Year'\n  ];\n\n  $scope.ok = function () {\n    $uibModalInstance.close({ report: $scope.kscReport, title: $scope.graphTitle, timespan: $scope.timespan });\n  };\n\n  $scope.cancel = function () {\n    $uibModalInstance.dismiss('cancel');\n  };\n\n  $http.get('rest/ksc').then(function(response) {\n    $scope.kscReports = response.data.kscReport;\n  });\n\n}])\n\n.controller('AddToKscCtrl', ['$scope', '$http', '$uibModal', 'growl', function($scope, $http, $uibModal, growl) {\n\n  $scope.open = function(resourceId, resourceLabel, graphName, graphTitle) {\n    $uibModal.open({\n      animation: $scope.animationsEnabled,\n      templateUrl: templateUrl,\n      controller: 'AddToKscModalInstanceCtrl',\n      resolve: {\n        resourceLabel: function() { return resourceLabel; },\n        graphTitle: function() { return graphTitle; }\n      }\n    }).result.then(function (data) {\n      $scope.updateReport(data.report, resourceId, resourceLabel, graphName, data.title, data.timespan);\n    });\n  };\n\n  $scope.updateReport = function(report, resourceId, resourceLabel, graphName, graphTitle, timespan) {\n    var url = 'rest/ksc/' + report.id;\n    $http.get(url).success(function (data) {\n      var found = false;\n      angular.forEach(data.kscGraph, function(r) {\n        if (r.resourceId === resourceId && r.graphtype === graphName) {\n          found = true;\n        }\n      });\n      if (found) {\n        growl.warning('The graph \"' + graphTitle + '\" for resource \"' + resourceLabel + '\" has been already added to \"' + report.label + '\"');\n      } else {\n        $http({\n          url: url,\n          method: 'PUT',\n          params: {\n            title: graphTitle,\n            reportName: graphName,\n            resourceId: resourceId,\n            timespan: timespan\n          }\n        }).success(function() {\n          growl.success('The graph \"' + graphTitle + '\" has been added to \"' + report.label + '\"');\n        }).error(function(msg) {\n          growl.error(msg);\n        });\n      }\n    }).error(function(msg) {\n      growl.error(msg);\n    });\n  };\n}])\n.factory('flowsRestFactory', /* @ngInject */ function ($http, $q) {\n  var resources = {};\n\n  resources.getFlowGraphUrl = function(nodeId, ifIndex , start, end) {\n      var deferred = $q.defer();\n      $http({\n        url: 'rest/flows/flowGraphUrl',\n        method: 'GET',\n        params: { exporterNode : nodeId,\n                  ifIndex : ifIndex,\n                  start : start,\n                  end : end,\n                  limit: 0 }\n      }).success(function(data) {\n        deferred.resolve(data);\n      });\n      return deferred.promise;\n  };\n\n  return resources;\n})\n.factory('graphSearchFactory', function ($rootScope, $filter) {\n  var graphSearch = {};\n  graphSearch.graphs = [];\n  graphSearch.noMatchingGraphs = false;\n  // Update search query and broadcast an update to controllers.\n  graphSearch.updateSearchQuery = function(searchItem) {\n      this.searchQuery = searchItem;\n      this.updateGraphsWithSearchItem();\n  };\n   \n  graphSearch.initialize = function(graphName, graphTitle) {\n      graphSearch.graphs.push(graphName);\n      graphSearch.graphs.push(graphTitle);\n  }\n\n  graphSearch.updateGraphsWithSearchItem = function() {\n    $rootScope.$broadcast('handleSearchQuery');\n    // Check if there is atleast one matching graph else update correponding controller.\n    let matchingGraphs = $filter('filter')(graphSearch.graphs, graphSearch.searchQuery);\n    if (!(matchingGraphs && matchingGraphs.length)) {\n      graphSearch.noMatchingGraphs = true;\n      $rootScope.$broadcast('handleNoMatchingGraphsFound');\n    } else if(graphSearch.noMatchingGraphs){\n      graphSearch.noMatchingGraphs = false;\n      $rootScope.$broadcast('handleNoMatchingGraphsFound');\n    }\n  }\n\n  return graphSearch;\n})\n.controller('graphSearchBoxCtrl', ['$scope', 'graphSearchFactory', function($scope, graphSearchFactory) {\n \n  // Update search query in service.\n  $scope.$watch('searchQuery', function () {\n    if (!angular.isUndefined($scope.searchQuery)) {\n      graphSearchFactory.updateSearchQuery($scope.searchQuery);\n    }\n  });\n  \n}])\n.controller('checkFlowsCtrl', ['$scope', '$http', '$filter', 'flowsRestFactory', 'graphSearchFactory', function($scope, $http, $filter, flowsRestFactory ,\n   graphSearchFactory) {\n\n  $scope.flowCount = 0;\n  $scope.flowsEnabled = false;\n  $scope.hasFlows = false;\n  $scope.nomatchingGraphs = false;\n  $scope.flowGraphUrl = '';\n  $scope.getFlowInfo = function(nodeId, ifIndex , start, end) {\n    if (nodeId === 0 || ifIndex === 0) {\n      return;\n    }\n    flowsRestFactory.getFlowGraphUrl(nodeId, ifIndex, start, end)\n      .then(function (data) {\n        $scope.flowGraphUrl = data.flowGraphUrl;\n        $scope.flowCount = data.flowCount;\n        if ($scope.flowGraphUrl) {\n            $scope.flowsEnabled = true;\n            if ( $scope.flowCount > 0) {\n                     $scope.hasFlows = true;\n            } else {\n              $scope.flowGraphUrl = null;\n            } \n        }\n      });\n  };\n  // When graph search doesn't yield any results, set/reset noMatchingGraphs\n  $scope.$on('handleNoMatchingGraphsFound', function () {\n      $scope.nomatchingGraphs = graphSearchFactory.noMatchingGraphs;\n  });\n}])\n.controller('graphSearchCtrl', ['$scope', '$timeout', '$filter', '$attrs', '$element', 'graphSearchFactory', function($scope, $timeout, $filter, $attrs, $element, graphSearchFactory) {\n\n  let graphName = $attrs.graphname;\n  let graphTitle = $attrs.graphtitle;\n  // Update service with graphname and graphtitle.\n  graphSearchFactory.initialize(graphName, graphTitle);\n  $scope.enableGraph = true;\n  // Handle search query update and enable graphs with matching search query.\n  $scope.$on('handleSearchQuery', function () {\n    let searchQuery = graphSearchFactory.searchQuery;\n    // Filter on graphName or graphTitle.\n    let matchingElements = $filter('filter')([graphName, graphTitle], searchQuery);\n    if (matchingElements && matchingElements.length) {\n      $scope.enableGraph = true;\n      if(searchQuery) {\n        // Send event for the specific div to check if they are in viewport.\n        // Hack : Triggering event without adding it to timeout actually doesn't give rendering engine to finish re-arranging divs.\n        // Sending with timeout(0) will prioritize rendering engine since it is already in event loop.\n          $timeout(function () {\n            angular.element($element).find('.graph-container').trigger('renderGraph');\n          }, 0);\n      }\n    } else {\n      $scope.enableGraph = false;\n    }\n  });\n}]);\n","var path = '/home/kevlin/Documents/gracybranch/core/web-assets/src/main/assets/js/apps/add-to-ksc/add-to-ksc.html';\nvar html = \"<ng-form name=kscForm> <div class=modal-header> <h3 class=modal-title>Add {{ graphTitle }} to KSC</h3> </div> <div class=modal-body> <div class=form-group> <label class=col-form-label for=resourceLabel>Resource</label> <input ng-disabled=true class=form-control type=text id=resourceLabel name=resourceLabel ng-model=resourceLabel ng-class=\\\"{ 'is-invalid' : kscForm.graphTitle.$invalid }\\\"/> </div> <div class=form-group> <label class=col-form-label for=graphTitle>Graph Title</label> <input required class=form-control type=text id=graphTitle name=graphTitle ng-model=graphTitle placeholder=\\\"Graph Title\\\" ng-class=\\\"{ 'is-invalid' : kscForm.graphTitle.$invalid }\\\"/> <p class=invalid-feedback>Graph title is required.</p> </div> <div class=form-group> <label class=col-form-label for=timespan>Time Range</label> <input required class=form-control type=text id=timespan name=timespan ng-model=timespan placeholder=\\\"Choose the target time range here...\\\" uib-typeahead=\\\"timespan as timespan for timespan in timespans | filter:$viewValue\\\" typeahead-editable=false typeahead-min-length=0 ng-class=\\\"{ 'is-invalid' : kscForm.timespan.$invalid }\\\"/> <p class=invalid-feedback>Time range is required.</p> </div> <div class=form-group> <label class=col-form-label for=kscReport>Target KSC Report</label> <input required class=form-control type=text id=kscReport name=kscReport ng-model=kscReport placeholder=\\\"Choose the target KSC Report by typing the name here...\\\" uib-typeahead=\\\"ksc as ksc.label for ksc in kscReports | filter:$viewValue\\\" typeahead-editable=false typeahead-min-length=0 ng-class=\\\"{ 'is-invalid' : kscForm.kscReport.$invalid }\\\"/> <p class=invalid-feedback>Target KSC Report is required.</p> </div> </div> <div class=modal-footer> <button class=\\\"btn btn-primary\\\" type=button ng-click=ok() ng-disabled=kscForm.$invalid>Add <span class=\\\"fa fa-save\\\"/></button> <button class=\\\"btn btn-warning\\\" type=button ng-click=cancel()>Cancel</button> </div> </ng-form> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                window.location.href = baseTags[0].href + 'login.jsp?session_expired=true';\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;"],"sourceRoot":""}