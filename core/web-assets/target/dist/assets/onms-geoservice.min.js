!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[45,2,8,25,38,42,48,65,71],{10:function(e,exports,t){"use strict";console.log("init: bootstrap-js");var jQuery=t(5);t(27),e.exports=jQuery},100:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,' <span ng-repeat="value in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, value)" style=margin-bottom:3px;margin-right:3px> {{value}}&nbsp;<i class="fa fa-close"/> </button> </span> <span style=line-height:24px ng-hide=editing> <a href style=text-decoration:none ng-click=edit()><i class="fa fa-edit fa-lg"/></a>&nbsp; </span> <span ng-show=editing class=text-nowrap> <input type={{valueType}} ng-keyup=onKeyup($event) ng-model=newValue /> <a href style=text-decoration:none ng-click="add(values, newValue)"><i class="fa fa-plus fa-lg"/></a> <a href style=text-decoration:none ng-click=unedit()><i class="fa fa-close fa-lg"/></a> </span> <span ng-transclude/> ')}]),e.exports=t},101:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,' <span ng-repeat="(key,value) in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, key)" style=margin-bottom:3px;margin-right:3px> <b>{{key}}:</b> {{value}}&nbsp;<i class="fa fa-close"/> </button> </span> <span style=line-height:24px ng-hide=editing> <a href style=text-decoration:none ng-click=edit()><i class="fa fa-edit fa-lg"/></a>&nbsp; </span> <span ng-show=editing class=text-nowrap> <input type={{keyType}} ng-keyup=onKeyup($event) ng-model=newKey /> <input type={{valueType}} ng-keyup=onKeyup($event) ng-model=newValue /> <a href style=text-decoration:none ng-click="add(values, newKey, newValue)"><i class="fa fa-plus fa-lg"/></a> <a href style=text-decoration:none ng-click=unedit()><i class="fa fa-close fa-lg"/></a> </span> <span ng-transclude/> ')}]),e.exports=t},15:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=modal-header> <h3><i class="fa fa-exclamation-triangle text-warning"></i> Permission Denied</h3> </div> <div class=modal-body> <h5> You are not allowed to perform the requested action. </h5> <p class=text-muted> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class=modal-footer> <button class="btn btn-primary" ng-click=reload()>Reload</button> </div>')}]),e.exports=t},18:function(e,exports,t){"use strict";t(6)(exports,"__esModule",{value:!0}),exports.default=void 0;var r,a=(r=t(6))&&r.__esModule?r:{default:r};function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,a.default)(e,o.key,o)}}var n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(t,null,[{key:"getBaseHref",value:function(){var e=document.getElementsByTagName("base")[0];return e?e.href:""}},{key:"setLocation",value:function(e){window&&window.location&&(window.location.href=t.getBaseHref()+e)}},{key:"toggle",value:function(e,t){var r=document.getElementsByName(t);for(var o in r)r.hasOwnProperty(o)&&(r[o].checked=e)}}]),t}();exports.default=n},28:function(e,exports,t){"use strict";var r,o=(r=t(18))&&r.__esModule?r:{default:r};var angular=t(3);t(9);var a=t(29),n=t(30);angular.module("onms-search",["onms.http","ui.bootstrap"]).directive("onmsSearchNodes",function(){return{restrict:"E",transclude:!0,templateUrl:n,controller:"NodeSearchCtrl"}}).directive("onmsSearchKsc",function(){return{restrict:"E",transclude:!0,templateUrl:a,controller:"KscSearchCtrl"}}).controller("NodeSearchCtrl",["$scope","$window","$http",function($scope,t,r){$scope.getNodes=function(e){return r({url:"rest/nodes",method:"GET",params:{label:e,comparator:"contains"}}).then(function(e){return e.data.node})},$scope.goToChooseResources=function(e){t.location.href=o.default.getBaseHref()+"graph/chooseresource.jsp?node="+e.id}}]).controller("KscSearchCtrl",["$scope","$window","$http","$filter",function($scope,t,e,r){$scope.getKscReports=function(t){return e({url:"rest/ksc",method:"GET"}).then(function(e){return r("filter")(e.data.kscReport,t)})},$scope.goToKscReport=function(e){t.location.href=o.default.getBaseHref()+"KSC/customView.htm?type=custom&report="+e.id}}])},29:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/search/template.ksc.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=form-group> <div class=input-group> <input type=text class=form-control ng-model=asyncKsc placeholder="Type the KSC report name" uib-typeahead="ksc as ksc.label for ksc in getKscReports($viewValue)" typeahead-editable=false typeahead-loading=kscLoadingNodes typeahead-no-results=kscNoResults typeahead-min-length=1 typeahead-on-select=goToKscReport($item) /> <div class=input-group-append> <span class=input-group-text><i class="fa fa-search"></i></span> </div> </div> <i ng-show=kscLoadingNodes class="fa fa-refresh"></i> <p class="form-text text-muted" ng-show=kscNoResults> <i class="fa fa-remove"></i> No Results Found </p> </div> ')}]),e.exports=t},3:function(e,exports,t){"use strict";var angular=t(26);t(37),t(38),t(39),t(40),t(36),t(41),t(42),t(43),t(44),t(10),t(45),t(46),console.log("init: angular-js"),e.exports=window.angular=angular},30:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/search/template.nodes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=form-group> <div class=input-group> <input type=text class=form-control ng-model=asyncNode placeholder="Type the node label" uib-typeahead="node as node.label for node in getNodes($viewValue)" typeahead-editable=false typeahead-loading=nodeLoadingNodes typeahead-no-results=nodeNoResults typeahead-min-length=1 typeahead-on-select=goToChooseResources($item) /> <div class=input-group-append> <span class=input-group-text><i class="fa fa-search"></i></span> </div> </div> <i ng-show=nodeLoadingNodes class="fa fa-refresh"></i> <p class="form-text text-muted" ng-show=nodeNoResults> <i class="fa fa-remove"></i> No Results Found </p> </div> ')}]),e.exports=t},31:function(e,exports,t){"use strict";t(16),t(12);var f=r(t(13)),m=r(t(32)),g=r(t(11)),p=r(t(8)),n=r(t(53));function r(e){return e&&e.__esModule?e:{default:e}}var angular=t(3);t(9),t(71),t(72),t(59);function h(e,t){t.data?e.error=t.data:e.error="An unexpected error occurred while handling the request"}var o=t(33);angular.module("onms.central.search",["angular-loading-bar","ngResource","ui.router","onms.http"]).directive("onmsCentralSearch",function(){return{restrict:"E",transclude:!1,templateUrl:o,controller:"QuickSearchController"}}).factory("SearchResource",["$resource",function(e){return e("api/v2/search",{},{query:{method:"GET",isArray:!0,cancellable:!0}})}]).controller("QuickSearchController",["$scope","SearchResource","$timeout","$document",function($scope,o,s,e){var i=13,t=16,r=27,l=38,c=40,a="Group",d="Item",u="More";$scope.query="",$scope.results={},$scope.performSearchExecuted=!1,$scope.showLoadingIndicator=!1,$scope.showLoadingIndicatorDelay=250,$scope.performSearchDelay=500,$scope.performSearchPromise=void 0,$scope.performSearchHandle=void 0,$scope.showLoadingIndicatorPromise=void 0,$scope.shiftLastPressed=void 0,($scope.selectedIndex=0,n.default)(e).call(e,"mousedown",function(e){var t=0<$("#onms-search-form").has(e.target).length,r=$("#onms-search-form").is(e.target);t||r||s(function(){$scope.resetQuery(),$scope.cancelRequest()})}),(0,n.default)(e).call(e,"keyup",function(e){s(function(){e.keyCode===t&&new Date-$scope.shiftLastPressed<=350?(angular.element("#onms-search-query").focus(),angular.element("#onms-search-query").select(),$scope.shiftLastPressed=void 0):e.keyCode===t&&($scope.shiftLastPressed=new Date),e.keyCode===r&&($scope.resetQuery(),$scope.cancelRequest())})}),(0,n.default)(e).call(e,"keydown",function(n){s(function(){if(0<$scope.results.length){var e=document.getElementById("onms-search-result-item-"+$scope.selectedIndex);if(n.keyCode===l||n.keyCode===c){$scope.navigateSearchResult(n.keyCode);var t=document.getElementById("onms-search-result"),r=t.clientHeight,o=e.clientHeight,a=e.offsetTop;a+o+25>=r+t.scrollTop&&(t.scrollTop=a),0!==t.scrollTop&&t.scrollTop>a-o&&(t.scrollTop=a-o)}n.keyCode===i&&($scope.results[$scope.selectedIndex].type===u?s(function(){angular.element(e).triggerHandler("click")},0):($scope.resetQuery(),$scope.cancelRequest(),e.click()))}})}),$scope.navigateSearchResult=function(e){switch($scope.results[$scope.selectedIndex].selected=!1,e){case l:$scope.selectedIndex--;break;case c:$scope.selectedIndex++}$scope.selectedIndex<1&&($scope.selectedIndex=1),$scope.selectedIndex>=$scope.results.length&&($scope.selectedIndex=$scope.results.length-1),$scope.results[$scope.selectedIndex].type===a?$scope.navigateSearchResult(e):$scope.results[$scope.selectedIndex].selected=!0},$scope.resetQuery=function(){$scope.query="",$scope.results=[],$scope.performSearchExecuted=!1,$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest()},$scope.cancelRequest=function(){$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest(),$scope.showLoadingIndicator=!1,s.cancel($scope.showLoadingIndicatorPromise)},$scope.select=function(e){var t=e||1;1<=$scope.selectedIndex&&($scope.results[$scope.selectedIndex].selected=!1),$scope.selectedIndex=t,$scope.results[$scope.selectedIndex].selected=!0},$scope.onQueryChange=function(){0!=$scope.query.length?$scope.query.length<3||(s.cancel($scope.performSearchPromise),$scope.results=[],$scope.performSearchExecuted=!1,$scope.performSearchPromise=s(function(){s.cancel($scope.showLoadingIndicatorPromise),$scope.showLoadingIndicatorPromise=s(function(){$scope.showLoadingIndicator=!0},$scope.showLoadingIndicatorDelay),$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest(),$scope.error=void 0,$scope.performSearchHandle=o.query({_s:$scope.query},function(e){$scope.cancelRequest(),$scope.performSearchExecuted=!0;var r=[];(0,p.default)(e).call(e,function(e){var t;if(r.push({context:e.context.name,label:1<e.results.length?e.context.name+"s":e.context.name,type:a,count:e.results.length,more:e.more}),(0,p.default)(t=e.results).call(t,function(e){e.type=d,r.push(e)}),!0===e.more){var l={context:e.context.name,count:e.results.length,type:u,loadMore:function(){$scope.error=void 0,o.query({_s:$scope.query,_l:this.count+10,_c:this.context},function(e){var t,r,o,a,n=(0,g.default)(t=$scope.results).call(t,l),s=e[0],i=(0,m.default)(r=s.results).call(r,n-1);(0,p.default)(i).call(i,function(e,t){var r;e.type=d,(0,f.default)(r=$scope.results).call(r,n+t,0,e),l.count++}),l.selected=!1,!($scope.results[$scope.selectedIndex].selected=!0)===s.more&&(0,f.default)(o=$scope.results).call(o,(0,g.default)(a=$scope.results).call(a,l),1)},function(e){$scope.performSearchExecuted=!0,h($scope,e)})},selected:!1};r.push(l)}}),$scope.results=r,0!=$scope.results.length&&($scope.selectedIndex=1,$scope.results[$scope.selectedIndex].selected=!0)},function(e){0<=e.status&&($scope.performSearchExecuted=!0,h($scope,e),$scope.cancelRequest())})},$scope.performSearchDelay)):$scope.resetQuery()}}])},33:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<style type=text/css>.search-result{max-height:700px;min-width:280px;max-width:60%;position:absolute;top:100%;z-index:100000;overflow:auto;border:#343a40 solid 1px}.search-result .list-group-item{padding:.25rem .75rem;font-size:90%}.search-result .list-group-item:last-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.search-bar .form-control{border:none;outline:0;box-shadow:none;border-radius:1rem;padding:0}.search-bar .input-group-text{border-top-left-radius:1rem;border-bottom-left-radius:1rem;background-color:#fff;border-color:#fff}.search-result .list-group-item:hover{background-color:#e9ecef}.selected{background-color:#e9ecef}</style> <form id=onms-search-form autocomplete=off novalidate class=form-inline> <input autocomplete=false name=hidden type=text style=display:none> <div class="input-group search-bar"> <div class=input-group-prepend> <div class=input-group-text><i class="fa fa-search"></i></div> </div> <label class=form-control> <input id=onms-search-query ng-change=onQueryChange() ng-focus="input.focus=true" ng-blur="input.focus=false" ng-model=query type=text class=form-control placeholder=Search... aria-label=Search> <small class="text-muted mr-4" ng-show=!input.focus>2x ⇧</small> </label> <div ng-if=showLoadingIndicator class="btn btn-secondary rounded-0"> <div class="spinner-border spinner-border-sm text-white" role=status /> <span class=sr-only>Loading...</span> </div> <div ng-if="performSearchExecuted === true && !showLoadingIndicator" class=input-group-append> <button class="btn btn-secondary" type=button title="Reset Search" ng-click=resetQuery()><i class="fa fa-times"></i></button> </div> <div ng-if=showLoadingIndicator class=input-group-append> <button class="btn btn-secondary" type=button title="Cancel Request" ng-click=cancelRequest()><i class="fa fa-times"></i></button> </div> </div> <div ng-if="performSearchExecuted === true" class="bg-dark search-result rounded-bottom" id=onms-search-result> <div class=list-group ng-if="results.length > 0"> <div id=onms-search-result-item-{{$index}} ng-repeat-start="item in results track by $index" ng-if="item.type === \'Group\'" class="list-group-item bg-dark text-grey border-0 pl-2"> <span ng-if=!item.t>{{item.label}}</span> </div> <a id=onms-search-result-item-{{$index}} ng-class="{\'selected\': item.selected}" ng-if="item.type === \'More\'" ng-click=item.loadMore() class="list-group-item list-group-item-action" href ng-mouseover=select($index)>more...</a> <a id=onms-search-result-item-{{$index}} ng-class="{\'selected\': item.selected}" ng-repeat-end ng-if="item.type === \'Item\'" href={{item.url}} class="list-group-item list-group-item-action" ng-mouseover=select($index) ng-click=resetQuery()> <h6 class=mb-0><i class={{item.icon}} ng-if=item.icon>&nbsp;</i>{{item.label}} <i style=-webkit-transform:scaleY(-1);transform:scaleY(-1) class="fa fa-reply pull-right" ng-if=item.selected></i></h6> <small class=mr-4 ng-class="{\'text-muted\': !item.selected}" ng-repeat="match in item.matches">{{match.label}}: {{match.value}}</small> </a> </div> <div ng-if="!error && results.length === 0" class=text-grey> <span>No Results found</span> </div> <div ng-if=error class="alert alert-danger mx-2 my-2"> <span>{{error}}</span> </div> </div> </form> ')}]),e.exports=t},47:function(e,exports,t){"use strict";var angular=t(3);t(28),t(31);angular.module("onms.default.apps",["onms.central.search","onms-search"])},5:function(e,exports,t){"use strict";console.log("init: jquery-js");var jQuery=t(7);e.exports=jQuery},568:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-geoservice/views/config/nominatim.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div> <div class=jumbotron> <p> Nominatim is a search engine for OpenStreetMap data. It allows to look up the coordinates for a given address (forward search). </p> <p> For more information visit the <a href=https://wiki.openstreetmap.org/wiki/Nominatim target=_blank>Nominatim Wiki Page</a>. </p> <p> Please note, that all usage of the Nominatim Service must follow the <a href=https://operations.osmfoundation.org/policies/nominatim/ target=_blank>Nominatim Usage Policy</a>. </p> </div> <form class=form name=form> <div class=form-group> <label for=nominatimEmail>Email</label> <input id=nominatimEmail name=nominatimEmail class=form-control type=email ng-required=true ng-model=geocoder.config.email ng-class="{ \'is-invalid\' : form.nominatimEmail.$invalid || configError.email }"/> <p id=configError.email class=invalid-feedback>{{configError.email || "Please provide a valid email address"}}</p> </div> <div class=form-group> <label for=nominatimUserAgent>User Agent</label> <input id=nominatimUserAgent name=nominatimUserAgent class=form-control type=text ng-model=geocoder.config.userAgent ng-change=validateFieldsManually() ng-class="{ \'is-invalid\' : form.nominatimUserAgent.$invalid || configError.userAgent }"/> <p id=configError.userAgent class=invalid-feedback>{{configError.userAgent || "User Agent or Referer must be set"}}</p> </div> <div class=form-group> <label for=nominatimReferer>Referer</label> <input id=nominatimReferer name=nominatimReferer class=form-control type=text ng-model=geocoder.config.referer ng-change=validateFieldsManually() ng-class="{ \'is-invalid\' : form.nominatimReferer.$invalid || configError.referer }"/> <p id=configError.referer class=invalid-feedback>{{configError.referer || "User Agent or Referer must be set"}}</p> </div> <div class=form-group> <label style=width:180px for=nominatimAcceptUsageTerms>Accept <a href=https://operations.osmfoundation.org/policies/nominatim/ target=_blank>Usage Terms <i class="fa fa-share-square-o"/></a></label> <toggle id=nominatimAcceptUsageTerms name=nominatimAcceptUsageTerms on=Yes off=No size=btn-sm ng-model=geocoder.config.acceptUsageTerms ng-class="{ \'is-invalid\' : form.nominatimAcceptUsageTerms.$invalid || geocoder.config.acceptUsageTerms === false || configError.acceptUsageTerms }"/> <p id=configError.acceptUsageTerms class=invalid-feedback>{{configError.acceptUsageTerms || "Please accept the usage terms"}}</p> </div> <div class=form-group> <label style=width:180px for=nominatimSystemProxy>Use System Proxy</label> <toggle id=nominatimSystemProxy name=nominatimSystemProxy on=Yes off=No size=btn-sm ng-model=geocoder.config.useSystemProxy ng-class="{ \'is-invalid\' : form.nominatimSystemProxy.$invalid || configError.useSystemProxy }"/> <p id=configError.useSystemProxy class=invalid-feedback>{{configError.useSystemProxy}}</p> </div> <p class=text-warning ng-if=form.$dirty>You have unsaved changes</p> <button id=saveButton class="btn btn-primary" type=button ng-click=save() ng-disabled="!form.$dirty || form.$invalid || validateFieldsManually() !== true"><i class="fa fa-save"></i> Save</button> </form> </div>')}]),e.exports=t},569:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-geoservice/views/config/google.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div> <form class=form name=form> <div class=jumbotron> <p> The Google Geocoding API is a service that provides geocoding and reverse geocoding of addresses. </p> <p> For more information refer to the <a href=https://developers.google.com/maps/documentation/geocoding/start target=_blank>official documentation</a>. </p> </div> <div class=form-group> <div class=form-check> <input class=form-check-input type=checkbox id=googleClientIdAuthentication name=googleClientIdAuthentication ng-model=geocoder.config.useEnterpriseCredentials> <label class=form-check-label for=googleClientIdAuthentication> Use clientId and signature to authenticate </label> </div> </div> <div class=form-group ng-if=!geocoder.config.useEnterpriseCredentials> <label for=googleApiKey>API Key</label> <input id=googleApiKey name=googleApiKey class=form-control type=text ng-required=true ng-model=geocoder.config.apiKey ng-class="{ \'is-invalid\' : form.googleApiKey.$invalid || configError.apiKey }"/> <p id=configError.apiKey class=invalid-feedback>{{configError.apiKey || "Please provide a value"}}</p> </div> <div class=form-group ng-if=geocoder.config.useEnterpriseCredentials> <label for=googleClientId>Client ID</label> <input id=googleClientId name=googleClientId class=form-control type=text ng-required=true ng-model=geocoder.config.clientId ng-class="{ \'is-invalid\' : form.googleClientId.$invalid || configError.clientId }"/> <p id=configError.clientId class=invalid-feedback>{{configError.clientId || "Please provide a value"}}</p> </div> <div class=form-group ng-if=geocoder.config.useEnterpriseCredentials> <label for=googleClientKey>Signature</label> <input id=googleClientKey name=googleClientKey class=form-control type=text ng-required=true ng-model=geocoder.config.signature ng-class="{ \'is-invalid\' : form.googleClientKey.$invalid || configError.signature }"/> <p id=configError.signature class=invalid-feedback>{{configError.signature || "Please provide a value"}}</p> </div> <div class=form-group> <label for=googleTimeout>Timeout (ms)</label> <input id=googleTimeout name=googleTimeout min=0 class=form-control type=number ng-model=geocoder.config.timeout ng-class="{ \'is-invalid\' : form.googleTimeout.$invalid || configError.timeout }"/> <p id=configError.timeout class=invalid-feedback>{{configError.timeout || "Timeout must be >= 0"}}</p> </div> <div class=form-group> <label class=mr-2 for=googleSystemProxy>Use System Proxy</label> <toggle id=googleSystemProxy name=googleSystemProxy ng-model=geocoder.config.useSystemProxy on=Yes off=No size=btn-sm ng-class="{ \'is-invalid\' : form.googleSystemProxy.$invalid || configError.useSystemProxy }"/> <p id=configError.useSystemProxy class=invalid-feedback>{{configError.useSystemProxy}}</p> </div> <p class=text-warning ng-if=form.$dirty>You have unsaved changes</p> <button id=saveButton class="btn btn-primary" type=button ng-click=save() ng-disabled="!form.$dirty || form.$invalid || validateFieldsManually() !== true"><i class="fa fa-save"></i> Save</button> </form> </div>')}]),e.exports=t},570:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-geoservice/views/config/mapquest.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div> <div class=jumbotron> <p> In order to use Mapquest, you must register and sign up for an API Key. </p> <p> For more information visit the <a href=https://developer.mapquest.com/documentation/geocoding-api/ target=_blank>Mapquest Geocoding API Page</a>. </p> </div> <form class=form name=form> <div class=form-group> <label for=mapquestApiKey>API Key</label> <input id=mapquestApiKey name=mapquestApiKey class=form-control type=text ng-required=true ng-model=geocoder.config.apiKey ng-class="{ \'is-invalid\' : form.mapquestApiKey.$invalid || configError.apiKey }"/> <p id=configError.apiKey class=invalid-feedback>{{configError.apiKey || "Please provide a value"}}</p> </div> <div class=form-group> <label for=mapquestSystemProxy class=mr-2>Use System Proxy</label> <toggle id=mapquestSystemProxy name=mapquestSystemProxy ng-model=geocoder.config.useSystemProxy on=Yes off=No size=btn-sm ng-class="{ \'is-invalid\' : form.mapquestSystemProxy.$invalid || configError.useSystemProxy }"/> <p id=configError.useSystemProxy class=invalid-feedback>{{configError.useSystemProxy}}</p> </div> <p class=text-warning ng-if=form.$dirty>You have unsaved changes</p> <button id=saveButton class="btn btn-primary" type=button ng-click=save() ng-disabled="!form.$dirty || form.$invalid || validateFieldsManually() !== true"><i class="fa fa-save"></i> Save</button> </form> </div>')}]),e.exports=t},827:function(e,exports,r){"use strict";r(12);var a=t(r(81)),n=t(r(8)),s=t(r(162)),o=t(r(20));function t(e){return e&&e.__esModule?e:{default:e}}var angular=r(3);r(96);r(9),r(47),r(71),r(72),r(59);var i,l=r(828),c=r(829);r(568),r(569),r(570);(0,o.default)(i=angular.module("onms.geoservice",["angular-loading-bar","angular-growl","ngResource","ui.router","ui.toggle","onms.http","onms.default.apps","onms.elementList"]).config(["$locationProvider",function(e){e.hashPrefix("!"),e.html5Mode(!1)}]).config(["growlProvider",function(e){e.globalTimeToLive({success:2e3,error:5e3,warning:3e3,info:4e3}),e.globalPosition("bottom-center")}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("geocoding",{url:"/geocoding",controller:"GeocoderController",templateUrl:l}).state("geocoding.config",{templateUrl:c,url:"/config",controller:"GeocoderConfigController"}).state("geocoding.details",{templateUrl:function(e){return r(830)("./"+e.id+".html")},url:"/:id",controller:"GeocoderDetailsController"}),t.otherwise("/geocoding/config")}])).call(i,"capitalize",function(){return function(e){return e?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():""}}).factory("GeocodingConfigService",["$resource",function(e){return e("api/v2/geocoding/config",{},{get:{method:"GET"},update:{method:"POST"}})}]).factory("GeocodingGeocoderService",["$resource",function(e){return e("api/v2/geocoding/geocoders/:id",{id:"@id"},{list:{method:"GET",isArray:!0},update:{method:"POST"}})}]).controller("GeocoderController",["$scope","$http","$sce","GeocodingConfigService","GeocodingGeocoderService",function($scope,e,t,r,o){$scope.handleGlobalError=function(e){$scope.globalError="An unexpected error occurred: "+e.statusText,$scope.globalErrorDetails=(0,s.default)(e,null,2)},$scope.refreshTabs=function(){return $scope.config={enabled:!1,activeGeocoderId:void 0},$scope.geocoders=[],$scope.globalError=void 0,r.get(function(e){$scope.config=e},function(e){$scope.handleGlobalError(e)}).$promise.then(function(){return o.list(function(e){var t,r;$scope.geocoders=e,(0,n.default)(t=$scope.geocoders).call(t,function(e){e.name=e.id,e.active=$scope.config.activeGeocoderId===e.id}),(0,a.default)(r=$scope.geocoders).call(r,function(e,t){return e.name.localeCompare(t.name)})},function(e){$scope.handleGlobalError(e)}).$promise})}}]).controller("GeocoderConfigController",["$scope","growl",function($scope,r){$scope.onGeocoderChange=function(e){$scope.config.activeGeocoderId=e.active?e.id:void 0,$scope.config.$update(function(e){var t;r.success("Changes saved successfully"),(0,n.default)(t=$scope.geocoders).call(t,function(e){e.active=$scope.config.activeGeocoderId===e.id})},function(e){$scope.handleGlobalError(e)})},$scope.refreshTabs()}]).controller("GeocoderDetailsController",["$scope","$stateParams","growl",function($scope,r,t){$scope.geocoders=[],$scope.geocoder=void 0,$scope.configError={},$scope.manualValidation={mapquest:function(){return!0},google:function(){return!0},nominatim:function(){return $scope.configError.userAgent=void 0,$scope.configError.referer=void 0,!(!$scope.geocoder.config.userAgent&&!$scope.geocoder.config.referer&&($scope.configError.userAgent="User Agent or Referer must be set",$scope.configError.referer=$scope.configError.userAgent,1))}},$scope.handleGeocoderConfigErrors=function(e){e.context&&e.message?$scope.configError[e.context]=e.message:e.context?$scope.configError[e.context]="Invalid value":t.error("The configuration is not valid. Details were not provided")},$scope.save=function(){if($scope.geocoder){if(!$scope.validateFieldsManually())return;$scope.configError={},$scope.geocoder.$update(function(){t.success("Changes saved successfully."),$scope.form.$setPristine(),$scope.geocoder.error=void 0},function(e){400===e.status&&e.data?$scope.handleGeocoderConfigErrors(e.data):$scope.handleGlobalError(e)})}},$scope.validateFieldsManually=function(){var e=$scope.manualValidation[$scope.geocoder.id];return!e||e()},$scope.refreshTabs().then(function(e){var t=(0,o.default)(e).call(e,function(e){return e.id===r.id});0<t.length&&($scope.geocoder=t[0],$scope.geocoder.error&&$scope.handleGeocoderConfigErrors($scope.geocoder.error))})}])},828:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-geoservice/views/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<style type=text/css>toggle.is-invalid~.invalid-feedback{display:block}</style> <div class="alert alert-danger" ng-if=globalError> <span>{{globalError}}</span> <pre ng-show=globalErrorDetails>{{globalErrorDetails}}</pre> </div> <div class="" class=w-100 ng-if=!globalError> <ul id=tabs class="nav nav-tabs"> <li role=presentation class=nav-item> <a ui-sref-active=active ui-sref=geocoding.config data-name=settings class=nav-link>Settings</a> </li> <li role=presentation ng-repeat="geocoder in geocoders" class=nav-item> <a ui-sref-active=active ui-sref="geocoding.details({\'id\': geocoder.id})" title="{{geocoder.name | capitalize}}" data-name={{geocoder.id}} class=nav-link> {{geocoder.name | capitalize}} <span ng-if="geocoder.id === config.activeGeocoderId && !geocoder.error" class=text-success title="Geocoder is enabled"><i class="fa fa-circle"></i></span> <span ng-if="geocoder.id === config.activeGeocoderId && geocoder.error" class=text-danger title="Geocoder is enabled but not configured properly"><i class="fa fa-exclamation-triangle"></i></span> </a> </li> </ul> <div growl></div> <div class="card border-top-0"> <div class=card-body ui-view> </div> </div> </div>')}]),e.exports=t},829:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-geoservice/views/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class=""> <form class=form name=configForm> <div ng-repeat="geocoder in geocoders"> <div class="mt-3 ml-2"> <label style=width:100px>{{geocoder.id | capitalize}}</label> <toggle id={{geocoder.id}}-toggle class=mr-2 ng-change=onGeocoderChange(geocoder) ng-model=geocoder.active size=btn-sm /> <span class=text-muted ng-show="geocoder.active && geocoder.error"> <a ui-sref="geocoding.details({\'id\': geocoder.id})">Please configure the Geocoder</a> </span> </div> </div> </form> </div> ')}]),e.exports=t},830:function(e,exports,r){var o={"./google.html":569,"./mapquest.html":570,"./nominatim.html":568};function t(e){var t=a(e);return r(t)}function a(e){if(r.o(o,e))return o[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return Object.keys(o)},t.resolve=a,(e.exports=t).id=830},9:function(e,exports,t){"use strict";var r,n=(r=t(51))&&r.__esModule?r:{default:r};var angular=t(3),o=t(15);angular.module("onms.http",["ui.bootstrap"]).factory("InterceptorService",["$q","$rootScope",function(o,a){return{responseError:function(e){var t,r;401===e.status&&e.config&&e.config.url&&((0,n.default)(t=e.config.url).call(t,"rest/")||(0,n.default)(r=e.config.url).call(r,"api/v2/"))&&(console.error("Login Required",e,e.headers),a.$emit("loginRequired"));return 403===e.status&&a.$emit("permissionDenied"),o.reject(e)}}}]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push("InterceptorService")}]).run(["$rootScope","$uibModal",function(e,t){e.$on("loginRequired",function(){var e=document.getElementsByTagName("base");e&&0<e.length&&e[0].href?window.location.href=e[0].href+"login.jsp?session_expired=true":console.warn("Login is required, but cannot forward to login page due to missing base tag.")}),e.$on("permissionDenied",function(){t.open({templateUrl:o,controller:["$scope","$uibModalInstance",function($scope,e){$scope.reload=function(){e.dismiss(),window.location.reload()}}],size:"",backdrop:"static",keyboard:!1})})}]),e.exports=angular},96:function(e,exports,t){"use strict";t(16),t(91),t(24),t(97),t(117),t(65);var r,o,a=d(t(81)),n=d(t(13)),s=d(t(181)),i=d(t(34)),l=d(t(20)),u=d(t(11)),c=d(t(85));function d(e){return e&&e.__esModule?e:{default:e}}var f="onms.elementList";window.ISO_8601_DATE_FORMAT="yyyy-MM-ddTHH:mm:ss.sssZ",window.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS="yyyy-MM-ddTHH:mm:ssZ";var angular=t(3);t(5);t(10);function m(e){return"string"==typeof e?e.replace("!","%21").replace("$","%24").replace("'","%27").replace("(","%28").replace(")","%29").replace("+","%2B").replace(",","%2C").replace(";","%3B").replace("=","%3D"):e}function g(e){for(var t=!0,r="",o=0;o<e.length;o++){switch(t||(r+=";"),r+=e[o].property,e[o].operator){case"EQ":r+="==";break;case"NE":r+="!=";break;case"LT":r+="=lt=";break;case"LE":r+="=le=";break;case"GT":r+="=gt=";break;case"GE":r+="=ge="}r+=m(e[o].value),t=!1}return r}function p(e){for(var t=e.split(";"),r=[],o=[],a=0;a<t.length;a++){var n,s,i,l,c,d;0<(0,u.default)(n=t[a]).call(n,"==")?(r=t[a].split("=="),o.push({property:r[0],operator:"EQ",value:r[1]})):0<(0,u.default)(s=t[a]).call(s,"!=")?(r=t[a].split("!="),o.push({property:r[0],operator:"NE",value:r[1]})):0<(0,u.default)(i=t[a]).call(i,"=lt=")?(r=t[a].split("=lt="),o.push({property:r[0],operator:"LT",value:r[1]})):0<(0,u.default)(l=t[a]).call(l,"=le=")?(r=t[a].split("=le="),o.push({property:r[0],operator:"LE",value:r[1]})):0<(0,u.default)(c=t[a]).call(c,"=gt=")?(r=t[a].split("=gt="),o.push({property:r[0],operator:"GT",value:r[1]})):0<(0,u.default)(d=t[a]).call(d,"=ge=")&&(r=t[a].split("=ge="),o.push({property:r[0],operator:"GE",value:r[1]}))}return o}function h(e,t,r){var o,a=e;return a=(o=t<0?a=0:Math.floor(t/r)*r)<(a=a<0?0:a)?o:a,a=Math.floor(a/r)*r}var v=t(99),y=t(100),b=t(101);(0,l.default)(r=(0,l.default)(o=angular.module("onmsListFilters",[])).call(o,"operator",function(){return function(e,t){var r="string"==typeof t&&-1<(0,u.default)(t).call(t,"*");switch(e){case"EQ":return r?"is like":"equals";case"NE":return r?"is not like":"does not equal";case"LT":return"is less than";case"LE":return"is less than or equal";case"GT":return"is greater than";case"GE":return"is greater than or equal";default:return e}}})).call(r,"isNotEmpty",function(){return function(e){return e&&("string"!=typeof e||""!==(0,i.default)(e).call(e))}}),angular.module(f,[]).config(["$locationProvider",function(e){e.html5Mode({enabled:!0,rewriteLinks:!1})}]).directive("onmsListEditInPlace",function(){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.originalValue=angular.copy($scope.value),$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.editing=!1},$scope.onKeyup=function(e){27===e.keyCode&&$scope.cancel()},$scope.submit=function(){$scope.onSubmit(),$scope.originalValue=$scope.value,$scope.unedit()},$scope.cancel=function(){$scope.value=$scope.originalValue,$scope.unedit()}}],scope:{item:"=",value:"=",valueType:"=",step:"=",onSubmit:"&onSubmit"},templateUrl:v,transclude:!0}}).directive("onmsListEditListInPlace",["$window",function(r){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,s.default)($scope),$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(e,t){r.confirm('Are you sure you want to remove "'+t+'"?')&&((0,n.default)(e).call(e,(0,u.default)(e).call(e,t),1),$scope.onEdit())},$scope.add=function(e,t){e.push(t),(0,a.default)(e).call(e),$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:y,transclude:!0}}]).directive("onmsListEditMapInPlace",["$window",function(r){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newKey=null,$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,s.default)($scope),$scope.newKey,$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(e,t){r.confirm('Are you sure you want to remove "'+t+'"?')&&(delete e[t],$scope.onEdit())},$scope.add=function(e,t,r){e[t]=r,$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",keyType:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:b,transclude:!0}}]).controller("ListCtrl",["$scope","$location","$window","$log","$filter",function($scope,t,e,r,a){r.debug("ListCtrl initializing..."),$scope.defaults={_s:"",searchClauses:[],limit:20,offset:0,orderBy:"",order:"asc"};var o=void 0===t.search().limit?$scope.defaults.limit:0<Number(t.search().limit)?Number(t.search().limit):$scope.defaults.limit;$scope.query={lastOffset:0,maxOffset:0,searchParam:void 0===t.search()._s?$scope.defaults._s:t.search()._s,searchClauses:void 0===t.search()._s?$scope.defaults.searchClauses:p(t.search()._s),limit:o,newLimit:o,offset:void 0===t.search().offset?$scope.defaults.offset:0<Number(t.search().offset)?h(Number(t.search().offset),Number.MAX_VALUE,o):$scope.defaults.offset,orderBy:void 0===t.search().orderBy?$scope.defaults.orderBy:t.search().orderBy,order:void 0===t.search().order?$scope.defaults.order:"asc"===t.search().order?"asc":"desc"},$scope.$watch("query",function(){var e=angular.copy($scope.query);delete e.searchClauses,delete e.newLimit,delete e.lastOffset,delete e.maxOffset,e._s=""===e.searchParam?null:e.searchParam,delete e.searchParam,e.limit!==$scope.defaults.limit&&""!==e.limit||delete e.limit,e.offset!==$scope.defaults.offset&&""!==e.offset||delete e.offset,e.orderBy!==$scope.defaults.orderBy&&""!==e.orderBy||delete e.orderBy,e.order!==$scope.defaults.order&&""!==e.order||delete e.order,e._s!==$scope.defaults._s&&""!==e._s||delete e._s,t.search(e)},!0),$scope.addSearchClause=function(e){angular.isDate(e.value)&&(e.value=a("date")(new Date(e.value),ISO_8601_DATE_FORMAT)),$scope.getSearchClause(e)||($scope.query.searchClauses.push(angular.copy(e)),$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh())},$scope.getSearchClause=function(e){for(var t=0;t<$scope.query.searchClauses.length;t++)if($scope.clauseEquals(e,$scope.query.searchClauses[t]))return $scope.query.searchClauses[t];return null},$scope.clauseEquals=function(e,t){return e.property===t.property&&e.operator===t.operator&&e.value===t.value},$scope.addEpochTimestampSearchClause=function(e){e.value=a("date")(e.value,ISO_8601_DATE_FORMAT),$scope.addSearchClause(e)},$scope.removeSearchClause=function(e){var t,r;(0,n.default)(t=$scope.query.searchClauses).call(t,(0,u.default)(r=$scope.query.searchClauses).call(r,e),1),$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh()},$scope.removeSearchClauses=function(e){for(var t=0;t<e.length;t++){var r,o,a=(0,u.default)(r=$scope.query.searchClauses).call(r,e[t]);if(0<=a)(0,n.default)(o=$scope.query.searchClauses).call(o,a,1)}$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh()},$scope.replaceSearchClause=function(e,t){angular.isDate(t.value)&&(t.value=a("date")(new Date(t.value),ISO_8601_DATE_FORMAT));var r=$scope.getSearchClause(e),o=$scope.getSearchClause(t);r?o?$scope.removeSearchClause(e):(r.property=t.property,r.operator=t.operator,r.value=t.value,$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh()):o||$scope.addSearchClause(t)},$scope.clearSearch=function(){0<$scope.query.searchClauses.length&&($scope.query.searchClauses=[],$scope.query.searchParam="",$scope.refresh())},$scope.changeOrderBy=function(e){$scope.query.orderBy===e?$scope.query.order="asc"===$scope.query.order?"desc":"asc":($scope.query.orderBy=e,$scope.query.order=$scope.defaults.order),$scope.refresh()},$scope.setOffset=function(e){var t=h(e,$scope.query.maxOffset,$scope.query.limit);$scope.query.offset!==t&&($scope.query.offset=t,$scope.refresh())},$scope.setLimit=function(e){e<1?$scope.query.newLimit=$scope.query.limit:$scope.query.limit!==e&&($scope.query.limit=e,$scope.query.offset=h($scope.query.offset,$scope.query.maxOffset,$scope.query.limit),$scope.refresh())},$scope.refresh=function(){r.warn("You need to override $scope.$parent.refresh() in your controller")},$scope.update=function(){r.warn("You need to override $scope.$parent.update() in your controller")},$scope.deleteItem=function(e){r.warn("You need to override $scope.$parent.deleteItem() in your controller")},r.debug("ListCtrl initialized")}]).run(["$rootScope","$log",function(e,t){t.debug("Finished initializing "+f)}]),e.exports={appendTransform:function(e,t){var r=angular.isArray(e)?e:[e];return(0,c.default)(r).call(r,t)},toFiql:g,fromFiql:p,parseContentRange:function(e){if(!e)return{start:0,end:0,total:0};var t=/items\s+?(\d+)\s*-\s*(\d+)\s*\/\s*(\d+)/;return{start:Number(e.replace(t,"$1")),end:Number(e.replace(t,"$2")),total:Number(e.replace(t,"$3"))}},escapeSearchValue:m,normalizeOffset:h}},99:function(e,exports){var t="/home/administrator/Desktop/master27/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class=form-inline ng-submit=submit() style=margin:0> <input ng-show=editing ng-keyup=onKeyup($event) type={{valueType}} step={{step}} ng-model=value /> <span style=line-height:24px ng-hide=editing ng-click=edit()>{{value}}&nbsp;</span> <a href style=text-decoration:none ng-click=edit() ng-hide=editing><i class="fa fa-edit fa-lg"/></a> <a href style=text-decoration:none ng-click=submit() ng-show=editing><i class="fa fa-check fa-lg"/></a> <a href style=text-decoration:none ng-click=cancel() ng-show=editing><i class="fa fa-close fa-lg"/></a> <span ng-transclude/> </form> ')}]),e.exports=t}},[[827,0]]])});
//# sourceMappingURL=onms-geoservice.min.js.map